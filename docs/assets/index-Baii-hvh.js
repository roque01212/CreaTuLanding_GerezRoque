function wb(i,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Rb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rd={exports:{}},Ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Cb(){if(Vv)return Ao;Vv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ao.Fragment=t,Ao.jsx=r,Ao.jsxs=r,Ao}var Mv;function Db(){return Mv||(Mv=1,Rd.exports=Cb()),Rd.exports}var L=Db(),Cd={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function xb(){if(Ov)return Pt;Ov=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function D(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,X={};function at(M,J,ut){this.props=M,this.context=J,this.refs=X,this.updater=ut||k}at.prototype.isReactComponent={},at.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},at.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function tt(){}tt.prototype=at.prototype;function lt(M,J,ut){this.props=M,this.context=J,this.refs=X,this.updater=ut||k}var xt=lt.prototype=new tt;xt.constructor=lt,Z(xt,at.prototype),xt.isPureReactComponent=!0;var Rt=Array.isArray;function St(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,J,ut){var gt=ut.ref;return{$$typeof:i,type:M,key:J,ref:gt!==void 0?gt:null,props:ut}}function O(M,J){return C(M.type,J,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function U(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return J[ut]})}var x=/\/+/g;function jt(M,J){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):J.toString(36)}function ae(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(St,St):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,J,ut,gt,bt){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var Qt=!1;if(M===null)Qt=!0;else switch(Nt){case"bigint":case"string":case"number":Qt=!0;break;case"object":switch(M.$$typeof){case i:case t:Qt=!0;break;case E:return Qt=M._init,Q(Qt(M._payload),J,ut,gt,bt)}}if(Qt)return bt=bt(M),Qt=gt===""?"."+jt(M,0):gt,Rt(bt)?(ut="",Qt!=null&&(ut=Qt.replace(x,"$&/")+"/"),Q(bt,J,ut,"",function(si){return si})):bt!=null&&(V(bt)&&(bt=O(bt,ut+(bt.key==null||M&&M.key===bt.key?"":(""+bt.key).replace(x,"$&/")+"/")+Qt)),J.push(bt)),1;Qt=0;var Ee=gt===""?".":gt+":";if(Rt(M))for(var Se=0;Se<M.length;Se++)gt=M[Se],Nt=Ee+jt(gt,Se),Qt+=Q(gt,J,ut,Nt,bt);else if(Se=D(M),typeof Se=="function")for(M=Se.call(M),Se=0;!(gt=M.next()).done;)gt=gt.value,Nt=Ee+jt(gt,Se++),Qt+=Q(gt,J,ut,Nt,bt);else if(Nt==="object"){if(typeof M.then=="function")return Q(ae(M),J,ut,gt,bt);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Qt}function ot(M,J,ut){if(M==null)return M;var gt=[],bt=0;return Q(M,gt,"","",function(Nt){return J.call(ut,Nt,bt++)}),gt}function mt(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Vt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Mt={map:ot,forEach:function(M,J,ut){ot(M,function(){J.apply(this,arguments)},ut)},count:function(M){var J=0;return ot(M,function(){J++}),J},toArray:function(M){return ot(M,function(J){return J})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Pt.Activity=T,Pt.Children=Mt,Pt.Component=at,Pt.Fragment=r,Pt.Profiler=o,Pt.PureComponent=lt,Pt.StrictMode=s,Pt.Suspense=p,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},Pt.cache=function(M){return function(){return M.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(M,J,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var gt=Z({},M.props),bt=M.key;if(J!=null)for(Nt in J.key!==void 0&&(bt=""+J.key),J)!R.call(J,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&J.ref===void 0||(gt[Nt]=J[Nt]);var Nt=arguments.length-2;if(Nt===1)gt.children=ut;else if(1<Nt){for(var Qt=Array(Nt),Ee=0;Ee<Nt;Ee++)Qt[Ee]=arguments[Ee+2];gt.children=Qt}return C(M.type,bt,gt)},Pt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Pt.createElement=function(M,J,ut){var gt,bt={},Nt=null;if(J!=null)for(gt in J.key!==void 0&&(Nt=""+J.key),J)R.call(J,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(bt[gt]=J[gt]);var Qt=arguments.length-2;if(Qt===1)bt.children=ut;else if(1<Qt){for(var Ee=Array(Qt),Se=0;Se<Qt;Se++)Ee[Se]=arguments[Se+2];bt.children=Ee}if(M&&M.defaultProps)for(gt in Qt=M.defaultProps,Qt)bt[gt]===void 0&&(bt[gt]=Qt[gt]);return C(M,Nt,bt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(M){return{$$typeof:m,render:M}},Pt.isValidElement=V,Pt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:mt}},Pt.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},Pt.startTransition=function(M){var J=S.T,ut={};S.T=ut;try{var gt=M(),bt=S.S;bt!==null&&bt(ut,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(St,Vt)}catch(Nt){Vt(Nt)}finally{J!==null&&ut.types!==null&&(J.types=ut.types),S.T=J}},Pt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Pt.use=function(M){return S.H.use(M)},Pt.useActionState=function(M,J,ut){return S.H.useActionState(M,J,ut)},Pt.useCallback=function(M,J){return S.H.useCallback(M,J)},Pt.useContext=function(M){return S.H.useContext(M)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(M,J){return S.H.useDeferredValue(M,J)},Pt.useEffect=function(M,J){return S.H.useEffect(M,J)},Pt.useEffectEvent=function(M){return S.H.useEffectEvent(M)},Pt.useId=function(){return S.H.useId()},Pt.useImperativeHandle=function(M,J,ut){return S.H.useImperativeHandle(M,J,ut)},Pt.useInsertionEffect=function(M,J){return S.H.useInsertionEffect(M,J)},Pt.useLayoutEffect=function(M,J){return S.H.useLayoutEffect(M,J)},Pt.useMemo=function(M,J){return S.H.useMemo(M,J)},Pt.useOptimistic=function(M,J){return S.H.useOptimistic(M,J)},Pt.useReducer=function(M,J,ut){return S.H.useReducer(M,J,ut)},Pt.useRef=function(M){return S.H.useRef(M)},Pt.useState=function(M){return S.H.useState(M)},Pt.useSyncExternalStore=function(M,J,ut){return S.H.useSyncExternalStore(M,J,ut)},Pt.useTransition=function(){return S.H.useTransition()},Pt.version="19.2.3",Pt}var Lv;function _m(){return Lv||(Lv=1,Cd.exports=xb()),Cd.exports}var B=_m();const Nb=Rb(B),Ib=wb({__proto__:null,default:Nb},[B]);var Dd={exports:{}},wo={},xd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Vb(){return zv||(zv=1,(function(i){function t(Q,ot){var mt=Q.length;Q.push(ot);t:for(;0<mt;){var Vt=mt-1>>>1,Mt=Q[Vt];if(0<o(Mt,ot))Q[Vt]=ot,Q[mt]=Mt,mt=Vt;else break t}}function r(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ot=Q[0],mt=Q.pop();if(mt!==ot){Q[0]=mt;t:for(var Vt=0,Mt=Q.length,M=Mt>>>1;Vt<M;){var J=2*(Vt+1)-1,ut=Q[J],gt=J+1,bt=Q[gt];if(0>o(ut,mt))gt<Mt&&0>o(bt,ut)?(Q[Vt]=bt,Q[gt]=mt,Vt=gt):(Q[Vt]=ut,Q[J]=mt,Vt=J);else if(gt<Mt&&0>o(bt,mt))Q[Vt]=bt,Q[gt]=mt,Vt=gt;else break t}}return ot}function o(Q,ot){var mt=Q.sortIndex-ot.sortIndex;return mt!==0?mt:Q.id-ot.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,D=!1,k=!1,Z=!1,X=!1,at=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function xt(Q){for(var ot=r(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=Q)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=r(g)}}function Rt(Q){if(Z=!1,xt(Q),!k)if(r(p)!==null)k=!0,St||(St=!0,U());else{var ot=r(g);ot!==null&&ae(Rt,ot.startTime-Q)}}var St=!1,S=-1,R=5,C=-1;function O(){return X?!0:!(i.unstable_now()-C<R)}function V(){if(X=!1,St){var Q=i.unstable_now();C=Q;var ot=!0;try{t:{k=!1,Z&&(Z=!1,tt(S),S=-1),D=!0;var mt=A;try{e:{for(xt(Q),T=r(p);T!==null&&!(T.expirationTime>Q&&O());){var Vt=T.callback;if(typeof Vt=="function"){T.callback=null,A=T.priorityLevel;var Mt=Vt(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof Mt=="function"){T.callback=Mt,xt(Q),ot=!0;break e}T===r(p)&&s(p),xt(Q)}else s(p);T=r(p)}if(T!==null)ot=!0;else{var M=r(g);M!==null&&ae(Rt,M.startTime-Q),ot=!1}}break t}finally{T=null,A=mt,D=!1}ot=void 0}}finally{ot?U():St=!1}}}var U;if(typeof lt=="function")U=function(){lt(V)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,jt=x.port2;x.port1.onmessage=V,U=function(){jt.postMessage(null)}}else U=function(){at(V,0)};function ae(Q,ot){S=at(function(){Q(i.unstable_now())},ot)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ot=3;break;default:ot=A}var mt=A;A=ot;try{return Q()}finally{A=mt}},i.unstable_requestPaint=function(){X=!0},i.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var mt=A;A=Q;try{return ot()}finally{A=mt}},i.unstable_scheduleCallback=function(Q,ot,mt){var Vt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Vt+mt:Vt):mt=Vt,Q){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=mt+Mt,Q={id:E++,callback:ot,priorityLevel:Q,startTime:mt,expirationTime:Mt,sortIndex:-1},mt>Vt?(Q.sortIndex=mt,t(g,Q),r(p)===null&&Q===r(g)&&(Z?(tt(S),S=-1):Z=!0,ae(Rt,mt-Vt))):(Q.sortIndex=Mt,t(p,Q),k||D||(k=!0,St||(St=!0,U()))),Q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Q){var ot=A;return function(){var mt=A;A=ot;try{return Q.apply(this,arguments)}finally{A=mt}}}})(Nd)),Nd}var Uv;function Mb(){return Uv||(Uv=1,xd.exports=Vb()),xd.exports}var Id={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Ob(){if(jv)return Tn;jv=1;var i=_m();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Tn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Tn.requestFormReset=function(p){s.d.r(p)},Tn.unstable_batchedUpdates=function(p,g){return p(g)},Tn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var Pv;function Lb(){if(Pv)return Id.exports;Pv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Id.exports=Ob(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function zb(){if(Bv)return wo;Bv=1;var i=Mb(),t=_m(),r=Lb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function jt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case at:return"Profiler";case X:return"StrictMode";case Rt:return"Suspense";case St:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case lt:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S:return n=e.displayName||null,n!==null?n:jt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return jt(e(n))}catch{}}return null}var ae=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Vt=[],Mt=-1;function M(e){return{current:e}}function J(e){0>Mt||(e.current=Vt[Mt],Vt[Mt]=null,Mt--)}function ut(e,n){Mt++,Vt[Mt]=e.current,e.current=n}var gt=M(null),bt=M(null),Nt=M(null),Qt=M(null);function Ee(e,n){switch(ut(Nt,n),ut(bt,e),ut(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ev(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ev(n),e=nv(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(gt),ut(gt,e)}function Se(){J(gt),J(bt),J(Nt)}function si(e){e.memoizedState!==null&&ut(Qt,e);var n=gt.current,a=nv(n,e.type);n!==a&&(ut(bt,e),ut(gt,a))}function Oi(e){bt.current===e&&(J(gt),J(bt)),Qt.current===e&&(J(Qt),Eo._currentValue=mt)}var ze,Hn;function Fn(e){if(ze===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ze=n&&n[1]||"",Hn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Hn}var Ia=!1;function Rn(e,n){if(!e||Ia)return"";Ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($){var Y=$}Reflect.construct(e,[],nt)}else{try{nt.call()}catch($){Y=$}e.call(nt.prototype)}}else{try{throw Error()}catch($){Y=$}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),F=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var W=`
`+I[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Fn(a):""}function Va(e,n){switch(e.tag){case 26:case 27:case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return e.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Rn(e.type,!1);case 11:return Rn(e.type.render,!1);case 1:return Rn(e.type,!0);case 31:return Fn("Activity");default:return""}}function Ma(e){try{var n="",a=null;do n+=Va(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ue=Object.prototype.hasOwnProperty,Fe=i.unstable_scheduleCallback,Ur=i.unstable_cancelCallback,Nl=i.unstable_shouldYield,vs=i.unstable_requestPaint,je=i.unstable_now,Gn=i.unstable_getCurrentPriorityLevel,Li=i.unstable_ImmediatePriority,li=i.unstable_UserBlockingPriority,ln=i.unstable_NormalPriority,Qn=i.unstable_LowPriority,Oa=i.unstable_IdlePriority,_s=i.log,zi=i.unstable_setDisableYieldValue,Yn=null,Te=null;function Cn(e){if(typeof _s=="function"&&zi(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Yn,e)}catch{}}var Ve=Math.clz32?Math.clz32:za,La=Math.log,Ui=Math.LN2;function za(e){return e>>>=0,e===0?32:31-(La(e)/Ui|0)|0}var Dn=256,jr=262144,Me=4194304;function lr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Kn(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=lr(l):(v&=b,v!==0?f=lr(v):a||(a=b&~e,a!==0&&(f=lr(a))))):(b=l&~d,b!==0?f=lr(b):v!==0?f=lr(v):a||(a=l&~e,a!==0&&(f=lr(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Es(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(){var e=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),e}function xn(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Il(e,n,a,l,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,I=e.expirationTimes,F=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Ve(a),nt=1<<W;b[W]=0,I[W]=-1;var Y=F[W];if(Y!==null)for(F[W]=null,W=0;W<Y.length;W++){var $=Y[W];$!==null&&($.lane&=-536870913)}a&=~nt}l!==0&&ui(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function ui(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ve(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function N(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Ve(a),f=1<<l;f&n|e[l]&n&&(e[l]|=n),a&=~f}}function j(e,n){var a=n&-n;return a=(a&42)!==0?1:G(a),(a&(e.suspendedLanes|n))!==0?0:a}function G(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function st(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ct(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:wv(e.type))}function yt(e,n){var a=ot.p;try{return ot.p=e,n()}finally{ot.p=a}}var Et=Math.random().toString(36).slice(2),ft="__reactFiber$"+Et,dt="__reactProps$"+Et,_t="__reactContainer$"+Et,Ot="__reactEvents$"+Et,wt="__reactListeners$"+Et,zt="__reactHandles$"+Et,Yt="__reactResources$"+Et,me="__reactMarker$"+Et;function De(e){delete e[ft],delete e[dt],delete e[Ot],delete e[wt],delete e[zt]}function Ae(e){var n=e[ft];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_t]||a[ft]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=uv(e);e!==null;){if(a=e[ft])return a;e=uv(e)}return n}e=a,a=e.parentNode}return null}function Ht(e){if(e=e[ft]||e[_t]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function we(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function on(e){var n=e[Yt];return n||(n=e[Yt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[me]=!0}var Mn=new Set,_n={};function On(e,n){En(e,n),En(e+"Capture",n)}function En(e,n){for(_n[e]=n,e=0;e<n.length;e++)Mn.add(n[e])}var $n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},kr={};function Xt(e){return Ue.call(kr,e)?!0:Ue.call(Br,e)?!1:$n.test(e)?kr[e]=!0:(Br[e]=!0,!1)}function Pe(e,n,a){if(Xt(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Xe(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ge(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ji(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oe(e){if(!e._valueTracker){var n=Zn(e)?"checked":"value";e._valueTracker=ji(e,n,""+e[n])}}function Ua(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Zn(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ja=/[\n"\\]/g;function Ln(e){return e.replace(ja,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ts(e,n,a,l,f,d,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Vl(e,v,Ft(n)):a!=null?Vl(e,v,Ft(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ft(b):e.removeAttribute("name")}function hu(e,n,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){oe(e);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),oe(e)}function Vl(e,n,a){n==="number"&&qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Pi(e,n,a,l){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function du(e,n,a){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ft(a):""}function Bi(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ft(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),oe(e)}function zn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ol(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&Ml(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&Ml(e,d,n[d])}function bs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return ki.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wr(){}var Ll=null;function or(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qi=null,Hr=null;function Pa(e){var n=Ht(e);if(n&&(e=n.stateNode)){var a=e[dt]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ts(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ln(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var f=l[dt]||null;if(!f)throw Error(s(90));Ts(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Ua(l)}break t;case"textarea":du(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Pi(e,!!a.multiple,n,!1)}}}var As=!1;function Hi(e,n,a){if(As)return e(n,a);As=!0;try{var l=e(n);return l}finally{if(As=!1,(qi!==null||Hr!==null)&&(oc(),qi&&(n=qi,e=Hr,Hr=qi=null,Pa(n),e)))for(n=0;n<e.length;n++)Pa(e[n])}}function Rr(e,n){var a=e.stateNode;if(a===null)return null;var l=a[dt]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(ur)try{var pe={};Object.defineProperty(pe,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",pe,pe),window.removeEventListener("test",pe,pe)}catch{Ba=!1}var Fr=null,zl=null,ka=null;function Ul(){if(ka)return ka;var e,n=zl,a=n.length,l,f="value"in Fr?Fr.value:Fr.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===f[d-l];l++);return ka=f.slice(e,1<l?1-l:void 0)}function qa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function Cr(){return!1}function fn(e){function n(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:Cr,this.isPropagationStopped=Cr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),n}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=fn(fi),Fi=T({},fi,{view:0,detail:0}),jl=fn(Fi),Gi,ws,Qr,Rs=T({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qr&&(Qr&&e.type==="mousemove"?(Gi=e.screenX-Qr.screenX,ws=e.screenY-Qr.screenY):ws=Gi=0,Qr=e),Gi)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),Pl=fn(Rs),Ha=T({},Rs,{dataTransfer:0}),pu=fn(Ha),yu=T({},Fi,{relatedTarget:0}),Fa=fn(yu),Bl=T({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=fn(Bl),Cs=T({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=fn(Cs),Eu=T({},fi,{data:0}),Yr=fn(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Qi(){return Au}var Nn=T({},Fi,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(e){return e.type==="keypress"?qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=fn(Nn),Ru=T({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hi=fn(Ru),c=T({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),y=fn(c),_=T({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=fn(_),q=T({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K=fn(q),ht=T({},fi,{newState:0,oldState:0}),kt=fn(ht),Ge=[9,13,27,32],ue=ur&&"CompositionEvent"in window,Oe=null;ur&&"documentMode"in document&&(Oe=document.documentMode);var cr=ur&&"TextEvent"in window&&!Oe,Kr=ur&&(!ue||Oe&&8<Oe&&11>=Oe),Dr=" ",xr=!1;function Ga(e,n){switch(e){case"keyup":return Ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function XT(e,n){switch(e){case"compositionend":return Ds(n);case"keypress":return n.which!==32?null:(xr=!0,Dr);case"textInput":return e=n.data,e===Dr&&xr?null:e;default:return null}}function $T(e,n){if(xs)return e==="compositionend"||!ue&&Ga(e,n)?(e=Ul(),ka=zl=Fr=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kr&&n.locale!=="ko"?null:n.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ZT[e.type]:n==="textarea"}function dg(e,n,a,l){qi?Hr?Hr.push(l):Hr=[l]:qi=l,n=gc(n,"onChange"),0<n.length&&(a=new Gr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var kl=null,ql=null;function JT(e){Xy(e,0)}function Cu(e){var n=we(e);if(Ua(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(ur){var Mf;if(ur){var Of="oninput"in document;if(!Of){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Of=typeof pg.oninput=="function"}Mf=Of}else Mf=!1;gg=Mf&&(!document.documentMode||9<document.documentMode)}function yg(){kl&&(kl.detachEvent("onpropertychange",vg),ql=kl=null)}function vg(e){if(e.propertyName==="value"&&Cu(ql)){var n=[];dg(n,ql,e,or(e)),Hi(JT,n)}}function WT(e,n,a){e==="focusin"?(yg(),kl=n,ql=a,kl.attachEvent("onpropertychange",vg)):e==="focusout"&&yg()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(ql)}function e1(e,n){if(e==="click")return Cu(n)}function n1(e,n){if(e==="input"||e==="change")return Cu(n)}function r1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Jn=typeof Object.is=="function"?Object.is:r1;function Hl(e,n){if(Jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ue.call(n,f)||!Jn(e[f],n[f]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var a=_g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=_g(a)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=qr(e.document)}return n}function Lf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i1=ur&&"documentMode"in document&&11>=document.documentMode,Ns=null,zf=null,Fl=null,Uf=!1;function Sg(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uf||Ns==null||Ns!==qr(l)||(l=Ns,"selectionStart"in l&&Lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fl&&Hl(Fl,l)||(Fl=l,l=gc(zf,"onSelect"),0<l.length&&(n=new Gr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Ns)))}function Qa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Is={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},jf={},Ag={};ur&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Ya(e){if(jf[e])return jf[e];if(!Is[e])return e;var n=Is[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ag)return jf[e]=n[a];return e}var wg=Ya("animationend"),Rg=Ya("animationiteration"),Cg=Ya("animationstart"),a1=Ya("transitionrun"),s1=Ya("transitionstart"),l1=Ya("transitioncancel"),Dg=Ya("transitionend"),xg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function Nr(e,n){xg.set(e,n),On(n,[e])}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},fr=[],Vs=0,Bf=0;function xu(){for(var e=Vs,n=Bf=Vs=0;n<e;){var a=fr[n];fr[n++]=null;var l=fr[n];fr[n++]=null;var f=fr[n];fr[n++]=null;var d=fr[n];if(fr[n++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Ng(a,f,d)}}function Nu(e,n,a,l){fr[Vs++]=e,fr[Vs++]=n,fr[Vs++]=a,fr[Vs++]=l,Bf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function kf(e,n,a,l){return Nu(e,n,a,l),Iu(e)}function Ka(e,n){return Nu(e,null,null,n),Iu(e)}function Ng(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-Ve(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=a|536870912),d):null}function Iu(e){if(50<ho)throw ho=0,$h=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ms={};function o1(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,n,a,l){return new o1(e,n,a,l)}function qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function di(e,n){var a=e.alternate;return a===null?(a=Wn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ig(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,a,l,f,d){var v=0;if(l=e,typeof e=="function")qf(e)&&(v=1);else if(typeof e=="string")v=db(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Wn(31,a,n,f),e.elementType=C,e.lanes=d,e;case Z:return Xa(a.children,f,d,n);case X:v=8,f|=24;break;case at:return e=Wn(12,a,n,f|2),e.elementType=at,e.lanes=d,e;case Rt:return e=Wn(13,a,n,f),e.elementType=Rt,e.lanes=d,e;case St:return e=Wn(19,a,n,f),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:v=10;break t;case tt:v=9;break t;case xt:v=11;break t;case S:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Wn(v,a,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function Xa(e,n,a,l){return e=Wn(7,e,l,n),e.lanes=a,e}function Hf(e,n,a){return e=Wn(6,e,null,n),e.lanes=a,e}function Vg(e){var n=Wn(18,null,null,0);return n.stateNode=e,n}function Ff(e,n,a){return n=Wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function hr(e,n){if(typeof e=="object"&&e!==null){var a=Mg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ma(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:Ma(n)}}var Os=[],Ls=0,Mu=null,Gl=0,dr=[],mr=0,Yi=null,Xr=1,$r="";function mi(e,n){Os[Ls++]=Gl,Os[Ls++]=Mu,Mu=e,Gl=n}function Og(e,n,a){dr[mr++]=Xr,dr[mr++]=$r,dr[mr++]=Yi,Yi=e;var l=Xr;e=$r;var f=32-Ve(l)-1;l&=~(1<<f),a+=1;var d=32-Ve(n)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Xr=1<<32-Ve(n)+f|a<<f|l,$r=d+e}else Xr=1<<d|a<<f|l,$r=e}function Gf(e){e.return!==null&&(mi(e,1),Og(e,1,0))}function Qf(e){for(;e===Mu;)Mu=Os[--Ls],Os[Ls]=null,Gl=Os[--Ls],Os[Ls]=null;for(;e===Yi;)Yi=dr[--mr],dr[mr]=null,$r=dr[--mr],dr[mr]=null,Xr=dr[--mr],dr[mr]=null}function Lg(e,n){dr[mr++]=Xr,dr[mr++]=$r,dr[mr++]=Yi,Xr=n.id,$r=n.overflow,Yi=e}var hn=null,xe=null,ne=!1,Ki=null,gr=!1,Yf=Error(s(519));function Xi(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(hr(n,e)),Yf}function zg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ft]=e,n[dt]=l,a){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)Zt(go[a],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zt("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Zt("invalid",n);break;case"textarea":Zt("invalid",n),Bi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Wy(n.textContent,a)?(l.popover!=null&&(Zt("beforetoggle",n),Zt("toggle",n)),l.onScroll!=null&&Zt("scroll",n),l.onScrollEnd!=null&&Zt("scrollend",n),l.onClick!=null&&(n.onclick=wr),n=!0):n=!1,n||Xi(e,!0)}function Ug(e){for(hn=e.return;hn;)switch(hn.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:hn=hn.return}}function zs(e){if(e!==hn)return!1;if(!ne)return Ug(e),ne=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fd(e.type,e.memoizedProps)),a=!a),a&&xe&&Xi(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xe=ov(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));xe=ov(e)}else n===27?(n=xe,ua(e.type)?(e=pd,pd=null,xe=e):xe=n):xe=hn?yr(e.stateNode.nextSibling):null;return!0}function $a(){xe=hn=null,ne=!1}function Kf(){var e=Ki;return e!==null&&(Bn===null?Bn=e:Bn.push.apply(Bn,e),Ki=null),e}function Ql(e){Ki===null?Ki=[e]:Ki.push(e)}var Xf=M(null),Za=null,gi=null;function $i(e,n,a){ut(Xf,n._currentValue),n._currentValue=a}function pi(e){e._currentValue=Xf.current,J(Xf)}function $f(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Zf(e,n,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var I=0;I<n.length;I++)if(b.context===n[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),$f(d.return,a,e),l||(v=null);break t}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),$f(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Us(e,n,a,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;Jn(f.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(f===Qt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}f=f.return}e!==null&&Zf(n,e,a,l),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){Za=e,gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dn(e){return jg(Za,e)}function Lu(e,n){return Za===null&&Ja(e),jg(e,n)}function jg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},gi===null){if(e===null)throw Error(s(308));gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else gi=gi.next=n;return a}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},c1=i.unstable_scheduleCallback,f1=i.unstable_NormalPriority,$e={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new u1,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&c1(f1,function(){e.controller.abort()})}var Kl=null,Wf=0,js=0,Ps=null;function h1(e,n){if(Kl===null){var a=Kl=[];Wf=0,js=nd(),Ps={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,n.then(Pg,Pg),n}function Pg(){if(--Wf===0&&Kl!==null){Ps!==null&&(Ps.status="fulfilled");var e=Kl;Kl=null,js=0,Ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d1(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Bg=Q.S;Q.S=function(e,n){Sy=je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),Bg!==null&&Bg(e,n)};var Wa=M(null);function th(){var e=Wa.current;return e!==null?e:be.pooledCache}function zu(e,n){n===null?ut(Wa,Wa.current):ut(Wa,n.pool)}function kg(){var e=th();return e===null?null:{parent:$e._currentValue,pool:e}}var Bs=Error(s(460)),eh=Error(s(474)),Uu=Error(s(542)),ju={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(wr,wr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then(wr,wr);else{if(e=be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw es=n,Bs}}function ts(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(es=a,Bs):a}}var es=null;function Fg(){if(es===null)throw Error(s(459));var e=es;return es=null,e}function Gg(e){if(e===Bs||e===Uu)throw Error(s(483))}var ks=null,Xl=0;function Pu(e){var n=Xl;return Xl+=1,ks===null&&(ks=[]),Hg(ks,e,n)}function $l(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(P,z){if(e){var H=P.deletions;H===null?(P.deletions=[z],P.flags|=16):H.push(z)}}function a(P,z){if(!e)return null;for(;z!==null;)n(P,z),z=z.sibling;return null}function l(P){for(var z=new Map;P!==null;)P.key!==null?z.set(P.key,P):z.set(P.index,P),P=P.sibling;return z}function f(P,z){return P=di(P,z),P.index=0,P.sibling=null,P}function d(P,z,H){return P.index=H,e?(H=P.alternate,H!==null?(H=H.index,H<z?(P.flags|=67108866,z):H):(P.flags|=67108866,z)):(P.flags|=1048576,z)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function b(P,z,H,et){return z===null||z.tag!==6?(z=Hf(H,P.mode,et),z.return=P,z):(z=f(z,H),z.return=P,z)}function I(P,z,H,et){var Ct=H.type;return Ct===Z?W(P,z,H.props.children,et,H.key):z!==null&&(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&ts(Ct)===z.type)?(z=f(z,H.props),$l(z,H),z.return=P,z):(z=Vu(H.type,H.key,H.props,null,P.mode,et),$l(z,H),z.return=P,z)}function F(P,z,H,et){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Ff(H,P.mode,et),z.return=P,z):(z=f(z,H.children||[]),z.return=P,z)}function W(P,z,H,et,Ct){return z===null||z.tag!==7?(z=Xa(H,P.mode,et,Ct),z.return=P,z):(z=f(z,H),z.return=P,z)}function nt(P,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Hf(""+z,P.mode,H),z.return=P,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return H=Vu(z.type,z.key,z.props,null,P.mode,H),$l(H,z),H.return=P,H;case k:return z=Ff(z,P.mode,H),z.return=P,z;case R:return z=ts(z),nt(P,z,H)}if(ae(z)||U(z))return z=Xa(z,P.mode,H,null),z.return=P,z;if(typeof z.then=="function")return nt(P,Pu(z),H);if(z.$$typeof===lt)return nt(P,Lu(P,z),H);Bu(P,z)}return null}function Y(P,z,H,et){var Ct=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ct!==null?null:b(P,z,""+H,et);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===Ct?I(P,z,H,et):null;case k:return H.key===Ct?F(P,z,H,et):null;case R:return H=ts(H),Y(P,z,H,et)}if(ae(H)||U(H))return Ct!==null?null:W(P,z,H,et,null);if(typeof H.then=="function")return Y(P,z,Pu(H),et);if(H.$$typeof===lt)return Y(P,z,Lu(P,H),et);Bu(P,H)}return null}function $(P,z,H,et,Ct){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return P=P.get(H)||null,b(z,P,""+et,Ct);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case D:return P=P.get(et.key===null?H:et.key)||null,I(z,P,et,Ct);case k:return P=P.get(et.key===null?H:et.key)||null,F(z,P,et,Ct);case R:return et=ts(et),$(P,z,H,et,Ct)}if(ae(et)||U(et))return P=P.get(H)||null,W(z,P,et,Ct,null);if(typeof et.then=="function")return $(P,z,H,Pu(et),Ct);if(et.$$typeof===lt)return $(P,z,H,Lu(z,et),Ct);Bu(z,et)}return null}function Tt(P,z,H,et){for(var Ct=null,se=null,At=z,Gt=z=0,Wt=null;At!==null&&Gt<H.length;Gt++){At.index>Gt?(Wt=At,At=null):Wt=At.sibling;var le=Y(P,At,H[Gt],et);if(le===null){At===null&&(At=Wt);break}e&&At&&le.alternate===null&&n(P,At),z=d(le,z,Gt),se===null?Ct=le:se.sibling=le,se=le,At=Wt}if(Gt===H.length)return a(P,At),ne&&mi(P,Gt),Ct;if(At===null){for(;Gt<H.length;Gt++)At=nt(P,H[Gt],et),At!==null&&(z=d(At,z,Gt),se===null?Ct=At:se.sibling=At,se=At);return ne&&mi(P,Gt),Ct}for(At=l(At);Gt<H.length;Gt++)Wt=$(At,P,Gt,H[Gt],et),Wt!==null&&(e&&Wt.alternate!==null&&At.delete(Wt.key===null?Gt:Wt.key),z=d(Wt,z,Gt),se===null?Ct=Wt:se.sibling=Wt,se=Wt);return e&&At.forEach(function(ma){return n(P,ma)}),ne&&mi(P,Gt),Ct}function It(P,z,H,et){if(H==null)throw Error(s(151));for(var Ct=null,se=null,At=z,Gt=z=0,Wt=null,le=H.next();At!==null&&!le.done;Gt++,le=H.next()){At.index>Gt?(Wt=At,At=null):Wt=At.sibling;var ma=Y(P,At,le.value,et);if(ma===null){At===null&&(At=Wt);break}e&&At&&ma.alternate===null&&n(P,At),z=d(ma,z,Gt),se===null?Ct=ma:se.sibling=ma,se=ma,At=Wt}if(le.done)return a(P,At),ne&&mi(P,Gt),Ct;if(At===null){for(;!le.done;Gt++,le=H.next())le=nt(P,le.value,et),le!==null&&(z=d(le,z,Gt),se===null?Ct=le:se.sibling=le,se=le);return ne&&mi(P,Gt),Ct}for(At=l(At);!le.done;Gt++,le=H.next())le=$(At,P,Gt,le.value,et),le!==null&&(e&&le.alternate!==null&&At.delete(le.key===null?Gt:le.key),z=d(le,z,Gt),se===null?Ct=le:se.sibling=le,se=le);return e&&At.forEach(function(Ab){return n(P,Ab)}),ne&&mi(P,Gt),Ct}function _e(P,z,H,et){if(typeof H=="object"&&H!==null&&H.type===Z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:t:{for(var Ct=H.key;z!==null;){if(z.key===Ct){if(Ct=H.type,Ct===Z){if(z.tag===7){a(P,z.sibling),et=f(z,H.props.children),et.return=P,P=et;break t}}else if(z.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===R&&ts(Ct)===z.type){a(P,z.sibling),et=f(z,H.props),$l(et,H),et.return=P,P=et;break t}a(P,z);break}else n(P,z);z=z.sibling}H.type===Z?(et=Xa(H.props.children,P.mode,et,H.key),et.return=P,P=et):(et=Vu(H.type,H.key,H.props,null,P.mode,et),$l(et,H),et.return=P,P=et)}return v(P);case k:t:{for(Ct=H.key;z!==null;){if(z.key===Ct)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){a(P,z.sibling),et=f(z,H.children||[]),et.return=P,P=et;break t}else{a(P,z);break}else n(P,z);z=z.sibling}et=Ff(H,P.mode,et),et.return=P,P=et}return v(P);case R:return H=ts(H),_e(P,z,H,et)}if(ae(H))return Tt(P,z,H,et);if(U(H)){if(Ct=U(H),typeof Ct!="function")throw Error(s(150));return H=Ct.call(H),It(P,z,H,et)}if(typeof H.then=="function")return _e(P,z,Pu(H),et);if(H.$$typeof===lt)return _e(P,z,Lu(P,H),et);Bu(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(a(P,z.sibling),et=f(z,H),et.return=P,P=et):(a(P,z),et=Hf(H,P.mode,et),et.return=P,P=et),v(P)):a(P,z)}return function(P,z,H,et){try{Xl=0;var Ct=_e(P,z,H,et);return ks=null,Ct}catch(At){if(At===Bs||At===Uu)throw At;var se=Wn(29,At,null,P.mode);return se.lanes=et,se.return=P,se}finally{}}}var ns=Qg(!0),Yg=Qg(!1),Zi=!1;function nh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ce&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Iu(e),Ng(e,null,a),n}return Nu(e,l,n,a),Iu(e)}function Zl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,N(e,a)}}function ih(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ah=!1;function Jl(){if(ah){var e=Ps;if(e!==null)throw e}}function Wl(e,n,a,l){ah=!1;var f=e.updateQueue;Zi=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,F=I.next;I.next=null,v===null?d=F:v.next=F,v=I;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==v&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=I))}if(d!==null){var nt=f.baseState;v=0,W=F=I=null,b=d;do{var Y=b.lane&-536870913,$=Y!==b.lane;if($?(Jt&Y)===Y:(l&Y)===Y){Y!==0&&Y===js&&(ah=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var Tt=e,It=b;Y=n;var _e=a;switch(It.tag){case 1:if(Tt=It.payload,typeof Tt=="function"){nt=Tt.call(_e,nt,Y);break t}nt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=It.payload,Y=typeof Tt=="function"?Tt.call(_e,nt,Y):Tt,Y==null)break t;nt=T({},nt,Y);break t;case 2:Zi=!0}}Y=b.callback,Y!==null&&(e.flags|=64,$&&(e.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=$,I=nt):W=W.next=$,v|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(I=nt),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),ia|=v,e.lanes=v,e.memoizedState=nt}}function Kg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Xg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Kg(a[e],n)}var qs=M(null),ku=M(0);function $g(e,n){e=wi,ut(ku,e),ut(qs,n),wi=e|n.baseLanes}function sh(){ut(ku,wi),ut(qs,qs.current)}function lh(){wi=ku.current,J(qs),J(ku)}var tr=M(null),pr=null;function ta(e){var n=e.alternate;ut(Qe,Qe.current&1),ut(tr,e),pr===null&&(n===null||qs.current!==null||n.memoizedState!==null)&&(pr=e)}function oh(e){ut(Qe,Qe.current),ut(tr,e),pr===null&&(pr=e)}function Zg(e){e.tag===22?(ut(Qe,Qe.current),ut(tr,e),pr===null&&(pr=e)):ea()}function ea(){ut(Qe,Qe.current),ut(tr,tr.current)}function er(e){J(tr),pr===e&&(pr=null),J(Qe)}var Qe=M(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||md(a)||gd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var yi=0,qt=null,ye=null,Ze=null,Hu=!1,Hs=!1,rs=!1,Fu=0,to=0,Fs=null,m1=0;function ke(){throw Error(s(321))}function uh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Jn(e[a],n[a]))return!1;return!0}function ch(e,n,a,l,f,d){return yi=d,qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Op:wh,rs=!1,d=a(l,f),rs=!1,Hs&&(d=Wg(n,a,l,f)),Jg(e),d}function Jg(e){Q.H=ro;var n=ye!==null&&ye.next!==null;if(yi=0,Ze=ye=qt=null,Hu=!1,to=0,Fs=null,n)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&Ou(e)&&(Je=!0))}function Wg(e,n,a,l){qt=e;var f=0;do{if(Hs&&(Fs=null),to=0,Hs=!1,25<=f)throw Error(s(301));if(f+=1,Ze=ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Lp,d=n(a,l)}while(Hs);return d}function g1(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?eo(n):n,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(qt.flags|=1024),n}function fh(){var e=Fu!==0;return Fu=0,e}function hh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function dh(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}yi=0,Ze=ye=qt=null,Hs=!1,to=Fu=0,Fs=null}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?qt.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Ye(){if(ye===null){var e=qt.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var n=Ze===null?qt.memoizedState:Ze.next;if(n!==null)Ze=n,ye=e;else{if(e===null)throw qt.alternate===null?Error(s(467)):Error(s(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ze===null?qt.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(e){var n=to;return to+=1,Fs===null&&(Fs=[]),e=Hg(Fs,e,n),n=qt,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Op:wh),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eo(e);if(e.$$typeof===lt)return dn(e)}throw Error(s(438,String(e)))}function mh(e){var n=null,a=qt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=qt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),qt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=O;return n.index++,a}function vi(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=Ye();return gh(n,ye,e)}function gh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var b=v=null,I=null,F=n,W=!1;do{var nt=F.lane&-536870913;if(nt!==F.lane?(Jt&nt)===nt:(yi&nt)===nt){var Y=F.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),nt===js&&(W=!0);else if((yi&Y)===Y){F=F.next,Y===js&&(W=!0);continue}else nt={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=nt,v=d):I=I.next=nt,qt.lanes|=Y,ia|=Y;nt=F.action,rs&&a(d,nt),d=F.hasEagerState?F.eagerState:a(d,nt)}else Y={lane:nt,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=Y,v=d):I=I.next=Y,qt.lanes|=nt,ia|=nt;F=F.next}while(F!==null&&F!==n);if(I===null?v=d:I.next=b,!Jn(d,e.memoizedState)&&(Je=!0,W&&(a=Ps,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ph(e){var n=Ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);Jn(d,n.memoizedState)||(Je=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function tp(e,n,a){var l=qt,f=Ye(),d=ne;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!Jn((ye||f).memoizedState,a);if(v&&(f.memoizedState=a,Je=!0),f=f.queue,_h(rp.bind(null,l,f,e),[e]),f.getSnapshot!==n||v||Ze!==null&&Ze.memoizedState.tag&1){if(l.flags|=2048,Gs(9,{destroy:void 0},np.bind(null,l,f,a,n),null),be===null)throw Error(s(349));d||(yi&127)!==0||ep(l,n,a)}return a}function ep(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=qt.updateQueue,n===null?(n=Gu(),qt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function np(e,n,a,l){n.value=a,n.getSnapshot=l,ip(n)&&ap(e)}function rp(e,n,a){return a(function(){ip(n)&&ap(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Jn(e,a)}catch{return!0}}function ap(e){var n=Ka(e,2);n!==null&&kn(n,e,2)}function yh(e){var n=In();if(typeof e=="function"){var a=e;if(e=a(),rs){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},n}function sp(e,n,a,l){return e.baseState=a,gh(e,ye,typeof l=="function"?l:vi)}function p1(e,n,a,l,f){if($u(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,lp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function lp(e,n){var a=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var b=a(f,l),I=Q.S;I!==null&&I(v,b),op(e,n,b)}catch(F){vh(e,n,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(f,l),op(e,n,d)}catch(F){vh(e,n,F)}}function op(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){up(e,n,l)},function(l){return vh(e,n,l)}):up(e,n,a)}function up(e,n,a){n.status="fulfilled",n.value=a,cp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,lp(e,a)))}function vh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,cp(n),n=n.next;while(n!==l)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function fp(e,n){return n}function hp(e,n){if(ne){var a=be.formState;if(a!==null){t:{var l=qt;if(ne){if(xe){e:{for(var f=xe,d=gr;f.nodeType!==8;){if(!d){f=null;break e}if(f=yr(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){xe=yr(f.nextSibling),l=f.data==="F!";break t}}Xi(l)}l=!1}l&&(n=a[0])}}return a=In(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:n},a.queue=l,a=Ip.bind(null,qt,l),l.dispatch=a,l=yh(!1),d=Ah.bind(null,qt,!1,l.queue),l=In(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,a=p1.bind(null,qt,f,d,a),f.dispatch=a,l.memoizedState=e,[n,a,!1]}function dp(e){var n=Ye();return mp(n,ye,e)}function mp(e,n,a){if(n=gh(e,n,fp)[0],e=Yu(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=eo(n)}catch(v){throw v===Bs?Uu:v}else l=n;n=Ye();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(qt.flags|=2048,Gs(9,{destroy:void 0},y1.bind(null,f,a),null)),[l,d,e]}function y1(e,n){e.action=n}function gp(e){var n=Ye(),a=ye;if(a!==null)return mp(n,a,e);Ye(),n=n.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Gs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=qt.updateQueue,n===null&&(n=Gu(),qt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function pp(){return Ye().memoizedState}function Ku(e,n,a,l){var f=In();qt.flags|=e,f.memoizedState=Gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Xu(e,n,a,l){var f=Ye();l=l===void 0?null:l;var d=f.memoizedState.inst;ye!==null&&l!==null&&uh(l,ye.memoizedState.deps)?f.memoizedState=Gs(n,d,a,l):(qt.flags|=e,f.memoizedState=Gs(1|n,d,a,l))}function yp(e,n){Ku(8390656,8,e,n)}function _h(e,n){Xu(2048,8,e,n)}function v1(e){qt.flags|=4;var n=qt.updateQueue;if(n===null)n=Gu(),qt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function vp(e){var n=Ye().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((ce&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return Xu(4,2,e,n)}function Ep(e,n){return Xu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bp(e,n,a){a=a!=null?a.concat([e]):null,Xu(4,4,Tp.bind(null,n,e),a)}function Eh(){}function Sp(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&uh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Ap(e,n){var a=Ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&uh(n,l[1]))return l[0];if(l=e(),rs){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l}function Th(e,n,a){return a===void 0||(yi&1073741824)!==0&&(Jt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=wy(),qt.lanes|=e,ia|=e,a)}function wp(e,n,a,l){return Jn(a,n)?a:qs.current!==null?(e=Th(e,a,l),Jn(e,n)||(Je=!0),e):(yi&42)===0||(yi&1073741824)!==0&&(Jt&261930)===0?(Je=!0,e.memoizedState=a):(e=wy(),qt.lanes|=e,ia|=e,n)}function Rp(e,n,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=Q.T,b={};Q.T=b,Ah(e,!1,n,a);try{var I=f(),F=Q.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=d1(I,l);no(e,n,W,ir(e))}else no(e,n,l,ir(e))}catch(nt){no(e,n,{then:function(){},status:"rejected",reason:nt},ir())}finally{ot.p=d,v!==null&&b.types!==null&&(v.types=b.types),Q.T=v}}function _1(){}function bh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var f=Cp(e).queue;Rp(e,f,n,mt,a===null?_1:function(){return Dp(e),a(l)})}function Cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dp(e){var n=Cp(e);n.next===null&&(n=e.alternate.memoizedState),no(e,n.next.queue,{},ir())}function Sh(){return dn(Eo)}function xp(){return Ye().memoizedState}function Np(){return Ye().memoizedState}function E1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=ir();e=Ji(a);var l=Wi(n,e,a);l!==null&&(kn(l,n,a),Zl(l,n,a)),n={cache:Jf()},e.payload=n;return}n=n.return}}function T1(e,n,a){var l=ir();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?Vp(n,a):(a=kf(e,n,a,l),a!==null&&(kn(a,e,l),Mp(a,n,l)))}function Ip(e,n,a){var l=ir();no(e,n,a,l)}function no(e,n,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))Vp(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,Jn(b,v))return Nu(e,n,f,0),be===null&&xu(),!1}catch{}finally{}if(a=kf(e,n,f,l),a!==null)return kn(a,e,l),Mp(a,n,l),!0}return!1}function Ah(e,n,a,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(s(479))}else n=kf(e,a,l,2),n!==null&&kn(n,e,2)}function $u(e){var n=e.alternate;return e===qt||n!==null&&n===qt}function Vp(e,n){Hs=Hu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Mp(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,N(e,a)}}var ro={readContext:dn,use:Qu,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};ro.useEffectEvent=ke;var Op={readContext:dn,use:Qu,useCallback:function(e,n){return In().memoizedState=[e,n===void 0?null:n],e},useContext:dn,useEffect:yp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Tp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=In();n=n===void 0?null:n;var l=e();if(rs){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=In();if(a!==void 0){var f=a(n);if(rs){Cn(!0);try{a(n)}finally{Cn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=T1.bind(null,qt,e),[l.memoizedState,e]},useRef:function(e){var n=In();return e={current:e},n.memoizedState=e},useState:function(e){e=yh(e);var n=e.queue,a=Ip.bind(null,qt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Eh,useDeferredValue:function(e,n){var a=In();return Th(a,e,n)},useTransition:function(){var e=yh(!1);return e=Rp.bind(null,qt,e.queue,!0,!1),In().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=qt,f=In();if(ne){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),be===null)throw Error(s(349));(Jt&127)!==0||ep(l,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,yp(rp.bind(null,l,d,e),[e]),l.flags|=2048,Gs(9,{destroy:void 0},np.bind(null,l,d,a,n),null),a},useId:function(){var e=In(),n=be.identifierPrefix;if(ne){var a=$r,l=Xr;a=(l&~(1<<32-Ve(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=m1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sh,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=In();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,qt,!0,a),a.dispatch=n,[e,n]},useMemoCache:mh,useCacheRefresh:function(){return In().memoizedState=E1.bind(null,qt)},useEffectEvent:function(e){var n=In(),a={impl:e};return n.memoizedState=a,function(){if((ce&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:dn,use:Qu,useCallback:Sp,useContext:dn,useEffect:_h,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:Ep,useMemo:Ap,useReducer:Yu,useRef:pp,useState:function(){return Yu(vi)},useDebugValue:Eh,useDeferredValue:function(e,n){var a=Ye();return wp(a,ye.memoizedState,e,n)},useTransition:function(){var e=Yu(vi)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:Sh,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var a=Ye();return sp(a,ye,e,n)},useMemoCache:mh,useCacheRefresh:Np};wh.useEffectEvent=vp;var Lp={readContext:dn,use:Qu,useCallback:Sp,useContext:dn,useEffect:_h,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:Ep,useMemo:Ap,useReducer:ph,useRef:pp,useState:function(){return ph(vi)},useDebugValue:Eh,useDeferredValue:function(e,n){var a=Ye();return ye===null?Th(a,e,n):wp(a,ye.memoizedState,e,n)},useTransition:function(){var e=ph(vi)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:tp,useId:xp,useHostTransitionStatus:Sh,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var a=Ye();return ye!==null?sp(a,ye,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Np};Lp.useEffectEvent=vp;function Rh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ch={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=ir(),f=Ji(l);f.payload=n,a!=null&&(f.callback=a),n=Wi(e,f,l),n!==null&&(kn(n,e,l),Zl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=ir(),f=Ji(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Wi(e,f,l),n!==null&&(kn(n,e,l),Zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=ir(),l=Ji(a);l.tag=2,n!=null&&(l.callback=n),n=Wi(e,l,a),n!==null&&(kn(n,e,a),Zl(n,e,a))}};function zp(e,n,a,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!Hl(a,l)||!Hl(f,d):!0}function Up(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Ch.enqueueReplaceState(n,n.state,null)}function is(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function jp(e){Du(e)}function Pp(e){console.error(e)}function Bp(e){Du(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function kp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dh(e,n,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function qp(e){return e=Ji(e),e.tag=3,e}function Hp(e,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){kp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){kp(n,a,l),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function b1(e,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Us(n,a,f,!0),a=tr.current,a!==null){switch(a.tag){case 31:case 13:return pr===null?uc():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Wh(e,l,f)),!1;case 22:return a.flags|=65536,l===ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Wh(e,l,f)),!1}throw Error(s(435,a.tag))}return Wh(e,l,f),uc(),!1}if(ne)return n=tr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Yf&&(e=Error(s(422),{cause:l}),Ql(hr(e,a)))):(l!==Yf&&(n=Error(s(423),{cause:l}),Ql(hr(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=hr(l,a),f=Dh(e.stateNode,l,f),ih(e,f),qe!==4&&(qe=2)),!1;var d=Error(s(520),{cause:l});if(d=hr(d,a),fo===null?fo=[d]:fo.push(d),qe!==4&&(qe=2),n===null)return!0;l=hr(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Dh(a.stateNode,l,e),ih(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(aa===null||!aa.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=qp(f),Hp(f,e,a,l),ih(a,f),!1}a=a.return}while(a!==null);return!1}var xh=Error(s(461)),Je=!1;function mn(e,n,a,l){n.child=e===null?Yg(n,null,a,l):ns(n,e.child,a,l)}function Fp(e,n,a,l,f){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ja(n),l=ch(e,n,a,v,d,f),b=fh(),e!==null&&!Je?(hh(e,n,f),_i(e,n,f)):(ne&&b&&Gf(n),n.flags|=1,mn(e,n,l,f),n.child)}function Gp(e,n,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!qf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Qp(e,n,d,l,f)):(e=Vu(a.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Uh(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(v,l)&&e.ref===n.ref)return _i(e,n,f)}return n.flags|=1,e=di(d,l),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,a,l,f){if(e!==null){var d=e.memoizedProps;if(Hl(d,l)&&e.ref===n.ref)if(Je=!1,n.pendingProps=l=d,Uh(e,f))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,_i(e,n,f)}return Nh(e,n,a,l,f)}function Yp(e,n,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,n.child=null;return Kp(e,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,d!==null?d.cachePool:null),d!==null?$g(n,d):sh(),Zg(n);else return l=n.lanes=536870912,Kp(e,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(zu(n,d.cachePool),$g(n,d),ea(),n.memoizedState=null):(e!==null&&zu(n,null),sh(),ea());return mn(e,n,f,a),n.child}function io(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,a,l,f){var d=th();return d=d===null?null:{parent:$e._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&zu(n,null),sh(),Zg(n),e!==null&&Us(e,n,l,!0),n.childLanes=f,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,a){return ns(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,er(n),n.memoizedState=null,e}function S1(e,n,a){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ne){if(l.mode==="hidden")return e=Ju(n,l),n.lanes=536870912,io(null,e);if(oh(n),(e=xe)?(e=lv(e,gr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yi!==null?{id:Xr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},a=Vg(e),a.return=n,n.child=a,hn=n,xe=null)):e=null,e===null)throw Xi(n);return n.lanes=536870912,null}return Ju(n,l)}var d=e.memoizedState;if(d!==null){var v=d.dehydrated;if(oh(n),f)if(n.flags&256)n.flags&=-257,n=Xp(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Je||Us(e,n,a,!1),f=(a&e.childLanes)!==0,Je||f){if(l=be,l!==null&&(v=j(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ka(e,v),kn(l,e,v),xh;uc(),n=Xp(e,n,a)}else e=d.treeContext,xe=yr(v.nextSibling),hn=n,ne=!0,Ki=null,gr=!1,e!==null&&Lg(n,e),n=Ju(n,l),n.flags|=4096;return n}return e=di(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Nh(e,n,a,l,f){return Ja(n),a=ch(e,n,a,l,void 0,f),l=fh(),e!==null&&!Je?(hh(e,n,f),_i(e,n,f)):(ne&&l&&Gf(n),n.flags|=1,mn(e,n,a,f),n.child)}function $p(e,n,a,l,f,d){return Ja(n),n.updateQueue=null,a=Wg(n,l,a,f),Jg(e),l=fh(),e!==null&&!Je?(hh(e,n,d),_i(e,n,d)):(ne&&l&&Gf(n),n.flags|=1,mn(e,n,a,d),n.child)}function Zp(e,n,a,l,f){if(Ja(n),n.stateNode===null){var d=Ms,v=a.contextType;typeof v=="object"&&v!==null&&(d=dn(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ch,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},nh(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?dn(v):Ms,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Rh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ch.enqueueReplaceState(d,d.state,null),Wl(n,l,d,f),Jl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,I=is(a,b);d.props=I;var F=d.context,W=a.contextType;v=Ms,typeof W=="object"&&W!==null&&(v=dn(W));var nt=a.getDerivedStateFromProps;W=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==v)&&Up(n,d,l,v),Zi=!1;var Y=n.memoizedState;d.state=Y,Wl(n,l,d,f),Jl(),F=n.memoizedState,b||Y!==F||Zi?(typeof nt=="function"&&(Rh(n,a,nt,l),F=n.memoizedState),(I=Zi||zp(n,a,I,l,Y,F,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,rh(e,n),v=n.memoizedProps,W=is(a,v),d.props=W,nt=n.pendingProps,Y=d.context,F=a.contextType,I=Ms,typeof F=="object"&&F!==null&&(I=dn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==nt||Y!==I)&&Up(n,d,l,I),Zi=!1,Y=n.memoizedState,d.state=Y,Wl(n,l,d,f),Jl();var $=n.memoizedState;v!==nt||Y!==$||Zi||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof b=="function"&&(Rh(n,a,b,l),$=n.memoizedState),(W=Zi||zp(n,a,W,l,Y,$,I)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=$),d.props=l,d.state=$,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Wu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ns(n,e.child,null,f),n.child=ns(n,null,a,f)):mn(e,n,a,f),n.memoizedState=d.state,e=n.child):e=_i(e,n,f),e}function Jp(e,n,a,l){return $a(),n.flags|=256,mn(e,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(e){return{baseLanes:e,cachePool:kg()}}function Mh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=rr),e}function Wp(e,n,a){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(ne){if(f?ta(n):ea(),(e=xe)?(e=lv(e,gr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Yi!==null?{id:Xr,overflow:$r}:null,retryLane:536870912,hydrationErrors:null},a=Vg(e),a.return=n,n.child=a,hn=n,xe=null)):e=null,e===null)throw Xi(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ea(),f=n.mode,b=tc({mode:"hidden",children:b},f),l=Xa(l,f,a,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Vh(a),l.childLanes=Mh(e,v,a),n.memoizedState=Ih,io(null,l)):(ta(n),Oh(n,b))}var I=e.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(d)n.flags&256?(ta(n),n.flags&=-257,n=Lh(e,n,a)):n.memoizedState!==null?(ea(),n.child=e.child,n.flags|=128,n=null):(ea(),b=l.fallback,f=n.mode,l=tc({mode:"visible",children:l.children},f),b=Xa(b,f,a,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,ns(n,e.child,null,a),l=n.child,l.memoizedState=Vh(a),l.childLanes=Mh(e,v,a),n.memoizedState=Ih,n=io(null,l));else if(ta(n),gd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,Ql({value:l,source:null,stack:null}),n=Lh(e,n,a)}else if(Je||Us(e,n,a,!1),v=(a&e.childLanes)!==0,Je||v){if(v=be,v!==null&&(l=j(v,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ka(e,l),kn(v,e,l),xh;md(b)||uc(),n=Lh(e,n,a)}else md(b)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,xe=yr(b.nextSibling),hn=n,ne=!0,Ki=null,gr=!1,e!==null&&Lg(n,e),n=Oh(n,l.children),n.flags|=4096);return n}return f?(ea(),b=l.fallback,f=n.mode,I=e.child,F=I.sibling,l=di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?b=di(F,b):(b=Xa(b,f,a,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,io(null,l),l=n.child,b=e.child.memoizedState,b===null?b=Vh(a):(f=b.cachePool,f!==null?(I=$e._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=kg(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Mh(e,v,a),n.memoizedState=Ih,io(e.child,l)):(ta(n),a=e.child,e=a.sibling,a=di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Oh(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Wn(22,e,null,n),e.lanes=0,e}function Lh(e,n,a){return ns(n,e.child,null,a),e=Oh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),$f(e.return,n,a)}function zh(e,n,a,l,f,d){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function ey(e,n,a){var l=n.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Qe.current,b=(v&2)!==0;if(b?(v=v&1|2,n.flags|=128):v&=1,ut(Qe,v),mn(e,n,l,a),l=ne?Gl:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,a,n);else if(e.tag===19)ty(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),zh(n,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&qu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}zh(n,!0,a,null,d,l);break;case"together":zh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function _i(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ia|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Us(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=di(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=di(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Uh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function A1(e,n,a){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),$i(n,$e,e.memoizedState.cache),$a();break;case 27:case 5:si(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,oh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ta(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Wp(e,n,a):(ta(n),e=_i(e,n,a),e!==null?e.sibling:null);ta(n);break;case 19:var f=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Us(e,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return ey(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Qe,Qe.current),l)break;return null;case 22:return n.lanes=0,Yp(e,n,a,n.pendingProps);case 24:$i(n,$e,e.memoizedState.cache)}return _i(e,n,a)}function ny(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!Uh(e,a)&&(n.flags&128)===0)return Je=!1,A1(e,n,a);Je=(e.flags&131072)!==0}else Je=!1,ne&&(n.flags&1048576)!==0&&Og(n,Gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=ts(n.elementType),n.type=e,typeof e=="function")qf(e)?(l=is(e,l),n.tag=1,n=Zp(null,n,e,l,a)):(n.tag=0,n=Nh(null,n,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===xt){n.tag=11,n=Fp(null,n,e,l,a);break t}else if(f===S){n.tag=14,n=Gp(null,n,e,l,a);break t}}throw n=jt(e)||e,Error(s(306,n,""))}}return n;case 0:return Nh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=is(l,n.pendingProps),Zp(e,n,l,f,a);case 3:t:{if(Ee(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,rh(e,n),Wl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,$i(n,$e,l),l!==d.cache&&Zf(n,[$e],a,!0),Jl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Jp(e,n,l,a);break t}else if(l!==f){f=hr(Error(s(424)),n),Ql(f),n=Jp(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(xe=yr(e.firstChild),hn=n,ne=!0,Ki=null,gr=!0,a=Yg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($a(),l===f){n=_i(e,n,a);break t}mn(e,n,l,a)}n=n.child}return n;case 26:return Wu(e,n),e===null?(a=dv(n.type,null,n.pendingProps,null))?n.memoizedState=a:ne||(a=n.type,e=n.pendingProps,l=pc(Nt.current).createElement(a),l[ft]=n,l[dt]=e,gn(l,a,e),Re(l),n.stateNode=l):n.memoizedState=dv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return si(n),e===null&&ne&&(l=n.stateNode=cv(n.type,n.pendingProps,Nt.current),hn=n,gr=!0,f=xe,ua(n.type)?(pd=f,xe=yr(l.firstChild)):xe=f),mn(e,n,n.pendingProps.children,a),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ne&&((f=l=xe)&&(l=tb(l,n.type,n.pendingProps,gr),l!==null?(n.stateNode=l,hn=n,xe=yr(l.firstChild),gr=!1,f=!0):f=!1),f||Xi(n)),si(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,fd(f,d)?l=null:v!==null&&fd(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=ch(e,n,g1,null,null,a),Eo._currentValue=f),Wu(e,n),mn(e,n,l,a),n.child;case 6:return e===null&&ne&&((e=a=xe)&&(a=eb(a,n.pendingProps,gr),a!==null?(n.stateNode=a,hn=n,xe=null,e=!0):e=!1),e||Xi(n)),null;case 13:return Wp(e,n,a);case 4:return Ee(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ns(n,null,l,a):mn(e,n,l,a),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,a);case 7:return mn(e,n,n.pendingProps,a),n.child;case 8:return mn(e,n,n.pendingProps.children,a),n.child;case 12:return mn(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,$i(n,n.type,l.value),mn(e,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Ja(n),f=dn(f),l=l(f),n.flags|=1,mn(e,n,l,a),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,a);case 15:return Qp(e,n,n.type,n.pendingProps,a);case 19:return ey(e,n,a);case 31:return S1(e,n,a);case 22:return Yp(e,n,a,n.pendingProps);case 24:return Ja(n),l=dn($e),e===null?(f=th(),f===null&&(f=be,d=Jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:l,cache:f},nh(n),$i(n,$e,f)):((e.lanes&a)!==0&&(rh(e,n),Wl(n,null,null,a),Jl()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),$i(n,$e,l)):(l=d.cache,$i(n,$e,l),l!==f.cache&&Zf(n,[$e],a,!0))),mn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ei(e){e.flags|=4}function jh(e,n,a,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw es=ju,eh}else e.flags&=-16777217}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vv(n))if(xy())e.flags|=8192;else throw es=ju,eh}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?oi():536870912,e.lanes|=n,Xs|=n)}function ao(e,n){if(!ne)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function w1(e,n,a){var l=n.pendingProps;switch(Qf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(n),null;case 1:return Ne(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),pi($e),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zs(n)?Ei(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kf())),Ne(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(Ei(n),d!==null?(Ne(n),ry(n,d)):(Ne(n),jh(n,f,null,l,a))):d?d!==e.memoizedState?(Ei(n),Ne(n),ry(n,d)):(Ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ei(n),Ne(n),jh(n,f,e,l,a)),null;case 27:if(Oi(n),a=Nt.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ne(n),null}e=gt.current,zs(n)?zg(n):(e=cv(f,l,a),n.stateNode=e,Ei(n))}return Ne(n),null;case 5:if(Oi(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ei(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Ne(n),null}if(d=gt.current,zs(n))zg(n);else{var v=pc(Nt.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[ft]=n,d[dt]=l;t:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break t;for(;v.sibling===null;){if(v.return===null||v.return===n)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=d;t:switch(gn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ei(n)}}return Ne(n),jh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ei(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Nt.current,zs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,f=hn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[ft]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Wy(e.nodeValue,a)),e||Xi(n,!0)}else e=pc(e).createTextNode(l),e[ft]=n,n.stateNode=e}return Ne(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=zs(n),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ft]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ne(n),e=!1}else a=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(er(n),n):(er(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=zs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ft]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ne(n),f=!1}else f=Kf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(er(n),n):(er(n),null)}return er(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),Ne(n),null);case 4:return Se(),e===null&&sd(n.stateNode.containerInfo),Ne(n),null;case 10:return pi(n.type),Ne(n),null;case 19:if(J(Qe),l=n.memoizedState,l===null)return Ne(n),null;if(f=(n.flags&128)!==0,d=l.rendering,d===null)if(f)ao(l,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=qu(e),d!==null){for(n.flags|=128,ao(l,!1),e=d.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Ig(a,e),a=a.sibling;return ut(Qe,Qe.current&1|2),ne&&mi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&je()>sc&&(n.flags|=128,f=!0,ao(l,!1),n.lanes=4194304)}else{if(!f)if(e=qu(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),ao(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ne)return Ne(n),null}else 2*je()-l.renderingStartTime>sc&&a!==536870912&&(n.flags|=128,f=!0,ao(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=je(),e.sibling=null,a=Qe.current,ut(Qe,f?a&1|2:a&1),ne&&mi(n,l.treeForkCount),e):(Ne(n),null);case 22:case 23:return er(n),lh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ne(n),n.subtreeFlags&6&&(n.flags|=8192)):Ne(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&J(Wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),pi($e),Ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function R1(e,n){switch(Qf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pi($e),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Oi(n),null;case 31:if(n.memoizedState!==null){if(er(n),n.alternate===null)throw Error(s(340));$a()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(er(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));$a()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(Qe),null;case 4:return Se(),null;case 10:return pi(n.type),null;case 22:case 23:return er(n),lh(),e!==null&&J(Wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pi($e),null;case 25:return null;default:return null}}function iy(e,n){switch(Qf(n),n.tag){case 3:pi($e),Se();break;case 26:case 27:case 5:Oi(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&er(n);break;case 13:er(n);break;case 19:J(Qe);break;case 10:pi(n.type);break;case 22:case 23:er(n),lh(),e!==null&&J(Wa);break;case 24:pi($e)}}function so(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){de(n,n.return,b)}}function na(e,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=n;var I=a,F=b;try{F()}catch(W){de(f,I,W)}}}l=l.next}while(l!==d)}}catch(W){de(n,n.return,W)}}function ay(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Xg(n,a)}catch(l){de(e,e.return,l)}}}function sy(e,n,a){a.props=is(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){de(e,n,l)}}function lo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){de(e,n,f)}}function Zr(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){de(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){de(e,n,f)}else a.current=null}function ly(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){de(e,e.return,f)}}function Ph(e,n,a){try{var l=e.stateNode;K1(l,e.type,a,n),l[dt]=n}catch(f){de(e,e.return,f)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function Bh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=wr));else if(l!==4&&(l===27&&ua(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(kh(e,n,a),e=e.sibling;e!==null;)kh(e,n,a),e=e.sibling}function nc(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,n,a),e=e.sibling;e!==null;)nc(e,n,a),e=e.sibling}function uy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);gn(n,l,a),n[ft]=e,n[dt]=a}catch(d){de(e,e.return,d)}}var Ti=!1,We=!1,qh=!1,cy=typeof WeakSet=="function"?WeakSet:Set,un=null;function C1(e,n){if(e=e.containerInfo,ud=Sc,e=bg(e),Lf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,b=-1,I=-1,F=0,W=0,nt=e,Y=null;e:for(;;){for(var $;nt!==a||f!==0&&nt.nodeType!==3||(b=v+f),nt!==d||l!==0&&nt.nodeType!==3||(I=v+l),nt.nodeType===3&&(v+=nt.nodeValue.length),($=nt.firstChild)!==null;)Y=nt,nt=$;for(;;){if(nt===e)break e;if(Y===a&&++F===f&&(b=v),Y===d&&++W===l&&(I=v),($=nt.nextSibling)!==null)break;nt=Y,Y=nt.parentNode}nt=$}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:e,selectionRange:a},Sc=!1,un=n;un!==null;)if(n=un,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,un=e;else for(;un!==null;){switch(n=un,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=is(a.type,f);e=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(It){de(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)dd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,un=e;break}un=n.return}}function fy(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(e,a),l&4&&so(5,a);break;case 1:if(Si(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){de(a,a.return,v)}else{var f=is(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){de(a,a.return,v)}}l&64&&ay(a),l&512&&lo(a,a.return);break;case 3:if(Si(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Xg(e,n)}catch(v){de(a,a.return,v)}}break;case 27:n===null&&l&4&&uy(a);case 26:case 5:Si(e,a),n===null&&l&4&&ly(a),l&512&&lo(a,a.return);break;case 12:Si(e,a);break;case 31:Si(e,a),l&4&&my(e,a);break;case 13:Si(e,a),l&4&&gy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=z1.bind(null,a),nb(e,a))));break;case 22:if(l=a.memoizedState!==null||Ti,!l){n=n!==null&&n.memoizedState!==null||We,f=Ti;var d=We;Ti=l,(We=n)&&!d?Ai(e,a,(a.subtreeFlags&8772)!==0):Si(e,a),Ti=f,We=d}break;case 30:break;default:Si(e,a)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&De(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,Un=!1;function bi(e,n,a){for(a=a.child;a!==null;)dy(e,n,a),a=a.sibling}function dy(e,n,a){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:We||Zr(a,n),bi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||Zr(a,n);var l=Le,f=Un;ua(a.type)&&(Le=a.stateNode,Un=!1),bi(e,n,a),yo(a.stateNode),Le=l,Un=f;break;case 5:We||Zr(a,n);case 6:if(l=Le,f=Un,Le=null,bi(e,n,a),Le=l,Un=f,Le!==null)if(Un)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(d){de(a,n,d)}else try{Le.removeChild(a.stateNode)}catch(d){de(a,n,d)}break;case 18:Le!==null&&(Un?(e=Le,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),rl(e)):av(Le,a.stateNode));break;case 4:l=Le,f=Un,Le=a.stateNode.containerInfo,Un=!0,bi(e,n,a),Le=l,Un=f;break;case 0:case 11:case 14:case 15:na(2,a,n),We||na(4,a,n),bi(e,n,a);break;case 1:We||(Zr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&sy(a,n,l)),bi(e,n,a);break;case 21:bi(e,n,a);break;case 22:We=(l=We)||a.memoizedState!==null,bi(e,n,a),We=l;break;default:bi(e,n,a)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rl(e)}catch(a){de(n,n.return,a)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(a){de(n,n.return,a)}}function D1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(s(435,e.tag))}}function rc(e,n){var a=D1(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var f=U1.bind(null,e,l);l.then(f,f)}})}function jn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,v=n,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(ua(b.type)){Le=b.stateNode,Un=!1;break t}break;case 5:Le=b.stateNode,Un=!1;break t;case 3:case 4:Le=b.stateNode.containerInfo,Un=!0;break t}b=b.return}if(Le===null)throw Error(s(160));dy(d,v,f),Le=null,Un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Ir=null;function py(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jn(n,e),Pn(e),l&4&&(na(3,e,e.return),so(3,e),na(5,e,e.return));break;case 1:jn(n,e),Pn(e),l&512&&(We||a===null||Zr(a,a.return)),l&64&&Ti&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ir;if(jn(n,e),Pn(e),l&512&&(We||a===null||Zr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[me]||d[ft]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),gn(d,l,a),d[ft]=e,Re(d),l=d;break t;case"link":var v=pv("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break e}}d=f.createElement(l),gn(d,l,a),f.head.appendChild(d);break;case"meta":if(v=pv("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break e}}d=f.createElement(l),gn(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ft]=e,Re(d),l=d}e.stateNode=l}else yv(f,e.type,e.stateNode);else e.stateNode=gv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yv(f,e.type,e.stateNode):gv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ph(e,e.memoizedProps,a.memoizedProps)}break;case 27:jn(n,e),Pn(e),l&512&&(We||a===null||Zr(a,a.return)),a!==null&&l&4&&Ph(e,e.memoizedProps,a.memoizedProps);break;case 5:if(jn(n,e),Pn(e),l&512&&(We||a===null||Zr(a,a.return)),e.flags&32){f=e.stateNode;try{zn(f,"")}catch(Tt){de(e,e.return,Tt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ph(e,f,a!==null?a.memoizedProps:f)),l&1024&&(qh=!0);break;case 6:if(jn(n,e),Pn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Tt){de(e,e.return,Tt)}}break;case 3:if(_c=null,f=Ir,Ir=yc(n.containerInfo),jn(n,e),Ir=f,Pn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(Tt){de(e,e.return,Tt)}qh&&(qh=!1,yy(e));break;case 4:l=Ir,Ir=yc(e.stateNode.containerInfo),jn(n,e),Pn(e),Ir=l;break;case 12:jn(n,e),Pn(e);break;case 31:jn(n,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 13:jn(n,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=je()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 22:f=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Ti,W=We;if(Ti=F||f,We=W||I,jn(n,e),We=W,Ti=F,Pn(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||I||Ti||We||as(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(d=I.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var nt=I.memoizedProps.style,Y=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Tt){de(I,I.return,Tt)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Tt){de(I,I.return,Tt)}}}else if(n.tag===18){if(a===null){I=n;try{var $=I.stateNode;f?sv($,!0):sv(I.stateNode,!1)}catch(Tt){de(I,I.return,Tt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rc(e,a))));break;case 19:jn(n,e),Pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 30:break;case 21:break;default:jn(n,e),Pn(e)}}function Pn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(oy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Bh(e);nc(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(zn(v,""),a.flags&=-33);var b=Bh(e);nc(e,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Bh(e);kh(e,F,I);break;default:throw Error(s(161))}}catch(W){de(e,e.return,W)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Si(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function as(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:na(4,n,n.return),as(n);break;case 1:Zr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&sy(n,n.return,a),as(n);break;case 27:yo(n.stateNode);case 26:case 5:Zr(n,n.return),as(n);break;case 22:n.memoizedState===null&&as(n);break;case 30:as(n);break;default:as(n)}e=e.sibling}}function Ai(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(f,d,a),so(4,d);break;case 1:if(Ai(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){de(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Kg(I[f],b)}catch(F){de(l,l.return,F)}}a&&v&64&&ay(d),lo(d,d.return);break;case 27:uy(d);case 26:case 5:Ai(f,d,a),a&&l===null&&v&4&&ly(d),lo(d,d.return);break;case 12:Ai(f,d,a);break;case 31:Ai(f,d,a),a&&v&4&&my(f,d);break;case 13:Ai(f,d,a),a&&v&4&&gy(f,d);break;case 22:d.memoizedState===null&&Ai(f,d,a),lo(d,d.return);break;case 30:break;default:Ai(f,d,a)}n=n.sibling}}function Hh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yl(a))}function Fh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yl(e))}function Vr(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(e,n,a,l),n=n.sibling}function vy(e,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Vr(e,n,a,l),f&2048&&so(9,n);break;case 1:Vr(e,n,a,l);break;case 3:Vr(e,n,a,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yl(e)));break;case 12:if(f&2048){Vr(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){de(n,n.return,I)}}else Vr(e,n,a,l);break;case 31:Vr(e,n,a,l);break;case 13:Vr(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Vr(e,n,a,l):oo(e,n):d._visibility&2?Vr(e,n,a,l):(d._visibility|=2,Qs(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Hh(v,n);break;case 24:Vr(e,n,a,l),f&2048&&Fh(n.alternate,n);break;default:Vr(e,n,a,l)}}function Qs(e,n,a,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,v=n,b=a,I=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Qs(d,v,b,I,f),so(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Qs(d,v,b,I,f):oo(d,v):(W._visibility|=2,Qs(d,v,b,I,f)),f&&F&2048&&Hh(v.alternate,v);break;case 24:Qs(d,v,b,I,f),f&&F&2048&&Fh(v.alternate,v);break;default:Qs(d,v,b,I,f)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,f=l.flags;switch(l.tag){case 22:oo(a,l),f&2048&&Hh(l.alternate,l);break;case 24:oo(a,l),f&2048&&Fh(l.alternate,l);break;default:oo(a,l)}n=n.sibling}}var uo=8192;function Ys(e,n,a){if(e.subtreeFlags&uo)for(e=e.child;e!==null;)_y(e,n,a),e=e.sibling}function _y(e,n,a){switch(e.tag){case 26:Ys(e,n,a),e.flags&uo&&e.memoizedState!==null&&mb(a,Ir,e.memoizedState,e.memoizedProps);break;case 5:Ys(e,n,a);break;case 3:case 4:var l=Ir;Ir=yc(e.stateNode.containerInfo),Ys(e,n,a),Ir=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,Ys(e,n,a),uo=l):Ys(e,n,a));break;default:Ys(e,n,a)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];un=l,by(l,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&na(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):co(e);break;default:co(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];un=l,by(l,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:na(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function by(e,n){for(;un!==null;){var a=un;switch(a.tag){case 0:case 11:case 15:na(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,un=l;else t:for(a=e;un!==null;){l=un;var f=l.sibling,d=l.return;if(hy(l),l===a){un=null;break t}if(f!==null){f.return=d,un=f;break t}un=d}}}var x1={getCacheForType:function(e){var n=dn($e),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return dn($e).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,ce=0,be=null,$t=null,Jt=0,he=0,nr=null,ra=!1,Ks=!1,Gh=!1,wi=0,qe=0,ia=0,ss=0,Qh=0,rr=0,Xs=0,fo=null,Bn=null,Yh=!1,ac=0,Sy=0,sc=1/0,lc=null,aa=null,rn=0,sa=null,$s=null,Ri=0,Kh=0,Xh=null,Ay=null,ho=0,$h=null;function ir(){return(ce&2)!==0&&Jt!==0?Jt&-Jt:Q.T!==null?nd():ct()}function wy(){if(rr===0)if((Jt&536870912)===0||ne){var e=jr;jr<<=1,(jr&3932160)===0&&(jr=262144),rr=e}else rr=536870912;return e=tr.current,e!==null&&(e.flags|=32),rr}function kn(e,n,a){(e===be&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(Zs(e,0),la(e,Jt,rr,!1)),Pr(e,a),((ce&2)===0||e!==be)&&(e===be&&((ce&2)===0&&(ss|=a),qe===4&&la(e,Jt,rr,!1)),Jr(e))}function Ry(e,n,a){if((ce&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),f=l?M1(e,n):Jh(e,n,!0),d=l;do{if(f===0){Ks&&!l&&la(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!I1(a)){f=Jh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var b=e;f=fo;var I=b.current.memoizedState.isDehydrated;if(I&&(Zs(b,v).flags|=256),v=Jh(b,v,!1),v!==2){if(Gh&&!I){b.errorRecoveryDisabledLanes|=d,ss|=d,f=4;break t}d=Bn,Bn=f,d!==null&&(Bn===null?Bn=d:Bn.push.apply(Bn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Zs(e,0),la(e,n,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:la(l,n,rr,!ra);break t;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=ac+300-je(),10<f)){if(la(l,n,rr,!ra),Kn(l,0,!0)!==0)break t;Ri=n,l.timeoutHandle=rv(Cy.bind(null,l,a,Bn,lc,Yh,n,rr,ss,Xs,ra,d,"Throttled",-0,0),f);break t}Cy(l,a,Bn,lc,Yh,n,rr,ss,Xs,ra,d,null,-0,0)}}break}while(!0);Jr(e)}function Cy(e,n,a,l,f,d,v,b,I,F,W,nt,Y,$){if(e.timeoutHandle=-1,nt=n.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wr},_y(n,d,nt);var Tt=(d&62914560)===d?ac-je():(d&4194048)===d?Sy-je():0;if(Tt=gb(nt,Tt),Tt!==null){Ri=d,e.cancelPendingCommit=Tt(Ly.bind(null,e,n,d,a,l,f,v,b,I,W,nt,null,Y,$)),la(e,d,v,!F);return}}Ly(e,n,d,a,l,f,v,b,I)}function I1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Jn(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function la(e,n,a,l){n&=~Qh,n&=~ss,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-Ve(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&ui(e,a,n)}function oc(){return(ce&6)===0?(mo(0),!1):!0}function Zh(){if($t!==null){if(he===0)var e=$t.return;else e=$t,gi=Za=null,dh(e),ks=null,Xl=0,e=$t;for(;e!==null;)iy(e.alternate,e),e=e.return;$t=null}}function Zs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Z1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ri=0,Zh(),be=e,$t=a=di(e.current,null),Jt=n,he=0,nr=null,ra=!1,Ks=Xn(e,n),Gh=!1,Xs=rr=Qh=ss=ia=qe=0,Bn=fo=null,Yh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-Ve(l),d=1<<f;n|=e[f],l&=~d}return wi=n,xu(),a}function Dy(e,n){qt=null,Q.H=ro,n===Bs||n===Uu?(n=Fg(),he=3):n===eh?(n=Fg(),he=4):he=n===xh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,nr=n,$t===null&&(qe=1,Zu(e,hr(n,e.current)))}function xy(){var e=tr.current;return e===null?!0:(Jt&4194048)===Jt?pr===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?e===pr:!1}function Ny(){var e=Q.H;return Q.H=ro,e===null?ro:e}function Iy(){var e=Q.A;return Q.A=x1,e}function uc(){qe=4,ra||(Jt&4194048)!==Jt&&tr.current!==null||(Ks=!0),(ia&134217727)===0&&(ss&134217727)===0||be===null||la(be,Jt,rr,!1)}function Jh(e,n,a){var l=ce;ce|=2;var f=Ny(),d=Iy();(be!==e||Jt!==n)&&(lc=null,Zs(e,n)),n=!1;var v=qe;t:do try{if(he!==0&&$t!==null){var b=$t,I=nr;switch(he){case 8:Zh(),v=6;break t;case 3:case 2:case 9:case 6:tr.current===null&&(n=!0);var F=he;if(he=0,nr=null,Js(e,b,I,F),a&&Ks){v=0;break t}break;default:F=he,he=0,nr=null,Js(e,b,I,F)}}V1(),v=qe;break}catch(W){Dy(e,W)}while(!0);return n&&e.shellSuspendCounter++,gi=Za=null,ce=l,Q.H=f,Q.A=d,$t===null&&(be=null,Jt=0,xu()),v}function V1(){for(;$t!==null;)Vy($t)}function M1(e,n){var a=ce;ce|=2;var l=Ny(),f=Iy();be!==e||Jt!==n?(lc=null,sc=je()+500,Zs(e,n)):Ks=Xn(e,n);t:do try{if(he!==0&&$t!==null){n=$t;var d=nr;e:switch(he){case 1:he=0,nr=null,Js(e,n,d,1);break;case 2:case 9:if(qg(d)){he=0,nr=null,My(n);break}n=function(){he!==2&&he!==9||be!==e||(he=7),Jr(e)},d.then(n,n);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:qg(d)?(he=0,nr=null,My(n)):(he=0,nr=null,Js(e,n,d,7));break;case 5:var v=null;switch($t.tag){case 26:v=$t.memoizedState;case 5:case 27:var b=$t;if(v?vv(v):b.stateNode.complete){he=0,nr=null;var I=b.sibling;if(I!==null)$t=I;else{var F=b.return;F!==null?($t=F,cc(F)):$t=null}break e}}he=0,nr=null,Js(e,n,d,5);break;case 6:he=0,nr=null,Js(e,n,d,6);break;case 8:Zh(),qe=6;break t;default:throw Error(s(462))}}O1();break}catch(W){Dy(e,W)}while(!0);return gi=Za=null,Q.H=l,Q.A=f,ce=a,$t!==null?0:(be=null,Jt=0,xu(),qe)}function O1(){for(;$t!==null&&!Nl();)Vy($t)}function Vy(e){var n=ny(e.alternate,e,wi);e.memoizedProps=e.pendingProps,n===null?cc(e):$t=n}function My(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=$p(a,n,n.pendingProps,n.type,void 0,Jt);break;case 11:n=$p(a,n,n.pendingProps,n.type.render,n.ref,Jt);break;case 5:dh(n);default:iy(a,n),n=$t=Ig(n,wi),n=ny(a,n,wi)}e.memoizedProps=e.pendingProps,n===null?cc(e):$t=n}function Js(e,n,a,l){gi=Za=null,dh(n),ks=null,Xl=0;var f=n.return;try{if(b1(e,f,n,a,Jt)){qe=1,Zu(e,hr(a,e.current)),$t=null;return}}catch(d){if(f!==null)throw $t=f,d;qe=1,Zu(e,hr(a,e.current)),$t=null;return}n.flags&32768?(ne||l===1?e=!0:Ks||(Jt&536870912)!==0?e=!1:(ra=e=!0,(l===2||l===9||l===3||l===6)&&(l=tr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,ra);return}e=n.return;var a=w1(n.alternate,n,wi);if(a!==null){$t=a;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=e}while(n!==null);qe===0&&(qe=5)}function Oy(e,n){do{var a=R1(e.alternate,e);if(a!==null){a.flags&=32767,$t=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){$t=e;return}$t=e=a}while(e!==null);qe=6,$t=null}function Ly(e,n,a,l,f,d,v,b,I){e.cancelPendingCommit=null;do fc();while(rn!==0);if((ce&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Bf,Il(e,a,d,v,b,I),e===be&&($t=be=null,Jt=0),$s=n,sa=e,Ri=a,Kh=d,Xh=f,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,j1(ln,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ot.p,ot.p=2,v=ce,ce|=4;try{C1(e,n,a)}finally{ce=v,ot.p=f,Q.T=l}}rn=1,zy(),Uy(),jy()}}function zy(){if(rn===1){rn=0;var e=sa,n=$s,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var f=ce;ce|=4;try{py(n,e);var d=cd,v=bg(e.containerInfo),b=d.focusedElem,I=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Tg(b.ownerDocument.documentElement,b)){if(I!==null&&Lf(b)){var F=I.start,W=I.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var nt=b.ownerDocument||document,Y=nt&&nt.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Tt=b.textContent.length,It=Math.min(I.start,Tt),_e=I.end===void 0?It:Math.min(I.end,Tt);!$.extend&&It>_e&&(v=_e,_e=It,It=v);var P=Eg(b,It),z=Eg(b,_e);if(P&&z&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==z.node||$.focusOffset!==z.offset)){var H=nt.createRange();H.setStart(P.node,P.offset),$.removeAllRanges(),It>_e?($.addRange(H),$.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),$.addRange(H))}}}}for(nt=[],$=b;$=$.parentNode;)$.nodeType===1&&nt.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<nt.length;b++){var et=nt[b];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}Sc=!!ud,cd=ud=null}finally{ce=f,ot.p=l,Q.T=a}}e.current=n,rn=2}}function Uy(){if(rn===2){rn=0;var e=sa,n=$s,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var f=ce;ce|=4;try{fy(e,n.alternate,n)}finally{ce=f,ot.p=l,Q.T=a}}rn=3}}function jy(){if(rn===4||rn===3){rn=0,vs();var e=sa,n=$s,a=Ri,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?rn=5:(rn=0,$s=sa=null,Py(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(aa=null),st(a),n=n.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,f=ot.p,ot.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{Q.T=n,ot.p=f}}(Ri&3)!==0&&fc(),Jr(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===$h?ho++:(ho=0,$h=e):ho=0,mo(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yl(n)))}function fc(){return zy(),Uy(),jy(),By()}function By(){if(rn!==5)return!1;var e=sa,n=Kh;Kh=0;var a=st(Ri),l=Q.T,f=ot.p;try{ot.p=32>a?32:a,Q.T=null,a=Xh,Xh=null;var d=sa,v=Ri;if(rn=0,$s=sa=null,Ri=0,(ce&6)!==0)throw Error(s(331));var b=ce;if(ce|=4,Ty(d.current),vy(d,d.current,v,a),ce=b,mo(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ot.p=f,Q.T=l,Py(e,n)}}function ky(e,n,a){n=hr(a,n),n=Dh(e.stateNode,n,2),e=Wi(e,n,2),e!==null&&(Pr(e,2),Jr(e))}function de(e,n,a){if(e.tag===3)ky(e,e,a);else for(;n!==null;){if(n.tag===3){ky(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){e=hr(a,e),a=qp(2),l=Wi(n,a,2),l!==null&&(Hp(a,l,n,e),Pr(l,2),Jr(l));break}}n=n.return}}function Wh(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new N1;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(Gh=!0,f.add(a),e=L1.bind(null,e,n,a),n.then(e,e))}function L1(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,be===e&&(Jt&a)===a&&(qe===4||qe===3&&(Jt&62914560)===Jt&&300>je()-ac?(ce&2)===0&&Zs(e,0):Qh|=a,Xs===Jt&&(Xs=0)),Jr(e)}function qy(e,n){n===0&&(n=oi()),e=Ka(e,n),e!==null&&(Pr(e,n),Jr(e))}function z1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),qy(e,a)}function U1(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),qy(e,a)}function j1(e,n){return Fe(e,n)}var hc=null,Ws=null,td=!1,dc=!1,ed=!1,oa=0;function Jr(e){e!==Ws&&e.next===null&&(Ws===null?hc=Ws=e:Ws=Ws.next=e),dc=!0,td||(td=!0,B1())}function mo(e,n){if(!ed&&dc){ed=!0;do for(var a=!1,l=hc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Ve(42|e)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Qy(l,d))}else d=Jt,d=Kn(l,l===be?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(a=!0,Qy(l,d));l=l.next}while(a);ed=!1}}function P1(){Hy()}function Hy(){dc=td=!1;var e=0;oa!==0&&$1()&&(e=oa);for(var n=je(),a=null,l=hc;l!==null;){var f=l.next,d=Fy(l,n);d===0?(l.next=null,a===null?hc=f:a.next=f,f===null&&(Ws=a)):(a=l,(e!==0||(d&3)!==0)&&(dc=!0)),l=f}rn!==0&&rn!==5||mo(e),oa!==0&&(oa=0)}function Fy(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ve(d),b=1<<v,I=f[v];I===-1?((b&a)===0||(b&l)!==0)&&(f[v]=Es(b,n)):I<=n&&(e.expiredLanes|=b),d&=~b}if(n=be,a=Jt,a=Kn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ur(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Ur(l),st(a)){case 2:case 8:a=li;break;case 32:a=ln;break;case 268435456:a=Oa;break;default:a=ln}return l=Gy.bind(null,e),a=Fe(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Ur(l),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(rn!==0&&rn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fc()&&e.callbackNode!==a)return null;var l=Jt;return l=Kn(e,e===be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ry(e,l,n),Fy(e,je()),e.callbackNode!=null&&e.callbackNode===a?Gy.bind(null,e):null)}function Qy(e,n){if(fc())return null;Ry(e,n,!0)}function B1(){J1(function(){(ce&6)!==0?Fe(Li,P1):Hy()})}function nd(){if(oa===0){var e=js;e===0&&(e=Dn,Dn<<=1,(Dn&261888)===0&&(Dn=256)),oa=e}return oa}function Yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function Ky(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function k1(e,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var d=Yy((f[dt]||null).action),v=l.submitter;v&&(n=(n=v[dt]||null)?Yy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var b=new Gr("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(oa!==0){var I=v?Ky(f,v):new FormData(f);bh(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?Ky(f,v):new FormData(f),bh(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var rd=0;rd<Pf.length;rd++){var id=Pf[rd],q1=id.toLowerCase(),H1=id[0].toUpperCase()+id.slice(1);Nr(q1,"on"+H1)}Nr(wg,"onAnimationEnd"),Nr(Rg,"onAnimationIteration"),Nr(Cg,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(a1,"onTransitionRun"),Nr(s1,"onTransitionStart"),Nr(l1,"onTransitionCancel"),Nr(Dg,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function Xy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(W){Du(W)}f.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,F=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=F;try{d(f)}catch(W){Du(W)}f.currentTarget=null,d=I}}}}function Zt(e,n){var a=n[Ot];a===void 0&&(a=n[Ot]=new Set);var l=e+"__bubble";a.has(l)||($y(n,e,2,!1),a.add(l))}function ad(e,n,a){var l=0;n&&(l|=4),$y(a,e,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[mc]){e[mc]=!0,Mn.forEach(function(a){a!=="selectionchange"&&(F1.has(a)||ad(a,!1,e),ad(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,ad("selectionchange",!1,n))}}function $y(e,n,a,l){switch(wv(n)){case 2:var f=vb;break;case 8:f=_b;break;default:f=Td}a=f.bind(null,n,a,e),f=void 0,!Ba||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function ld(e,n,a,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Ae(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}b=b.parentNode}}l=l.return}Hi(function(){var F=d,W=or(a),nt=[];t:{var Y=xg.get(e);if(Y!==void 0){var $=Gr,Tt=e;switch(e){case"keypress":if(qa(a)===0)break t;case"keydown":case"keyup":$=wu;break;case"focusin":Tt="focus",$=Fa;break;case"focusout":Tt="blur",$=Fa;break;case"beforeblur":case"afterblur":$=Fa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case wg:case Rg:case Cg:$=vu;break;case Dg:$=w;break;case"scroll":case"scrollend":$=jl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=hi;break;case"toggle":case"beforetoggle":$=kt}var It=(n&4)!==0,_e=!It&&(e==="scroll"||e==="scrollend"),P=It?Y!==null?Y+"Capture":null:Y;It=[];for(var z=F,H;z!==null;){var et=z;if(H=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||H===null||P===null||(et=Rr(z,P),et!=null&&It.push(po(z,et,H))),_e)break;z=z.return}0<It.length&&(Y=new $(Y,Tt,null,a,W),nt.push({event:Y,listeners:It}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",Y&&a!==Ll&&(Tt=a.relatedTarget||a.fromElement)&&(Ae(Tt)||Tt[_t]))break t;if(($||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Tt=a.relatedTarget||a.toElement,$=F,Tt=Tt?Ae(Tt):null,Tt!==null&&(_e=u(Tt),It=Tt.tag,Tt!==_e||It!==5&&It!==27&&It!==6)&&(Tt=null)):($=null,Tt=F),$!==Tt)){if(It=Pl,et="onMouseLeave",P="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(It=hi,et="onPointerLeave",P="onPointerEnter",z="pointer"),_e=$==null?Y:we($),H=Tt==null?Y:we(Tt),Y=new It(et,z+"leave",$,a,W),Y.target=_e,Y.relatedTarget=H,et=null,Ae(W)===F&&(It=new It(P,z+"enter",Tt,a,W),It.target=H,It.relatedTarget=_e,et=It),_e=et,$&&Tt)e:{for(It=G1,P=$,z=Tt,H=0,et=P;et;et=It(et))H++;et=0;for(var Ct=z;Ct;Ct=It(Ct))et++;for(;0<H-et;)P=It(P),H--;for(;0<et-H;)z=It(z),et--;for(;H--;){if(P===z||z!==null&&P===z.alternate){It=P;break e}P=It(P),z=It(z)}It=null}else It=null;$!==null&&Zy(nt,Y,$,It,!1),Tt!==null&&_e!==null&&Zy(nt,_e,Tt,It,!0)}}t:{if(Y=F?we(F):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var se=mg;else if(hg(Y))if(gg)se=n1;else{se=t1;var At=WT}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&bs(F.elementType)&&(se=mg):se=e1;if(se&&(se=se(e,F))){dg(nt,se,a,W);break t}At&&At(e,Y,F),e==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&Vl(Y,"number",Y.value)}switch(At=F?we(F):window,e){case"focusin":(hg(At)||At.contentEditable==="true")&&(Ns=At,zf=F,Fl=null);break;case"focusout":Fl=zf=Ns=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Sg(nt,a,W);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Sg(nt,a,W)}var Gt;if(ue)t:{switch(e){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else xs?Ga(e,a)&&(Wt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Wt="onCompositionStart");Wt&&(Kr&&a.locale!=="ko"&&(xs||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&xs&&(Gt=Ul()):(Fr=W,zl="value"in Fr?Fr.value:Fr.textContent,xs=!0)),At=gc(F,Wt),0<At.length&&(Wt=new Yr(Wt,e,null,a,W),nt.push({event:Wt,listeners:At}),Gt?Wt.data=Gt:(Gt=Ds(a),Gt!==null&&(Wt.data=Gt)))),(Gt=cr?XT(e,a):$T(e,a))&&(Wt=gc(F,"onBeforeInput"),0<Wt.length&&(At=new Yr("onBeforeInput","beforeinput",null,a,W),nt.push({event:At,listeners:Wt}),At.data=Gt)),k1(nt,e,F,a,W)}Xy(nt,n)})}function po(e,n,a){return{instance:e,listener:n,currentTarget:a}}function gc(e,n){for(var a=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Rr(e,a),f!=null&&l.unshift(po(e,f,d)),f=Rr(e,n),f!=null&&l.push(po(e,f,d))),e.tag===3)return l;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,a,l,f){for(var d=n._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||F===null||(I=F,f?(F=Rr(a,d),F!=null&&v.unshift(po(a,F,I))):f||(F=Rr(a,d),F!=null&&v.push(po(a,F,I)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var Q1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(Y1,"")}function Wy(e,n){return n=Jy(n),Jy(e)===n}function ve(e,n,a,l,f,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||zn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&zn(e,""+l);break;case"className":Xe(e,"class",l);break;case"tabIndex":Xe(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xe(e,a,l);break;case"style":Ol(e,l,d);break;case"data":if(n!=="object"){Xe(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&ve(e,n,"name",f.name,f,null),ve(e,n,"formEncType",f.formEncType,f,null),ve(e,n,"formMethod",f.formMethod,f,null),ve(e,n,"formTarget",f.formTarget,f,null)):(ve(e,n,"encType",f.encType,f,null),ve(e,n,"method",f.method,f,null),ve(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=wr);break;case"onScroll":l!=null&&Zt("scroll",e);break;case"onScrollEnd":l!=null&&Zt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Zt("beforetoggle",e),Zt("toggle",e),Pe(e,"popover",l);break;case"xlinkActuate":ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pe(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,Pe(e,a,l))}}function od(e,n,a,l,f,d){switch(a){case"style":Ol(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?zn(e,l):(typeof l=="number"||typeof l=="bigint")&&zn(e,""+l);break;case"onScroll":l!=null&&Zt("scroll",e);break;case"onScrollEnd":l!=null&&Zt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_n.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Pe(e,a,l)}}}function gn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zt("error",e),Zt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,d,v,a,null)}}f&&ve(e,n,"srcSet",a.srcSet,a,null),l&&ve(e,n,"src",a.src,a,null);return;case"input":Zt("invalid",e);var b=d=v=f=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:ve(e,n,l,W,a,null)}}hu(e,d,b,I,F,v,f,!1);return;case"select":Zt("invalid",e),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:ve(e,n,f,b,a,null)}n=d,a=v,e.multiple=!!l,n!=null?Pi(e,!!l,n,!1):a!=null&&Pi(e,!!l,a,!0);return;case"textarea":Zt("invalid",e),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ve(e,n,v,b,a,null)}Bi(e,l,f,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ve(e,n,I,l,a,null)}return;case"dialog":Zt("beforetoggle",e),Zt("toggle",e),Zt("cancel",e),Zt("close",e);break;case"iframe":case"object":Zt("load",e);break;case"video":case"audio":for(l=0;l<go.length;l++)Zt(go[l],e);break;case"image":Zt("error",e),Zt("load",e);break;case"details":Zt("toggle",e);break;case"embed":case"source":case"link":Zt("error",e),Zt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ve(e,n,F,l,a,null)}return;default:if(bs(n)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&od(e,n,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ve(e,n,b,l,a,null))}function K1(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,I=null,F=null,W=null;for($ in a){var nt=a[$];if(a.hasOwnProperty($)&&nt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=nt;default:l.hasOwnProperty($)||ve(e,n,$,null,l,nt)}}for(var Y in l){var $=l[Y];if(nt=a[Y],l.hasOwnProperty(Y)&&($!=null||nt!=null))switch(Y){case"type":d=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$!==nt&&ve(e,n,Y,$,l,nt)}}Ts(e,v,b,I,F,W,d,f);return;case"select":$=v=b=Y=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||ve(e,n,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&ve(e,n,f,d,l,I)}n=b,a=v,l=$,Y!=null?Pi(e,!!a,Y,!1):!!l!=!!a&&(n!=null?Pi(e,!!a,n,!0):Pi(e,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ve(e,n,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Y=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ve(e,n,v,f,l,d)}du(e,Y,$);return;case"option":for(var Tt in a)if(Y=a[Tt],a.hasOwnProperty(Tt)&&Y!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:ve(e,n,Tt,null,l,Y)}for(I in l)if(Y=l[I],$=a[I],l.hasOwnProperty(I)&&Y!==$&&(Y!=null||$!=null))switch(I){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ve(e,n,I,Y,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)Y=a[It],a.hasOwnProperty(It)&&Y!=null&&!l.hasOwnProperty(It)&&ve(e,n,It,null,l,Y);for(F in l)if(Y=l[F],$=a[F],l.hasOwnProperty(F)&&Y!==$&&(Y!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:ve(e,n,F,Y,l,$)}return;default:if(bs(n)){for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!==void 0&&!l.hasOwnProperty(_e)&&od(e,n,_e,void 0,l,Y);for(W in l)Y=l[W],$=a[W],!l.hasOwnProperty(W)||Y===$||Y===void 0&&$===void 0||od(e,n,W,Y,l,$);return}}for(var P in a)Y=a[P],a.hasOwnProperty(P)&&Y!=null&&!l.hasOwnProperty(P)&&ve(e,n,P,null,l,Y);for(nt in l)Y=l[nt],$=a[nt],!l.hasOwnProperty(nt)||Y===$||Y==null&&$==null||ve(e,n,nt,Y,l,$)}function tv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&tv(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var I=a[l],F=I.startTime;if(F>b)break;var W=I.transferSize,nt=I.initiatorType;W&&tv(nt)&&(I=I.responseEnd,v+=W*(I<b?1:(b-F)/(I-F)))}if(--l,n+=8*(d+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function ev(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function $1(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,Z1=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(e){return iv.resolve(null).then(e).catch(W1)}:rv;function W1(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function av(e,n){var a=n,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),rl(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")yo(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yo(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[me]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&yo(e.ownerDocument.body);a=f}while(a);rl(n)}function sv(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),De(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tb(e,n,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[me])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=yr(e.nextSibling),e===null)break}return null}function eb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=yr(e.nextSibling),e===null))return null;return e}function lv(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=yr(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function yr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function ov(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return yr(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function uv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function cv(e,n,a){switch(n=pc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);De(e)}var vr=new Map,fv=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ci=ot.d;ot.d={f:rb,r:ib,D:ab,C:sb,L:lb,m:ob,X:cb,S:ub,M:fb};function rb(){var e=Ci.f(),n=oc();return e||n}function ib(e){var n=Ht(e);n!==null&&n.tag===5&&n.type==="form"?Dp(n):Ci.r(e)}var tl=typeof document>"u"?null:document;function hv(e,n,a){var l=tl;if(l&&typeof n=="string"&&n){var f=Ln(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),fv.has(f)||(fv.add(f),e={rel:e,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),gn(n,"link",e),Re(n),l.head.appendChild(n)))}}function ab(e){Ci.D(e),hv("dns-prefetch",e,null)}function sb(e,n){Ci.C(e,n),hv("preconnect",e,n)}function lb(e,n,a){Ci.L(e,n,a);var l=tl;if(l&&e&&n){var f='link[rel="preload"][as="'+Ln(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ln(a.imageSizes)+'"]')):f+='[href="'+Ln(e)+'"]';var d=f;switch(n){case"style":d=el(e);break;case"script":d=nl(e)}vr.has(d)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),vr.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(vo(d))||n==="script"&&l.querySelector(_o(d))||(n=l.createElement("link"),gn(n,"link",e),Re(n),l.head.appendChild(n)))}}function ob(e,n){Ci.m(e,n);var a=tl;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ln(l)+'"][href="'+Ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=nl(e)}if(!vr.has(d)&&(e=T({rel:"modulepreload",href:e},n),vr.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_o(d)))return}l=a.createElement("link"),gn(l,"link",e),Re(l),a.head.appendChild(l)}}}function ub(e,n,a){Ci.S(e,n,a);var l=tl;if(l&&e){var f=on(l).hoistableStyles,d=el(e);n=n||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(vo(d)))b.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=vr.get(d))&&yd(e,a);var I=v=l.createElement("link");Re(I),gn(I,"link",e),I._p=new Promise(function(F,W){I.onload=F,I.onerror=W}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vc(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function cb(e,n){Ci.X(e,n);var a=tl;if(a&&e){var l=on(a).hoistableScripts,f=nl(e),d=l.get(f);d||(d=a.querySelector(_o(f)),d||(e=T({src:e,async:!0},n),(n=vr.get(f))&&vd(e,n),d=a.createElement("script"),Re(d),gn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function fb(e,n){Ci.M(e,n);var a=tl;if(a&&e){var l=on(a).hoistableScripts,f=nl(e),d=l.get(f);d||(d=a.querySelector(_o(f)),d||(e=T({src:e,async:!0,type:"module"},n),(n=vr.get(f))&&vd(e,n),d=a.createElement("script"),Re(d),gn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function dv(e,n,a,l){var f=(f=Nt.current)?yc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=el(a.href),a=on(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=el(a.href);var d=on(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(vo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),vr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vr.set(e,a),d||hb(f,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=nl(a),a=on(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function el(e){return'href="'+Ln(e)+'"'}function vo(e){return'link[rel="stylesheet"]['+e+"]"}function mv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),gn(n,"link",a),Re(n),e.head.appendChild(n))}function nl(e){return'[src="'+Ln(e)+'"]'}function _o(e){return"script[async]"+e}function gv(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ln(a.href)+'"]');if(l)return n.instance=l,Re(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),gn(l,"style",f),vc(l,a.precedence,e),n.instance=l;case"stylesheet":f=el(a.href);var d=e.querySelector(vo(f));if(d)return n.state.loading|=4,n.instance=d,Re(d),d;l=mv(a),(f=vr.get(f))&&yd(l,f),d=(e.ownerDocument||e).createElement("link"),Re(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),gn(d,"link",l),n.state.loading|=4,vc(d,a.precedence,e),n.instance=d;case"script":return d=nl(a.src),(f=e.querySelector(_o(d)))?(n.instance=f,Re(f),f):(l=a,(f=vr.get(d))&&(l=T({},a),vd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Re(f),gn(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,a.precedence,e));return n.instance}function vc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===n)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function pv(e,n,a){if(_c===null){var l=new Map,f=_c=new Map;f.set(a,l)}else f=_c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[me]||d[ft]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function yv(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function db(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mb(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=el(l.href),d=n.querySelector(vo(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,Re(d);return}d=n.ownerDocument||n,l=mv(l),(f=vr.get(f))&&yd(l,f),d=d.createElement("link"),Re(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),gn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ec.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var _d=0;function gb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*X1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(pb,e),Tc=null,Ec.call(e))}function pb(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var l=a.get(null);else{a=new Map,Tc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Ec.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:lt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function yb(e,n,a,l,f,d,v,b,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function _v(e,n,a,l,f,d,v,b,I,F,W,nt){return e=new yb(e,n,a,v,I,F,W,nt,b),n=1,d===!0&&(n|=24),d=Wn(3,null,null,n),e.current=d,d.stateNode=e,n=Jf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},nh(d),e}function Ev(e){return e?(e=Ms,e):Ms}function Tv(e,n,a,l,f,d){f=Ev(f),l.context===null?l.context=f:l.pendingContext=f,l=Ji(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Wi(e,l,n),a!==null&&(kn(a,e,n),Zl(a,e,n))}function bv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ed(e,n){bv(e,n),(e=e.alternate)&&bv(e,n)}function Sv(e){if(e.tag===13||e.tag===31){var n=Ka(e,67108864);n!==null&&kn(n,e,67108864),Ed(e,67108864)}}function Av(e){if(e.tag===13||e.tag===31){var n=ir();n=G(n);var a=Ka(e,n);a!==null&&kn(a,e,n),Ed(e,n)}}var Sc=!0;function vb(e,n,a,l){var f=Q.T;Q.T=null;var d=ot.p;try{ot.p=2,Td(e,n,a,l)}finally{ot.p=d,Q.T=f}}function _b(e,n,a,l){var f=Q.T;Q.T=null;var d=ot.p;try{ot.p=8,Td(e,n,a,l)}finally{ot.p=d,Q.T=f}}function Td(e,n,a,l){if(Sc){var f=bd(l);if(f===null)ld(e,n,l,Ac,a),Rv(e,l);else if(Tb(f,e,n,a,l))l.stopPropagation();else if(Rv(e,l),n&4&&-1<Eb.indexOf(e)){for(;f!==null;){var d=Ht(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=lr(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-Ve(v);b.entanglements[1]|=I,v&=~I}Jr(d),(ce&6)===0&&(sc=je()+500,mo(0))}}break;case 31:case 13:b=Ka(d,2),b!==null&&kn(b,d,2),oc(),Ed(d,2)}if(d=bd(l),d===null&&ld(e,n,l,Ac,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ld(e,n,l,null,a)}}function bd(e){return e=or(e),Sd(e)}var Ac=null;function Sd(e){if(Ac=null,e=Ae(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function wv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case Li:return 2;case li:return 8;case ln:case Qn:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var Ad=!1,ca=null,fa=null,ha=null,To=new Map,bo=new Map,da=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(e,n){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function So(e,n,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Ht(n),n!==null&&Sv(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Tb(e,n,a,l,f){switch(n){case"focusin":return ca=So(ca,e,n,a,l,f),!0;case"dragenter":return fa=So(fa,e,n,a,l,f),!0;case"mouseover":return ha=So(ha,e,n,a,l,f),!0;case"pointerover":var d=f.pointerId;return To.set(d,So(To.get(d)||null,e,n,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,bo.set(d,So(bo.get(d)||null,e,n,a,l,f)),!0}return!1}function Cv(e){var n=Ae(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,yt(e.priority,function(){Av(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,yt(e.priority,function(){Av(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=bd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ll=l,a.target.dispatchEvent(l),Ll=null}else return n=Ht(a),n!==null&&Sv(n),e.blockedOn=a,!1;n.shift()}return!0}function Dv(e,n,a){wc(e)&&a.delete(n)}function bb(){Ad=!1,ca!==null&&wc(ca)&&(ca=null),fa!==null&&wc(fa)&&(fa=null),ha!==null&&wc(ha)&&(ha=null),To.forEach(Dv),bo.forEach(Dv)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ad||(Ad=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bb)))}var Cc=null;function xv(e){Cc!==e&&(Cc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Sd(l||a)===null)continue;break}var d=Ht(a);d!==null&&(e.splice(n,3),n-=3,bh(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function rl(e){function n(I){return Rc(I,e)}ca!==null&&Rc(ca,e),fa!==null&&Rc(fa,e),ha!==null&&Rc(ha,e),To.forEach(n),bo.forEach(n);for(var a=0;a<da.length;a++){var l=da[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<da.length&&(a=da[0],a.blockedOn===null);)Cv(a),a.blockedOn===null&&da.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[dt]||null;if(typeof d=="function")v||xv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[dt]||null)b=v.formAction;else if(Sd(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),xv(a)}}}function Nv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function wd(e){this._internalRoot=e}Dc.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=ir();Tv(a,l,e,n,null,null)},Dc.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Tv(e.current,2,null,e,null,null),oc(),n[_t]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ct();e={blockedOn:null,target:e,priority:n};for(var a=0;a<da.length&&n!==0&&n<da[a].priority;a++);da.splice(a,0,e),a===0&&Cv(e)}};var Iv=t.version;if(Iv!=="19.2.3")throw Error(s(527,Iv,"19.2.3"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Sb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Yn=xc.inject(Sb),Te=xc}catch{}}return wo.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",f=jp,d=Pp,v=Bp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=_v(e,1,!1,null,null,a,l,null,f,d,v,Nv),e[_t]=n.current,sd(e),new wd(n)},wo.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=jp,v=Pp,b=Bp,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=_v(e,1,!0,n,a??null,l,f,I,d,v,b,Nv),n.context=Ev(null),a=n.current,l=ir(),l=G(l),f=Ji(l),f.callback=null,Wi(a,f,l),a=l,n.current.lanes=a,Pr(n,a),Jr(n),e[_t]=n.current,sd(e),new Dc(n)},wo.version="19.2.3",wo}var kv;function Ub(){if(kv)return Dd.exports;kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Dd.exports=zb(),Dd.exports}var jb=Ub();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R0=i=>{throw TypeError(i)},Pb=(i,t,r)=>t.has(i)||R0("Cannot "+r),Vd=(i,t,r)=>(Pb(i,t,"read from private field"),r?r.call(i):t.get(i)),Bb=(i,t,r)=>t.has(i)?R0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,r),qv="popstate";function kb(i={}){function t(s,o){let{pathname:u,search:h,hash:m}=s.location;return qo("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){return typeof o=="string"?o:ii(o)}return Hb(t,r,null,i)}function Kt(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function He(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qb(){return Math.random().toString(36).substring(2,10)}function Hv(i,t){return{usr:i.state,key:i.key,idx:t}}function qo(i,t,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?xa(t):t,state:r,key:t&&t.key||s||qb()}}function ii({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function xa(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function Hb(i,t,r,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let X=E(),at=X==null?null:X-g;g=X,p&&p({action:m,location:Z.location,delta:at})}function A(X,at){m="PUSH";let tt=qo(Z.location,X,at);g=E()+1;let lt=Hv(tt,g),xt=Z.createHref(tt);try{h.pushState(lt,"",xt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;o.location.assign(xt)}u&&p&&p({action:m,location:Z.location,delta:1})}function D(X,at){m="REPLACE";let tt=qo(Z.location,X,at);g=E();let lt=Hv(tt,g),xt=Z.createHref(tt);h.replaceState(lt,"",xt),u&&p&&p({action:m,location:Z.location,delta:0})}function k(X){return C0(X)}let Z={get action(){return m},get location(){return i(o,h)},listen(X){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qv,T),p=X,()=>{o.removeEventListener(qv,T),p=null}},createHref(X){return t(o,X)},createURL:k,encodeLocation(X){let at=k(X);return{pathname:at.pathname,search:at.search,hash:at.hash}},push:A,replace:D,go(X){return h.go(X)}};return Z}function C0(i,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Kt(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ii(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}var No,Fv=class{constructor(i){if(Bb(this,No,new Map),i)for(let[t,r]of i)this.set(t,r)}get(i){if(Vd(this,No).has(i))return Vd(this,No).get(i);if(i.defaultValue!==void 0)return i.defaultValue;throw new Error("No value found for context")}set(i,t){Vd(this,No).set(i,t)}};No=new WeakMap;var Fb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Gb(i){return Fb.has(i)}var Qb=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Yb(i){return Qb.has(i)}function Kb(i){return i.index===!0}function Ho(i,t,r=[],s={},o=!1){return i.map((u,h)=>{let m=[...r,String(h)],p=typeof u.id=="string"?u.id:m.join("-");if(Kt(u.index!==!0||!u.children,"Cannot specify children on an index route"),Kt(o||!s[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),Kb(u)){let g={...u,id:p};return s[p]=Gv(g,t(g)),g}else{let g={...u,id:p,children:void 0};return s[p]=Gv(g,t(g)),u.children&&(g.children=Ho(u.children,t,m,s,o)),g}})}function Gv(i,t){return Object.assign(i,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...i.lazy,...t.lazy}}:{}})}function ga(i,t,r="/"){return Io(i,t,r,!1)}function Io(i,t,r,s){let o=typeof t=="string"?xa(t):t,u=Sr(o.pathname||"/",r);if(u==null)return null;let h=D0(i);$b(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=lS(u);m=aS(h[p],g,s)}return m}function Xb(i,t){let{route:r,pathname:s,params:o}=i;return{id:r.id,pathname:s,params:o,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function D0(i,t=[],r=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;Kt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ti([s,E.relativePath]),A=r.concat(E);h.children&&h.children.length>0&&(Kt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),D0(h.children,t,A,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:rS(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of x0(h.path))u(h,m,!0,g)}),t}function x0(i){let t=i.split("/");if(t.length===0)return[];let[r,...s]=t,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=x0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function $b(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:iS(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Zb=/^:[\w-]+$/,Jb=3,Wb=2,tS=1,eS=10,nS=-2,Qv=i=>i==="*";function rS(i,t){let r=i.split("/"),s=r.length;return r.some(Qv)&&(s+=nS),t&&(s+=Wb),r.filter(o=>!Qv(o)).reduce((o,u)=>o+(Zb.test(u)?Jb:u===""?tS:eS),s)}function iS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function aS(i,t,r=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&r&&!s[s.length-1].route.index&&(T=Kc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ti([u,T.pathname]),pathnameBase:cS(ti([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=ti([u,T.pathnameBase]))}return h}function Kc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=sS(i.path,i.caseSensitive,i.end),o=t.match(r);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let k=m[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const D=m[A];return T&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function sS(i,t=!1,r=!0){He(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function lS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return He(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Sr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function oS({basename:i,pathname:t}){return t==="/"?i:ti([i,t])}var N0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ff=i=>N0.test(i);function uS(i,t="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?xa(i):i,u;if(r)if(ff(r))u=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),He(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${r}`)}r.startsWith("/")?u=Yv(r.substring(1),"/"):u=Yv(r,t)}else u=t;return{pathname:u,search:fS(s),hash:hS(o)}}function Yv(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Md(i,t,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I0(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hf(i){let t=I0(i);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function df(i,t,r,s=!1){let o;typeof i=="string"?o=xa(i):(o={...i},Kt(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),Kt(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),Kt(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=r;else{let T=t.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?t[T]:"/"}let p=uS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ti=i=>i.join("/").replace(/\/\/+/g,"/"),cS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,hS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,tu=class{constructor(i,t,r,s=!1){this.status=i,this.statusText=t||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Fo(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function eu(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M0(i,t){let r=i;if(typeof r!="string"||!N0.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let s=r,o=!1;if(V0)try{let u=new URL(window.location.href),h=r.startsWith("//")?new URL(u.protocol+r):new URL(r),m=Sr(h.pathname,t);h.origin===u.origin&&m!=null?r=m+h.search+h.hash:o=!0}catch{He(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:r}}var ya=Symbol("Uninstrumented");function dS(i,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};i.forEach(o=>o({id:t.id,index:t.index,path:t.path,instrument(u){let h=Object.keys(r);for(let m of h)u[m]&&r[m].push(u[m])}}));let s={};if(typeof t.lazy=="function"&&r.lazy.length>0){let o=ul(r.lazy,t.lazy,()=>{});o&&(s.lazy=o)}if(typeof t.lazy=="object"){let o=t.lazy;["middleware","loader","action"].forEach(u=>{let h=o[u],m=r[`lazy.${u}`];if(typeof h=="function"&&m.length>0){let p=ul(m,h,()=>{});p&&(s.lazy=Object.assign(s.lazy||{},{[u]:p}))}})}return["loader","action"].forEach(o=>{let u=t[o];if(typeof u=="function"&&r[o].length>0){let h=u[ya]??u,m=ul(r[o],h,(...p)=>Kv(p[0]));m&&(m[ya]=h,s[o]=m)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(s.middleware=t.middleware.map(o=>{let u=o[ya]??o,h=ul(r.middleware,u,(...m)=>Kv(m[0]));return h?(h[ya]=u,h):o})),s}function mS(i,t){let r={navigate:[],fetch:[]};if(t.forEach(s=>s({instrument(o){let u=Object.keys(o);for(let h of u)o[h]&&r[h].push(o[h])}})),r.navigate.length>0){let s=i.navigate[ya]??i.navigate,o=ul(r.navigate,s,(...u)=>{let[h,m]=u;return{to:typeof h=="number"||typeof h=="string"?h:h?ii(h):".",...Xv(i,m??{})}});o&&(o[ya]=s,i.navigate=o)}if(r.fetch.length>0){let s=i.fetch[ya]??i.fetch,o=ul(r.fetch,s,(...u)=>{let[h,,m,p]=u;return{href:m??".",fetcherKey:h,...Xv(i,p??{})}});o&&(o[ya]=s,i.fetch=o)}return i}function ul(i,t,r){return i.length===0?null:async(...s)=>{let o=await O0(i,r(...s),()=>t(...s),i.length-1);if(o.type==="error")throw o.value;return o.value}}async function O0(i,t,r,s){let o=i[s],u;if(o){let h,m=async()=>(h?console.error("You cannot call instrumented handlers more than once"):h=O0(i,t,r,s-1),u=await h,Kt(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(m,t)}catch(p){console.error("An instrumentation function threw an error:",p)}h||await m(),await h}else try{u={type:"success",value:await r()}}catch(h){u={type:"error",value:h}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Kv(i){let{request:t,context:r,params:s,unstable_pattern:o}=i;return{request:gS(t),params:{...s},unstable_pattern:o,context:pS(r)}}function Xv(i,t){return{currentUrl:ii(i.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function gS(i){return{method:i.method,url:i.url,headers:{get:(...t)=>i.headers.get(...t)}}}function pS(i){if(vS(i)){let t={...i};return Object.freeze(t),t}else return{get:t=>i.get(t)}}var yS=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vS(i){if(i===null||typeof i!="object")return!1;const t=Object.getPrototypeOf(i);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===yS}var L0=["POST","PUT","PATCH","DELETE"],_S=new Set(L0),ES=["GET",...L0],TS=new Set(ES),z0=new Set([301,302,303,307,308]),bS=new Set([307,308]),Od={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ro={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AS=i=>({hasErrorBoundary:!!i.hasErrorBoundary}),U0="remix-router-transitions",j0=Symbol("ResetLoaderData");function wS(i){const t=i.window?i.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Kt(i.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=i.hydrationRouteProperties||[],o=i.mapRouteProperties||AS,u=o;if(i.unstable_instrumentations){let N=i.unstable_instrumentations;u=j=>({...o(j),...dS(N.map(G=>G.route).filter(Boolean),j)})}let h={},m=Ho(i.routes,u,void 0,h),p,g=i.basename||"/";g.startsWith("/")||(g=`/${g}`);let E=i.dataStrategy||NS,T={...i.future},A=null,D=new Set,k=null,Z=null,X=null,at=i.hydrationData!=null,tt=ga(m,i.history.location,g),lt=!1,xt=null,Rt;if(tt==null&&!i.patchRoutesOnNavigation){let N=_r(404,{pathname:i.history.location.pathname}),{matches:j,route:G}=Nc(m);Rt=!0,tt=j,xt={[G.id]:N}}else if(tt&&!i.hydrationData&&oi(tt,m,i.history.location.pathname).active&&(tt=null),tt)if(tt.some(N=>N.route.lazy))Rt=!1;else if(!tt.some(N=>Em(N.route)))Rt=!0;else{let N=i.hydrationData?i.hydrationData.loaderData:null,j=i.hydrationData?i.hydrationData.errors:null;if(j){let G=tt.findIndex(st=>j[st.route.id]!==void 0);Rt=tt.slice(0,G+1).every(st=>!Kd(st.route,N,j))}else Rt=tt.every(G=>!Kd(G.route,N,j))}else{Rt=!1,tt=[];let N=oi(null,m,i.history.location.pathname);N.active&&N.matches&&(lt=!0,tt=N.matches)}let St,S={historyAction:i.history.action,location:i.history.location,matches:tt,initialized:Rt,navigation:Od,restoreScrollPosition:i.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:i.hydrationData&&i.hydrationData.loaderData||{},actionData:i.hydrationData&&i.hydrationData.actionData||null,errors:i.hydrationData&&i.hydrationData.errors||xt,fetchers:new Map,blockers:new Map},R="POP",C=null,O=!1,V,U=!1,x=new Map,jt=null,ae=!1,Q=!1,ot=new Set,mt=new Map,Vt=0,Mt=-1,M=new Map,J=new Set,ut=new Map,gt=new Map,bt=new Set,Nt=new Map,Qt,Ee=null;function Se(){if(A=i.history.listen(({action:N,location:j,delta:G})=>{if(Qt){Qt(),Qt=void 0;return}He(Nt.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let st=jr({currentLocation:S.location,nextLocation:j,historyAction:N});if(st&&G!=null){let ct=new Promise(yt=>{Qt=yt});i.history.go(G*-1),Dn(st,{state:"blocked",location:j,proceed(){Dn(st,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ct.then(()=>i.history.go(G))},reset(){let yt=new Map(S.blockers);yt.set(st,Ro),ze({blockers:yt})}}),C==null||C.resolve(),C=null;return}return Rn(N,j)}),r){KS(t,x);let N=()=>XS(t,x);t.addEventListener("pagehide",N),jt=()=>t.removeEventListener("pagehide",N)}return S.initialized||Rn("POP",S.location,{initialHydration:!0}),St}function si(){A&&A(),jt&&jt(),D.clear(),V&&V.abort(),S.fetchers.forEach((N,j)=>zi(j)),S.blockers.forEach((N,j)=>za(j))}function Oi(N){return D.add(N),()=>D.delete(N)}function ze(N,j={}){N.matches&&(N.matches=N.matches.map(ct=>{let yt=h[ct.route.id],Et=ct.route;return Et.element!==yt.element||Et.errorElement!==yt.errorElement||Et.hydrateFallbackElement!==yt.hydrateFallbackElement?{...ct,route:yt}:ct})),S={...S,...N};let G=[],st=[];S.fetchers.forEach((ct,yt)=>{ct.state==="idle"&&(bt.has(yt)?G.push(yt):st.push(yt))}),bt.forEach(ct=>{!S.fetchers.has(ct)&&!mt.has(ct)&&G.push(ct)}),[...D].forEach(ct=>ct(S,{deletedFetchers:G,newErrors:N.errors??null,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),G.forEach(ct=>zi(ct)),st.forEach(ct=>S.fetchers.delete(ct))}function Hn(N,j,{flushSync:G}={}){var Ot,wt;let st=S.actionData!=null&&S.navigation.formMethod!=null&&Sn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Ot=N.state)==null?void 0:Ot._isRedirect)!==!0,ct;j.actionData?Object.keys(j.actionData).length>0?ct=j.actionData:ct=null:st?ct=S.actionData:ct=null;let yt=j.loaderData?a_(S.loaderData,j.loaderData,j.matches||[],j.errors):S.loaderData,Et=S.blockers;Et.size>0&&(Et=new Map(Et),Et.forEach((zt,Yt)=>Et.set(Yt,Ro)));let ft=ae?!1:Es(N,j.matches||S.matches),dt=O===!0||S.navigation.formMethod!=null&&Sn(S.navigation.formMethod)&&((wt=N.state)==null?void 0:wt._isRedirect)!==!0;p&&(m=p,p=void 0),ae||R==="POP"||(R==="PUSH"?i.history.push(N,N.state):R==="REPLACE"&&i.history.replace(N,N.state));let _t;if(R==="POP"){let zt=x.get(S.location.pathname);zt&&zt.has(N.pathname)?_t={currentLocation:S.location,nextLocation:N}:x.has(N.pathname)&&(_t={currentLocation:N,nextLocation:S.location})}else if(U){let zt=x.get(S.location.pathname);zt?zt.add(N.pathname):(zt=new Set([N.pathname]),x.set(S.location.pathname,zt)),_t={currentLocation:S.location,nextLocation:N}}ze({...j,actionData:ct,loaderData:yt,historyAction:R,location:N,initialized:!0,navigation:Od,revalidation:"idle",restoreScrollPosition:ft,preventScrollReset:dt,blockers:Et},{viewTransitionOpts:_t,flushSync:G===!0}),R="POP",O=!1,U=!1,ae=!1,Q=!1,C==null||C.resolve(),C=null,Ee==null||Ee.resolve(),Ee=null}async function Fn(N,j){if(C==null||C.resolve(),C=null,typeof N=="number"){C||(C=u_());let Yt=C.promise;return i.history.go(N),Yt}let G=Yd(S.location,S.matches,g,N,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:st,submission:ct,error:yt}=$v(!1,G,j),Et=S.location,ft=qo(S.location,st,j&&j.state);ft={...ft,...i.history.encodeLocation(ft)};let dt=j&&j.replace!=null?j.replace:void 0,_t="PUSH";dt===!0?_t="REPLACE":dt===!1||ct!=null&&Sn(ct.formMethod)&&ct.formAction===S.location.pathname+S.location.search&&(_t="REPLACE");let Ot=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,wt=(j&&j.flushSync)===!0,zt=jr({currentLocation:Et,nextLocation:ft,historyAction:_t});if(zt){Dn(zt,{state:"blocked",location:ft,proceed(){Dn(zt,{state:"proceeding",proceed:void 0,reset:void 0,location:ft}),Fn(N,j)},reset(){let Yt=new Map(S.blockers);Yt.set(zt,Ro),ze({blockers:Yt})}});return}await Rn(_t,ft,{submission:ct,pendingError:yt,preventScrollReset:Ot,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:wt,callSiteDefaultShouldRevalidate:j&&j.unstable_defaultShouldRevalidate})}function Ia(){Ee||(Ee=u_()),li(),ze({revalidation:"loading"});let N=Ee.promise;return S.navigation.state==="submitting"?N:S.navigation.state==="idle"?(Rn(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),N):(Rn(R||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:U===!0}),N)}async function Rn(N,j,G){V&&V.abort(),V=null,R=N,ae=(G&&G.startUninterruptedRevalidation)===!0,Xn(S.location,S.matches),O=(G&&G.preventScrollReset)===!0,U=(G&&G.enableViewTransition)===!0;let st=p||m,ct=G&&G.overrideNavigation,yt=G!=null&&G.initialHydration&&S.matches&&S.matches.length>0&&!lt?S.matches:ga(st,j,g),Et=(G&&G.flushSync)===!0;if(yt&&S.initialized&&!Q&&jS(S.location,j)&&!(G&&G.submission&&Sn(G.submission.formMethod))){Hn(j,{matches:yt},{flushSync:Et});return}let ft=oi(yt,st,j.pathname);if(ft.active&&ft.matches&&(yt=ft.matches),!yt){let{error:De,notFoundMatches:Ae,route:Ht}=Me(j.pathname);Hn(j,{matches:Ae,loaderData:{},errors:{[Ht.id]:De}},{flushSync:Et});return}V=new AbortController;let dt=il(i.history,j,V.signal,G&&G.submission),_t=i.getContext?await i.getContext():new Fv,Ot;if(G&&G.pendingError)Ot=[pa(yt).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Sn(G.submission.formMethod)){let De=await Va(dt,j,G.submission,yt,_t,ft.active,G&&G.initialHydration===!0,{replace:G.replace,flushSync:Et});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ae,Ht]=De.pendingActionResult;if(ar(Ht)&&Fo(Ht.error)&&Ht.error.status===404){V=null,Hn(j,{matches:De.matches,loaderData:{},errors:{[Ae]:Ht.error}});return}}yt=De.matches||yt,Ot=De.pendingActionResult,ct=Ld(j,G.submission),Et=!1,ft.active=!1,dt=il(i.history,dt.url,dt.signal)}let{shortCircuited:wt,matches:zt,loaderData:Yt,errors:me}=await Ma(dt,j,yt,_t,ft.active,ct,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Et,Ot,G&&G.callSiteDefaultShouldRevalidate);wt||(V=null,Hn(j,{matches:zt||yt,...s_(Ot),loaderData:Yt,errors:me}))}async function Va(N,j,G,st,ct,yt,Et,ft={}){li();let dt=QS(j,G);if(ze({navigation:dt},{flushSync:ft.flushSync===!0}),yt){let wt=await xn(st,j.pathname,N.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){if(wt.partialMatches.length===0){let{matches:Yt,route:me}=Nc(m);return{matches:Yt,pendingActionResult:[me.id,{type:"error",error:wt.error}]}}let zt=pa(wt.partialMatches).route.id;return{matches:wt.partialMatches,pendingActionResult:[zt,{type:"error",error:wt.error}]}}else if(wt.matches)st=wt.matches;else{let{notFoundMatches:zt,error:Yt,route:me}=Me(j.pathname);return{matches:zt,pendingActionResult:[me.id,{type:"error",error:Yt}]}}}let _t,Ot=jc(st,j);if(!Ot.route.action&&!Ot.route.lazy)_t={type:"error",error:_r(405,{method:N.method,pathname:j.pathname,routeId:Ot.route.id})};else{let wt=cl(u,h,N,st,Ot,Et?[]:s,ct),zt=await Gn(N,wt,ct,null);if(_t=zt[Ot.route.id],!_t){for(let Yt of st)if(zt[Yt.route.id]){_t=zt[Yt.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(os(_t)){let wt;return ft&&ft.replace!=null?wt=ft.replace:wt=n_(_t.response.headers.get("Location"),new URL(N.url),g)===S.location.pathname+S.location.search,await je(N,_t,!0,{submission:G,replace:wt}),{shortCircuited:!0}}if(ar(_t)){let wt=pa(st,Ot.route.id);return(ft&&ft.replace)!==!0&&(R="PUSH"),{matches:st,pendingActionResult:[wt.route.id,_t,Ot.route.id]}}return{matches:st,pendingActionResult:[Ot.route.id,_t]}}async function Ma(N,j,G,st,ct,yt,Et,ft,dt,_t,Ot,wt,zt){let Yt=yt||Ld(j,Et),me=Et||ft||o_(Yt),De=!ae&&!_t;if(ct){if(De){let Pe=Ue(wt);ze({navigation:Yt,...Pe!==void 0?{actionData:Pe}:{}},{flushSync:Ot})}let Xt=await xn(G,j.pathname,N.signal);if(Xt.type==="aborted")return{shortCircuited:!0};if(Xt.type==="error"){if(Xt.partialMatches.length===0){let{matches:Xe,route:ge}=Nc(m);return{matches:Xe,loaderData:{},errors:{[ge.id]:Xt.error}}}let Pe=pa(Xt.partialMatches).route.id;return{matches:Xt.partialMatches,loaderData:{},errors:{[Pe]:Xt.error}}}else if(Xt.matches)G=Xt.matches;else{let{error:Pe,notFoundMatches:Xe,route:ge}=Me(j.pathname);return{matches:Xe,loaderData:{},errors:{[ge.id]:Pe}}}}let Ae=p||m,{dsMatches:Ht,revalidatingFetchers:we}=Zv(N,st,u,h,i.history,S,G,me,j,_t?[]:s,_t===!0,Q,ot,bt,ut,J,Ae,g,i.patchRoutesOnNavigation!=null,wt,zt);if(Mt=++Vt,!i.dataStrategy&&!Ht.some(Xt=>Xt.shouldLoad)&&!Ht.some(Xt=>Xt.route.middleware&&Xt.route.middleware.length>0)&&we.length===0){let Xt=Ve();return Hn(j,{matches:G,loaderData:{},errors:wt&&ar(wt[1])?{[wt[0]]:wt[1].error}:null,...s_(wt),...Xt?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Ot}),{shortCircuited:!0}}if(De){let Xt={};if(!ct){Xt.navigation=Yt;let Pe=Ue(wt);Pe!==void 0&&(Xt.actionData=Pe)}we.length>0&&(Xt.fetchers=Fe(we)),ze(Xt,{flushSync:Ot})}we.forEach(Xt=>{Te(Xt.key),Xt.controller&&mt.set(Xt.key,Xt.controller)});let on=()=>we.forEach(Xt=>Te(Xt.key));V&&V.signal.addEventListener("abort",on);let{loaderResults:Re,fetcherResults:Mn}=await Li(Ht,we,N,st);if(N.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",on),we.forEach(Xt=>mt.delete(Xt.key));let _n=Ic(Re);if(_n)return await je(N,_n.result,!0,{replace:dt}),{shortCircuited:!0};if(_n=Ic(Mn),_n)return J.add(_n.key),await je(N,_n.result,!0,{replace:dt}),{shortCircuited:!0};let{loaderData:On,errors:En}=i_(S,G,Re,wt,we,Mn);_t&&S.errors&&(En={...S.errors,...En});let $n=Ve(),Br=La(Mt),kr=$n||Br||we.length>0;return{matches:G,loaderData:On,errors:En,...kr?{fetchers:new Map(S.fetchers)}:{}}}function Ue(N){if(N&&!ar(N[1]))return{[N[0]]:N[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Fe(N){return N.forEach(j=>{let G=S.fetchers.get(j.key),st=Co(void 0,G?G.data:void 0);S.fetchers.set(j.key,st)}),new Map(S.fetchers)}async function Ur(N,j,G,st){Te(N);let ct=(st&&st.flushSync)===!0,yt=p||m,Et=Yd(S.location,S.matches,g,G,j,st==null?void 0:st.relative),ft=ga(yt,Et,g),dt=oi(ft,yt,Et);if(dt.active&&dt.matches&&(ft=dt.matches),!ft){Qn(N,j,_r(404,{pathname:Et}),{flushSync:ct});return}let{path:_t,submission:Ot,error:wt}=$v(!0,Et,st);if(wt){Qn(N,j,wt,{flushSync:ct});return}let zt=i.getContext?await i.getContext():new Fv,Yt=(st&&st.preventScrollReset)===!0;if(Ot&&Sn(Ot.formMethod)){await Nl(N,j,_t,ft,zt,dt.active,ct,Yt,Ot,st&&st.unstable_defaultShouldRevalidate);return}ut.set(N,{routeId:j,path:_t}),await vs(N,j,_t,ft,zt,dt.active,ct,Yt,Ot)}async function Nl(N,j,G,st,ct,yt,Et,ft,dt,_t){li(),ut.delete(N);let Ot=S.fetchers.get(N);ln(N,YS(dt,Ot),{flushSync:Et});let wt=new AbortController,zt=il(i.history,G,wt.signal,dt);if(yt){let Ft=await xn(st,new URL(zt.url).pathname,zt.signal,N);if(Ft.type==="aborted")return;if(Ft.type==="error"){Qn(N,j,Ft.error,{flushSync:Et});return}else if(Ft.matches)st=Ft.matches;else{Qn(N,j,_r(404,{pathname:G}),{flushSync:Et});return}}let Yt=jc(st,G);if(!Yt.route.action&&!Yt.route.lazy){let Ft=_r(405,{method:dt.formMethod,pathname:G,routeId:j});Qn(N,j,Ft,{flushSync:Et});return}mt.set(N,wt);let me=Vt,De=cl(u,h,zt,st,Yt,s,ct),Ae=await Gn(zt,De,ct,N),Ht=Ae[Yt.route.id];if(!Ht){for(let Ft of De)if(Ae[Ft.route.id]){Ht=Ae[Ft.route.id];break}}if(zt.signal.aborted){mt.get(N)===wt&&mt.delete(N);return}if(bt.has(N)){if(os(Ht)||ar(Ht)){ln(N,Di(void 0));return}}else{if(os(Ht))if(mt.delete(N),Mt>me){ln(N,Di(void 0));return}else return J.add(N),ln(N,Co(dt)),je(zt,Ht,!1,{fetcherSubmission:dt,preventScrollReset:ft});if(ar(Ht)){Qn(N,j,Ht.error);return}}let we=S.navigation.location||S.location,on=il(i.history,we,wt.signal),Re=p||m,Mn=S.navigation.state!=="idle"?ga(Re,S.navigation.location,g):S.matches;Kt(Mn,"Didn't find any matches after fetcher action");let _n=++Vt;M.set(N,_n);let On=Co(dt,Ht.data);S.fetchers.set(N,On);let{dsMatches:En,revalidatingFetchers:$n}=Zv(on,ct,u,h,i.history,S,Mn,dt,we,s,!1,Q,ot,bt,ut,J,Re,g,i.patchRoutesOnNavigation!=null,[Yt.route.id,Ht],_t);$n.filter(Ft=>Ft.key!==N).forEach(Ft=>{let Zn=Ft.key,ji=S.fetchers.get(Zn),oe=Co(void 0,ji?ji.data:void 0);S.fetchers.set(Zn,oe),Te(Zn),Ft.controller&&mt.set(Zn,Ft.controller)}),ze({fetchers:new Map(S.fetchers)});let Br=()=>$n.forEach(Ft=>Te(Ft.key));wt.signal.addEventListener("abort",Br);let{loaderResults:kr,fetcherResults:Xt}=await Li(En,$n,on,ct);if(wt.signal.aborted)return;if(wt.signal.removeEventListener("abort",Br),M.delete(N),mt.delete(N),$n.forEach(Ft=>mt.delete(Ft.key)),S.fetchers.has(N)){let Ft=Di(Ht.data);S.fetchers.set(N,Ft)}let Pe=Ic(kr);if(Pe)return je(on,Pe.result,!1,{preventScrollReset:ft});if(Pe=Ic(Xt),Pe)return J.add(Pe.key),je(on,Pe.result,!1,{preventScrollReset:ft});let{loaderData:Xe,errors:ge}=i_(S,Mn,kr,void 0,$n,Xt);La(_n),S.navigation.state==="loading"&&_n>Mt?(Kt(R,"Expected pending action"),V&&V.abort(),Hn(S.navigation.location,{matches:Mn,loaderData:Xe,errors:ge,fetchers:new Map(S.fetchers)})):(ze({errors:ge,loaderData:a_(S.loaderData,Xe,Mn,ge),fetchers:new Map(S.fetchers)}),Q=!1)}async function vs(N,j,G,st,ct,yt,Et,ft,dt){let _t=S.fetchers.get(N);ln(N,Co(dt,_t?_t.data:void 0),{flushSync:Et});let Ot=new AbortController,wt=il(i.history,G,Ot.signal);if(yt){let Ht=await xn(st,new URL(wt.url).pathname,wt.signal,N);if(Ht.type==="aborted")return;if(Ht.type==="error"){Qn(N,j,Ht.error,{flushSync:Et});return}else if(Ht.matches)st=Ht.matches;else{Qn(N,j,_r(404,{pathname:G}),{flushSync:Et});return}}let zt=jc(st,G);mt.set(N,Ot);let Yt=Vt,me=cl(u,h,wt,st,zt,s,ct),Ae=(await Gn(wt,me,ct,N))[zt.route.id];if(mt.get(N)===Ot&&mt.delete(N),!wt.signal.aborted){if(bt.has(N)){ln(N,Di(void 0));return}if(os(Ae))if(Mt>Yt){ln(N,Di(void 0));return}else{J.add(N),await je(wt,Ae,!1,{preventScrollReset:ft});return}if(ar(Ae)){Qn(N,j,Ae.error);return}ln(N,Di(Ae.data))}}async function je(N,j,G,{submission:st,fetcherSubmission:ct,preventScrollReset:yt,replace:Et}={}){G||(C==null||C.resolve(),C=null),j.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let ft=j.response.headers.get("Location");Kt(ft,"Expected a Location header on the redirect Response"),ft=n_(ft,new URL(N.url),g);let dt=qo(S.location,ft,{_isRedirect:!0});if(r){let me=!1;if(j.response.headers.has("X-Remix-Reload-Document"))me=!0;else if(ff(ft)){const De=C0(ft,!0);me=De.origin!==t.location.origin||Sr(De.pathname,g)==null}if(me){Et?t.location.replace(ft):t.location.assign(ft);return}}V=null;let _t=Et===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ot,formAction:wt,formEncType:zt}=S.navigation;!st&&!ct&&Ot&&wt&&zt&&(st=o_(S.navigation));let Yt=st||ct;if(bS.has(j.response.status)&&Yt&&Sn(Yt.formMethod))await Rn(_t,dt,{submission:{...Yt,formAction:ft},preventScrollReset:yt||O,enableViewTransition:G?U:void 0});else{let me=Ld(dt,st);await Rn(_t,dt,{overrideNavigation:me,fetcherSubmission:ct,preventScrollReset:yt||O,enableViewTransition:G?U:void 0})}}async function Gn(N,j,G,st){var Et;let ct,yt={};try{ct=await VS(E,N,j,st,G,!1)}catch(ft){return j.filter(dt=>dt.shouldLoad).forEach(dt=>{yt[dt.route.id]={type:"error",error:ft}}),yt}if(N.signal.aborted)return yt;if(!Sn(N.method))for(let ft of j){if(((Et=ct[ft.route.id])==null?void 0:Et.type)==="error")break;!ct.hasOwnProperty(ft.route.id)&&!S.loaderData.hasOwnProperty(ft.route.id)&&(!S.errors||!S.errors.hasOwnProperty(ft.route.id))&&ft.shouldCallHandler()&&(ct[ft.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ft.route.id}`)})}for(let[ft,dt]of Object.entries(ct))if(qS(dt)){let _t=dt.result;yt[ft]={type:"redirect",response:zS(_t,N,ft,j,g)}}else yt[ft]=await LS(dt);return yt}async function Li(N,j,G,st){let ct=Gn(G,N,st,null),yt=Promise.all(j.map(async dt=>{if(dt.matches&&dt.match&&dt.request&&dt.controller){let Ot=(await Gn(dt.request,dt.matches,st,dt.key))[dt.match.route.id];return{[dt.key]:Ot}}else return Promise.resolve({[dt.key]:{type:"error",error:_r(404,{pathname:dt.path})}})})),Et=await ct,ft=(await yt).reduce((dt,_t)=>Object.assign(dt,_t),{});return{loaderResults:Et,fetcherResults:ft}}function li(){Q=!0,ut.forEach((N,j)=>{mt.has(j)&&ot.add(j),Te(j)})}function ln(N,j,G={}){S.fetchers.set(N,j),ze({fetchers:new Map(S.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Qn(N,j,G,st={}){let ct=pa(S.matches,j);zi(N),ze({errors:{[ct.route.id]:G},fetchers:new Map(S.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function Oa(N){return gt.set(N,(gt.get(N)||0)+1),bt.has(N)&&bt.delete(N),S.fetchers.get(N)||SS}function _s(N,j){Te(N,j==null?void 0:j.reason),ln(N,Di(null))}function zi(N){let j=S.fetchers.get(N);mt.has(N)&&!(j&&j.state==="loading"&&M.has(N))&&Te(N),ut.delete(N),M.delete(N),J.delete(N),bt.delete(N),ot.delete(N),S.fetchers.delete(N)}function Yn(N){let j=(gt.get(N)||0)-1;j<=0?(gt.delete(N),bt.add(N)):gt.set(N,j),ze({fetchers:new Map(S.fetchers)})}function Te(N,j){let G=mt.get(N);G&&(G.abort(j),mt.delete(N))}function Cn(N){for(let j of N){let G=Oa(j),st=Di(G.data);S.fetchers.set(j,st)}}function Ve(){let N=[],j=!1;for(let G of J){let st=S.fetchers.get(G);Kt(st,`Expected fetcher: ${G}`),st.state==="loading"&&(J.delete(G),N.push(G),j=!0)}return Cn(N),j}function La(N){let j=[];for(let[G,st]of M)if(st<N){let ct=S.fetchers.get(G);Kt(ct,`Expected fetcher: ${G}`),ct.state==="loading"&&(Te(G),M.delete(G),j.push(G))}return Cn(j),j.length>0}function Ui(N,j){let G=S.blockers.get(N)||Ro;return Nt.get(N)!==j&&Nt.set(N,j),G}function za(N){S.blockers.delete(N),Nt.delete(N)}function Dn(N,j){let G=S.blockers.get(N)||Ro;Kt(G.state==="unblocked"&&j.state==="blocked"||G.state==="blocked"&&j.state==="blocked"||G.state==="blocked"&&j.state==="proceeding"||G.state==="blocked"&&j.state==="unblocked"||G.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${j.state}`);let st=new Map(S.blockers);st.set(N,j),ze({blockers:st})}function jr({currentLocation:N,nextLocation:j,historyAction:G}){if(Nt.size===0)return;Nt.size>1&&He(!1,"A router only supports one blocker at a time");let st=Array.from(Nt.entries()),[ct,yt]=st[st.length-1],Et=S.blockers.get(ct);if(!(Et&&Et.state==="proceeding")&&yt({currentLocation:N,nextLocation:j,historyAction:G}))return ct}function Me(N){let j=_r(404,{pathname:N}),G=p||m,{matches:st,route:ct}=Nc(G);return{notFoundMatches:st,route:ct,error:j}}function lr(N,j,G){if(k=N,X=j,Z=G||null,!at&&S.navigation===Od){at=!0;let st=Es(S.location,S.matches);st!=null&&ze({restoreScrollPosition:st})}return()=>{k=null,X=null,Z=null}}function Kn(N,j){return Z&&Z(N,j.map(st=>Xb(st,S.loaderData)))||N.key}function Xn(N,j){if(k&&X){let G=Kn(N,j);k[G]=X()}}function Es(N,j){if(k){let G=Kn(N,j),st=k[G];if(typeof st=="number")return st}return null}function oi(N,j,G){if(i.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Io(j,G,g,!0)}}else return{active:!0,matches:Io(j,G,g,!0)||[]};return{active:!1,matches:null}}async function xn(N,j,G,st){if(!i.patchRoutesOnNavigation)return{type:"success",matches:N};let ct=N;for(;;){let yt=p==null,Et=p||m,ft=h;try{await i.patchRoutesOnNavigation({signal:G,path:j,matches:ct,fetcherKey:st,patch:(Ot,wt)=>{G.aborted||Jv(Ot,wt,Et,ft,u,!1)}})}catch(Ot){return{type:"error",error:Ot,partialMatches:ct}}finally{yt&&!G.aborted&&(m=[...m])}if(G.aborted)return{type:"aborted"};let dt=ga(Et,j,g),_t=null;if(dt){if(Object.keys(dt[0].params).length===0)return{type:"success",matches:dt};if(_t=Io(Et,j,g,!0),!(_t&&ct.length<_t.length&&Pr(ct,_t.slice(0,ct.length))))return{type:"success",matches:dt}}if(_t||(_t=Io(Et,j,g,!0)),!_t||Pr(ct,_t))return{type:"success",matches:null};ct=_t}}function Pr(N,j){return N.length===j.length&&N.every((G,st)=>G.route.id===j[st].route.id)}function Il(N){h={},p=Ho(N,u,void 0,h)}function ui(N,j,G=!1){let st=p==null;Jv(N,j,p||m,h,u,G),st&&(m=[...m],ze({}))}return St={get basename(){return g},get future(){return T},get state(){return S},get routes(){return m},get window(){return t},initialize:Se,subscribe:Oi,enableScrollRestoration:lr,navigate:Fn,fetch:Ur,revalidate:Ia,createHref:N=>i.history.createHref(N),encodeLocation:N=>i.history.encodeLocation(N),getFetcher:Oa,resetFetcher:_s,deleteFetcher:Yn,dispose:si,getBlocker:Ui,deleteBlocker:za,patchRoutes:ui,_internalFetchControllers:mt,_internalSetRoutes:Il,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){ze(N)}},i.unstable_instrumentations&&(St=mS(St,i.unstable_instrumentations.map(N=>N.router).filter(Boolean))),St}function RS(i){return i!=null&&("formData"in i&&i.formData!=null||"body"in i&&i.body!==void 0)}function Yd(i,t,r,s,o,u){let h,m;if(o){h=[];for(let g of t)if(h.push(g),g.route.id===o){m=g;break}}else h=t,m=t[t.length-1];let p=df(s||".",hf(h),Sr(i.pathname,r)||i.pathname,u==="path");if(s==null&&(p.search=i.search,p.hash=i.hash),(s==null||s===""||s===".")&&m){let g=bm(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let E=new URLSearchParams(p.search),T=E.getAll("index");E.delete("index"),T.filter(D=>D).forEach(D=>E.append("index",D));let A=E.toString();p.search=A?`?${A}`:""}}return r!=="/"&&(p.pathname=oS({basename:r,pathname:p.pathname})),ii(p)}function $v(i,t,r){if(!r||!RS(r))return{path:t};if(r.formMethod&&!GS(r.formMethod))return{path:t,error:_r(405,{method:r.formMethod})};let s=()=>({path:t,error:_r(400,{type:"invalid-body"})}),u=(r.formMethod||"get").toUpperCase(),h=F0(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Sn(u))return s();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((A,[D,k])=>`${A}${D}=${k}
`,""):String(r.body);return{path:t,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!Sn(u))return s();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:h,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}Kt(typeof FormData=="function","FormData is not available in this environment");let m,p;if(r.formData)m=$d(r.formData),p=r.formData;else if(r.body instanceof FormData)m=$d(r.body),p=r.body;else if(r.body instanceof URLSearchParams)m=r.body,p=r_(m);else if(r.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(r.body),p=r_(m)}catch{return s()}let g={formMethod:u,formAction:h,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Sn(g.formMethod))return{path:t,submission:g};let E=xa(t);return i&&E.search&&bm(E.search)&&m.append("index",""),E.search=`?${m}`,{path:ii(E),submission:g}}function Zv(i,t,r,s,o,u,h,m,p,g,E,T,A,D,k,Z,X,at,tt,lt,xt){var ae;let Rt=lt?ar(lt[1])?lt[1].error:lt[1].data:void 0,St=o.createURL(u.location),S=o.createURL(p),R;if(E&&u.errors){let Q=Object.keys(u.errors)[0];R=h.findIndex(ot=>ot.route.id===Q)}else if(lt&&ar(lt[1])){let Q=lt[0];R=h.findIndex(ot=>ot.route.id===Q)-1}let C=lt?lt[1].statusCode:void 0,O=C&&C>=400,V={currentUrl:St,currentParams:((ae=u.matches[0])==null?void 0:ae.params)||{},nextUrl:S,nextParams:h[0].params,...m,actionResult:Rt,actionStatus:C},U=eu(h),x=h.map((Q,ot)=>{let{route:mt}=Q,Vt=null;if(R!=null&&ot>R?Vt=!1:mt.lazy?Vt=!0:Em(mt)?E?Vt=Kd(mt,u.loaderData,u.errors):CS(u.loaderData,u.matches[ot],Q)&&(Vt=!0):Vt=!1,Vt!==null)return Xd(r,s,i,U,Q,g,t,Vt);let Mt=!1;typeof xt=="boolean"?Mt=xt:O?Mt=!1:(T||St.pathname+St.search===S.pathname+S.search||St.search!==S.search||DS(u.matches[ot],Q))&&(Mt=!0);let M={...V,defaultShouldRevalidate:Mt},J=zo(Q,M);return Xd(r,s,i,U,Q,g,t,J,M,xt)}),jt=[];return k.forEach((Q,ot)=>{if(E||!h.some(bt=>bt.route.id===Q.routeId)||D.has(ot))return;let mt=u.fetchers.get(ot),Vt=mt&&mt.state!=="idle"&&mt.data===void 0,Mt=ga(X,Q.path,at);if(!Mt){if(tt&&Vt)return;jt.push({key:ot,routeId:Q.routeId,path:Q.path,matches:null,match:null,request:null,controller:null});return}if(Z.has(ot))return;let M=jc(Mt,Q.path),J=new AbortController,ut=il(o,Q.path,J.signal),gt=null;if(A.has(ot))A.delete(ot),gt=cl(r,s,ut,Mt,M,g,t);else if(Vt)T&&(gt=cl(r,s,ut,Mt,M,g,t));else{let bt;typeof xt=="boolean"?bt=xt:O?bt=!1:bt=T;let Nt={...V,defaultShouldRevalidate:bt};zo(M,Nt)&&(gt=cl(r,s,ut,Mt,M,g,t,Nt))}gt&&jt.push({key:ot,routeId:Q.routeId,path:Q.path,matches:gt,match:M,request:ut,controller:J})}),{dsMatches:x,revalidatingFetchers:jt}}function Em(i){return i.loader!=null||i.middleware!=null&&i.middleware.length>0}function Kd(i,t,r){if(i.lazy)return!0;if(!Em(i))return!1;let s=t!=null&&i.id in t,o=r!=null&&r[i.id]!==void 0;return!s&&o?!1:typeof i.loader=="function"&&i.loader.hydrate===!0?!0:!s&&!o}function CS(i,t,r){let s=!t||r.route.id!==t.route.id,o=!i.hasOwnProperty(r.route.id);return s||o}function DS(i,t){let r=i.route.path;return i.pathname!==t.pathname||r!=null&&r.endsWith("*")&&i.params["*"]!==t.params["*"]}function zo(i,t){if(i.route.shouldRevalidate){let r=i.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Jv(i,t,r,s,o,u){let h;if(i){let g=s[i];Kt(g,`No route found to patch children into: routeId = ${i}`),g.children||(g.children=[]),h=g.children}else h=r;let m=[],p=[];if(t.forEach(g=>{let E=h.find(T=>P0(g,T));E?p.push({existingRoute:E,newRoute:g}):m.push(g)}),m.length>0){let g=Ho(m,o,[i||"_","patch",String((h==null?void 0:h.length)||"0")],s);h.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:E,newRoute:T}=p[g],A=E,[D]=Ho([T],o,[],{},!0);Object.assign(A,{element:D.element?D.element:A.element,errorElement:D.errorElement?D.errorElement:A.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:A.hydrateFallbackElement})}}function P0(i,t){return"id"in i&&"id"in t&&i.id===t.id?!0:i.index===t.index&&i.path===t.path&&i.caseSensitive===t.caseSensitive?(!i.children||i.children.length===0)&&(!t.children||t.children.length===0)?!0:i.children.every((r,s)=>{var o;return(o=t.children)==null?void 0:o.some(u=>P0(r,u))}):!1}var Wv=new WeakMap,B0=({key:i,route:t,manifest:r,mapRouteProperties:s})=>{let o=r[t.id];if(Kt(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[i];if(!u)return;let h=Wv.get(o);h||(h={},Wv.set(o,h));let m=h[i];if(m)return m;let p=(async()=>{let g=Gb(i),T=o[i]!==void 0&&i!=="hasErrorBoundary";if(g)He(!g,"Route property "+i+" is not a supported lazy route property. This property will be ignored."),h[i]=Promise.resolve();else if(T)He(!1,`Route "${o.id}" has a static property "${i}" defined. The lazy property will be ignored.`);else{let A=await u();A!=null&&(Object.assign(o,{[i]:A}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[i]=void 0,Object.values(o.lazy).every(A=>A===void 0)&&(o.lazy=void 0))})();return h[i]=p,p},t_=new WeakMap;function xS(i,t,r,s,o){let u=r[i.id];if(Kt(u,"No route found in manifest"),!i.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof i.lazy=="function"){let E=t_.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let T=(async()=>{Kt(typeof i.lazy=="function","No lazy route function found");let A=await i.lazy(),D={};for(let k in A){let Z=A[k];if(Z===void 0)continue;let X=Yb(k),tt=u[k]!==void 0&&k!=="hasErrorBoundary";X?He(!X,"Route property "+k+" is not a supported property to be returned from a lazy route function. This property will be ignored."):tt?He(!tt,`Route "${u.id}" has a static property "${k}" defined but its lazy function is also returning a value for this property. The lazy route property "${k}" will be ignored.`):D[k]=Z}Object.assign(u,D),Object.assign(u,{...s(u),lazy:void 0})})();return t_.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let h=Object.keys(i.lazy),m=[],p;for(let E of h){if(o&&o.includes(E))continue;let T=B0({key:E,route:i,manifest:r,mapRouteProperties:s});T&&(m.push(T),E===t&&(p=T))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function e_(i){let t=i.matches.filter(o=>o.shouldLoad),r={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,u)=>{r[t[u].route.id]=o}),r}async function NS(i){return i.matches.some(t=>t.route.middleware)?k0(i,()=>e_(i)):e_(i)}function k0(i,t){return IS(i,t,s=>{if(FS(s))throw s;return s},BS,r);function r(s,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:s}}));{let{matches:h}=i,m=Math.min(Math.max(h.findIndex(g=>g.route.id===o),0),Math.max(h.findIndex(g=>g.shouldCallHandler()),0)),p=pa(h,h[m].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:s}})}}}async function IS(i,t,r,s,o){let{matches:u,request:h,params:m,context:p,unstable_pattern:g}=i,E=u.flatMap(A=>A.route.middleware?A.route.middleware.map(D=>[A.route.id,D]):[]);return await q0({request:h,params:m,context:p,unstable_pattern:g},E,t,r,s,o)}async function q0(i,t,r,s,o,u,h=0){let{request:m}=i;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let p=t[h];if(!p)return await r();let[g,E]=p,T,A=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await q0(i,t,r,s,o,u,h+1)},T.value}catch(D){return T={value:await u(D,g,T)},T.value}};try{let D=await E(i,A),k=D!=null?s(D):void 0;return o(k)?k:T?k??T.value:(T={value:await A()},T.value)}catch(D){return await u(D,g,T)}}function H0(i,t,r,s,o){let u=B0({key:"middleware",route:s.route,manifest:t,mapRouteProperties:i}),h=xS(s.route,Sn(r.method)?"action":"loader",t,i,o);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function Xd(i,t,r,s,o,u,h,m,p=null,g){let E=!1,T=H0(i,t,r,o,u);return{...o,_lazyPromises:T,shouldLoad:m,shouldRevalidateArgs:p,shouldCallHandler(A){return E=!0,p?typeof g=="boolean"?zo(o,{...p,defaultShouldRevalidate:g}):typeof A=="boolean"?zo(o,{...p,defaultShouldRevalidate:A}):zo(o,p):m},resolve(A){let{lazy:D,loader:k,middleware:Z}=o.route,X=E||m||A&&!Sn(r.method)&&(D||k),at=Z&&Z.length>0&&!k&&!D;return X&&(Sn(r.method)||!at)?MS({request:r,unstable_pattern:s,match:o,lazyHandlerPromise:T==null?void 0:T.handler,lazyRoutePromise:T==null?void 0:T.route,handlerOverride:A,scopedContext:h}):Promise.resolve({type:"data",result:void 0})}}}function cl(i,t,r,s,o,u,h,m=null){return s.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:m,shouldCallHandler:()=>!1,_lazyPromises:H0(i,t,r,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xd(i,t,r,eu(s),p,u,h,!0,m))}async function VS(i,t,r,s,o,u){r.some(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(r.map(g=>{var E;return(E=g._lazyPromises)==null?void 0:E.middleware}));let h={request:t,unstable_pattern:eu(r),params:r[0].params,context:o,matches:r},p=await i({...h,fetcherKey:s,runClientMiddleware:g=>{let E=h;return k0(E,()=>g({...E,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(g=>{var E,T;return[(E=g._lazyPromises)==null?void 0:E.handler,(T=g._lazyPromises)==null?void 0:T.route]}))}catch{}return p}async function MS({request:i,unstable_pattern:t,match:r,lazyHandlerPromise:s,lazyRoutePromise:o,handlerOverride:u,scopedContext:h}){let m,p,g=Sn(i.method),E=g?"action":"loader",T=A=>{let D,k=new Promise((at,tt)=>D=tt);p=()=>D(),i.signal.addEventListener("abort",p);let Z=at=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${E}" [routeId: ${r.route.id}]`)):A({request:i,unstable_pattern:t,params:r.params,context:h},...at!==void 0?[at]:[]),X=(async()=>{try{return{type:"data",result:await(u?u(tt=>Z(tt)):Z())}}catch(at){return{type:"error",result:at}}})();return Promise.race([X,k])};try{let A=g?r.route.action:r.route.loader;if(s||o)if(A){let D,[k]=await Promise.all([T(A).catch(Z=>{D=Z}),s,o]);if(D!==void 0)throw D;m=k}else{await s;let D=g?r.route.action:r.route.loader;if(D)[m]=await Promise.all([T(D),o]);else if(E==="action"){let k=new URL(i.url),Z=k.pathname+k.search;throw _r(405,{method:i.method,pathname:Z,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(A)m=await T(A);else{let D=new URL(i.url),k=D.pathname+D.search;throw _r(404,{pathname:k})}}catch(A){return{type:"error",result:A}}finally{p&&i.signal.removeEventListener("abort",p)}return m}async function OS(i){let t=i.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?i.body==null?null:i.json():i.text()}async function LS(i){var s,o,u,h,m;let{result:t,type:r}=i;if(Tm(t)){let p;try{p=await OS(t)}catch(g){return{type:"error",error:g}}return r==="error"?{type:"error",error:new tu(t.status,t.statusText,p),statusCode:t.status,headers:t.headers}:{type:"data",data:p,statusCode:t.status,headers:t.headers}}return r==="error"?l_(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:PS(t),statusCode:Fo(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Fo(t)?t.status:void 0}:l_(t)?{type:"data",data:t.data,statusCode:(h=t.init)==null?void 0:h.status,headers:(m=t.init)!=null&&m.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function zS(i,t,r,s,o){let u=i.headers.get("Location");if(Kt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!ff(u)){let h=s.slice(0,s.findIndex(m=>m.route.id===r)+1);u=Yd(new URL(t.url),h,o,u),i.headers.set("Location",u)}return i}function n_(i,t,r){if(ff(i)){let s=i,o=s.startsWith("//")?new URL(t.protocol+s):new URL(s),u=Sr(o.pathname,r)!=null;if(o.origin===t.origin&&u)return o.pathname+o.search+o.hash}return i}function il(i,t,r,s){let o=i.createURL(F0(t)).toString(),u={signal:r};if(s&&Sn(s.formMethod)){let{formMethod:h,formEncType:m}=s;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(s.json)):m==="text/plain"?u.body=s.text:m==="application/x-www-form-urlencoded"&&s.formData?u.body=$d(s.formData):u.body=s.formData}return new Request(o,u)}function $d(i){let t=new URLSearchParams;for(let[r,s]of i.entries())t.append(r,typeof s=="string"?s:s.name);return t}function r_(i){let t=new FormData;for(let[r,s]of i.entries())t.append(r,s);return t}function US(i,t,r,s=!1,o=!1){let u={},h=null,m,p=!1,g={},E=r&&ar(r[1])?r[1].error:void 0;return i.forEach(T=>{if(!(T.route.id in t))return;let A=T.route.id,D=t[A];if(Kt(!os(D),"Cannot handle redirect results in processLoaderData"),ar(D)){let k=D.error;if(E!==void 0&&(k=E,E=void 0),h=h||{},o)h[A]=k;else{let Z=pa(i,A);h[Z.route.id]==null&&(h[Z.route.id]=k)}s||(u[A]=j0),p||(p=!0,m=Fo(D.error)?D.error.status:500),D.headers&&(g[A]=D.headers)}else u[A]=D.data,D.statusCode&&D.statusCode!==200&&!p&&(m=D.statusCode),D.headers&&(g[A]=D.headers)}),E!==void 0&&r&&(h={[r[0]]:E},r[2]&&(u[r[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:g}}function i_(i,t,r,s,o,u){let{loaderData:h,errors:m}=US(t,r,s);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:E,controller:T}=p;if(T&&T.signal.aborted)return;let A=u[g];if(Kt(A,"Did not find corresponding fetcher result"),ar(A)){let D=pa(i.matches,E==null?void 0:E.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:A.error}),i.fetchers.delete(g)}else if(os(A))Kt(!1,"Unhandled fetcher revalidation redirect");else{let D=Di(A.data);i.fetchers.set(g,D)}}),{loaderData:h,errors:m}}function a_(i,t,r,s){let o=Object.entries(t).filter(([,u])=>u!==j0).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of r){let h=u.route.id;if(!t.hasOwnProperty(h)&&i.hasOwnProperty(h)&&u.route.loader&&(o[h]=i[h]),s&&s.hasOwnProperty(h))break}return o}function s_(i){return i?ar(i[1])?{actionData:{}}:{actionData:{[i[0]]:i[1].data}}:{}}function pa(i,t){return(t?i.slice(0,i.findIndex(s=>s.route.id===t)+1):[...i]).reverse().find(s=>s.route.hasErrorBoundary===!0)||i[0]}function Nc(i){let t=i.length===1?i[0]:i.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function _r(i,{pathname:t,routeId:r,method:s,type:o,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return i===400?(h="Bad Request",s&&t&&r?m=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):i===403?(h="Forbidden",m=`Route "${r}" does not match URL "${t}"`):i===404?(h="Not Found",m=`No route matches URL "${t}"`):i===405&&(h="Method Not Allowed",s&&t&&r?m=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:s&&(m=`Invalid request method "${s.toUpperCase()}"`)),new tu(i||500,h,new Error(m),!0)}function Ic(i){let t=Object.entries(i);for(let r=t.length-1;r>=0;r--){let[s,o]=t[r];if(os(o))return{key:s,result:o}}}function F0(i){let t=typeof i=="string"?xa(i):i;return ii({...t,hash:""})}function jS(i,t){return i.pathname!==t.pathname||i.search!==t.search?!1:i.hash===""?t.hash!=="":i.hash===t.hash?!0:t.hash!==""}function PS(i){var t,r;return new tu(((t=i.init)==null?void 0:t.status)??500,((r=i.init)==null?void 0:r.statusText)??"Internal Server Error",i.data)}function BS(i){return i!=null&&typeof i=="object"&&Object.entries(i).every(([t,r])=>typeof t=="string"&&kS(r))}function kS(i){return i!=null&&typeof i=="object"&&"type"in i&&"result"in i&&(i.type==="data"||i.type==="error")}function qS(i){return Tm(i.result)&&z0.has(i.result.status)}function ar(i){return i.type==="error"}function os(i){return(i&&i.type)==="redirect"}function l_(i){return typeof i=="object"&&i!=null&&"type"in i&&"data"in i&&"init"in i&&i.type==="DataWithResponseInit"}function Tm(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.headers=="object"&&typeof i.body<"u"}function HS(i){return z0.has(i)}function FS(i){return Tm(i)&&HS(i.status)&&i.headers.has("Location")}function GS(i){return TS.has(i.toUpperCase())}function Sn(i){return _S.has(i.toUpperCase())}function bm(i){return new URLSearchParams(i).getAll("index").some(t=>t==="")}function jc(i,t){let r=typeof t=="string"?xa(t).search:t.search;if(i[i.length-1].route.index&&bm(r||""))return i[i.length-1];let s=I0(i);return s[s.length-1]}function o_(i){let{formMethod:t,formAction:r,formEncType:s,text:o,formData:u,json:h}=i;if(!(!t||!r||!s)){if(o!=null)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:t,formAction:r,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:t,formAction:r,formEncType:s,formData:void 0,json:h,text:void 0}}}function Ld(i,t){return t?{state:"loading",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function QS(i,t){return{state:"submitting",location:i,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Co(i,t){return i?{state:"loading",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function YS(i,t){return{state:"submitting",formMethod:i.formMethod,formAction:i.formAction,formEncType:i.formEncType,formData:i.formData,json:i.json,text:i.text,data:t?t.data:void 0}}function Di(i){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:i}}function KS(i,t){try{let r=i.sessionStorage.getItem(U0);if(r){let s=JSON.parse(r);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&t.set(o,new Set(u||[]))}}catch{}}function XS(i,t){if(t.size>0){let r={};for(let[s,o]of t)r[s]=[...o];try{i.sessionStorage.setItem(U0,JSON.stringify(r))}catch(s){He(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function u_(){let i,t,r=new Promise((s,o)=>{i=async u=>{s(u);try{await r}catch{}},t=async u=>{o(u);try{await r}catch{}}});return{promise:r,resolve:i,reject:t}}var ds=B.createContext(null);ds.displayName="DataRouter";var nu=B.createContext(null);nu.displayName="DataRouterState";var G0=B.createContext(!1);function $S(){return B.useContext(G0)}var Sm=B.createContext({isTransitioning:!1});Sm.displayName="ViewTransition";var Q0=B.createContext(new Map);Q0.displayName="Fetchers";var ZS=B.createContext(null);ZS.displayName="Await";var sr=B.createContext(null);sr.displayName="Navigation";var mf=B.createContext(null);mf.displayName="Location";var Ar=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Am=B.createContext(null);Am.displayName="RouteError";var Y0="REACT_ROUTER_ERROR",JS="REDIRECT",WS="ROUTE_ERROR_RESPONSE";function tA(i){if(i.startsWith(`${Y0}:${JS}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function eA(i){if(i.startsWith(`${Y0}:${WS}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new tu(t.status,t.statusText,t.data)}catch{}}function nA(i,{relative:t}={}){Kt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=B.useContext(sr),{hash:o,pathname:u,search:h}=iu(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:ti([r,u])),s.createHref({pathname:m,search:h,hash:o})}function Sl(){return B.useContext(mf)!=null}function Na(){return Kt(Sl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(mf).location}var K0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X0(i){B.useContext(sr).static||B.useLayoutEffect(i)}function ru(){let{isDataRoute:i}=B.useContext(Ar);return i?yA():rA()}function rA(){Kt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(ds),{basename:t,navigator:r}=B.useContext(sr),{matches:s}=B.useContext(Ar),{pathname:o}=Na(),u=JSON.stringify(hf(s)),h=B.useRef(!1);return X0(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(He(h.current,K0),!h.current)return;if(typeof p=="number"){r.go(p);return}let E=df(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ti([t,E.pathname])),(g.replace?r.replace:r.push)(E,g.state,g)},[t,r,u,o,i])}var iA=B.createContext(null);function aA(i){let t=B.useContext(Ar).outlet;return B.useMemo(()=>t&&B.createElement(iA.Provider,{value:i},t),[t,i])}function wm(){let{matches:i}=B.useContext(Ar),t=i[i.length-1];return t?t.params:{}}function iu(i,{relative:t}={}){let{matches:r}=B.useContext(Ar),{pathname:s}=Na(),o=JSON.stringify(hf(r));return B.useMemo(()=>df(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function sA(i,t,r,s,o){Kt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(sr),{matches:h}=B.useContext(Ar),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let tt=T&&T.path||"";Z0(g,!T||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let A=Na(),D;D=A;let k=D.pathname||"/",Z=k;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Z="/"+k.replace(/^\//,"").split("/").slice(tt.length).join("/")}let X=ga(i,{pathname:Z});return He(T||X!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),He(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fA(X&&X.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:ti([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:ti([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),h,r,s,o)}function lA(){let i=pA(),t=Fo(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:o},r):null,h)}var oA=B.createElement(lA,null),$0=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=eA(i.digest);r&&(i=r)}let t=i!==void 0?B.createElement(Ar.Provider,{value:this.props.routeContext},B.createElement(Am.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?B.createElement(uA,{error:i},t):t}};$0.contextType=G0;var zd=new WeakMap;function uA({children:i,error:t}){let{basename:r}=B.useContext(sr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=tA(t.digest);if(s){let o=zd.get(t);if(o)throw o;let u=M0(s.location,r);if(V0&&!zd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw zd.set(t,h),h}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function cA({routeContext:i,match:t,children:r}){let s=B.useContext(ds);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Ar.Provider,{value:i},r)}function fA(i,t=[],r=null,s=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let u=i,h=r==null?void 0:r.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);Kt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(r)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:D}=r,k=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=r&&s?(E,T)=>{var A,D;s(E,{location:r.location,params:((D=(A=r.matches)==null?void 0:A[0])==null?void 0:D.params)??{},unstable_pattern:eu(r.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let D,k=!1,Z=null,X=null;r&&(D=h&&T.route.id?h[T.route.id]:void 0,Z=T.route.errorElement||oA,m&&(p<0&&A===0?(Z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,X=null):p===A&&(k=!0,X=T.route.hydrateFallbackElement||null)));let at=t.concat(u.slice(0,A+1)),tt=()=>{let lt;return D?lt=Z:k?lt=X:T.route.Component?lt=B.createElement(T.route.Component,null):T.route.element?lt=T.route.element:lt=E,B.createElement(cA,{match:T,routeContext:{outlet:E,matches:at,isDataRoute:r!=null},children:lt})};return r&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?B.createElement($0,{location:r.location,revalidation:r.revalidation,component:Z,error:D,children:tt(),routeContext:{outlet:null,matches:at,isDataRoute:!0},onError:g}):tt()},null)}function Rm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(i){let t=B.useContext(ds);return Kt(t,Rm(i)),t}function dA(i){let t=B.useContext(nu);return Kt(t,Rm(i)),t}function mA(i){let t=B.useContext(Ar);return Kt(t,Rm(i)),t}function Cm(i){let t=mA(i),r=t.matches[t.matches.length-1];return Kt(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function gA(){return Cm("useRouteId")}function pA(){var s;let i=B.useContext(Am),t=dA("useRouteError"),r=Cm("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[r]}function yA(){let{router:i}=hA("useNavigate"),t=Cm("useNavigate"),r=B.useRef(!1);return X0(()=>{r.current=!0}),B.useCallback(async(o,u={})=>{He(r.current,K0),r.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var c_={};function Z0(i,t,r){!t&&!c_[i]&&(c_[i]=!0,He(!1,r))}var f_={};function h_(i,t){!i&&!f_[t]&&(f_[t]=!0,console.warn(t))}var vA="useOptimistic",d_=Ib[vA],_A=()=>{};function EA(i){return d_?d_(i):[i,_A]}function TA(i){let t={hasErrorBoundary:i.hasErrorBoundary||i.ErrorBoundary!=null||i.errorElement!=null};return i.Component&&(i.element&&He(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:B.createElement(i.Component),Component:void 0})),i.HydrateFallback&&(i.hydrateFallbackElement&&He(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:B.createElement(i.HydrateFallback),HydrateFallback:void 0})),i.ErrorBoundary&&(i.errorElement&&He(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:B.createElement(i.ErrorBoundary),ErrorBoundary:void 0})),t}var bA=["HydrateFallback","hydrateFallbackElement"],SA=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",t(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",r(s))}})}};function AA({router:i,flushSync:t,onError:r,unstable_useTransitions:s}){s=$S()||s;let[u,h]=B.useState(i.state),[m,p]=EA(u),[g,E]=B.useState(),[T,A]=B.useState({isTransitioning:!1}),[D,k]=B.useState(),[Z,X]=B.useState(),[at,tt]=B.useState(),lt=B.useRef(new Map),xt=B.useCallback((R,{deletedFetchers:C,newErrors:O,flushSync:V,viewTransitionOpts:U})=>{O&&r&&Object.values(O).forEach(jt=>{var ae;return r(jt,{location:R.location,params:((ae=R.matches[0])==null?void 0:ae.params)??{},unstable_pattern:eu(R.matches)})}),R.fetchers.forEach((jt,ae)=>{jt.data!==void 0&&lt.current.set(ae,jt.data)}),C.forEach(jt=>lt.current.delete(jt)),h_(V===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=i.window!=null&&i.window.document!=null&&typeof i.window.document.startViewTransition=="function";if(h_(U==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!x){t&&V?t(()=>h(R)):s===!1?h(R):B.startTransition(()=>{s===!0&&p(jt=>m_(jt,R)),h(R)});return}if(t&&V){t(()=>{Z&&(D==null||D.resolve(),Z.skipTransition()),A({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let jt=i.window.document.startViewTransition(()=>{t(()=>h(R))});jt.finished.finally(()=>{t(()=>{k(void 0),X(void 0),E(void 0),A({isTransitioning:!1})})}),t(()=>X(jt));return}Z?(D==null||D.resolve(),Z.skipTransition(),tt({state:R,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(E(R),A({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[i.window,t,Z,D,s,p,r]);B.useLayoutEffect(()=>i.subscribe(xt),[i,xt]),B.useEffect(()=>{T.isTransitioning&&!T.flushSync&&k(new SA)},[T]),B.useEffect(()=>{if(D&&g&&i.window){let R=g,C=D.promise,O=i.window.document.startViewTransition(async()=>{s===!1?h(R):B.startTransition(()=>{s===!0&&p(V=>m_(V,R)),h(R)}),await C});O.finished.finally(()=>{k(void 0),X(void 0),E(void 0),A({isTransitioning:!1})}),X(O)}},[g,D,i.window,s,p]),B.useEffect(()=>{D&&g&&m.location.key===g.location.key&&D.resolve()},[D,Z,m.location,g]),B.useEffect(()=>{!T.isTransitioning&&at&&(E(at.state),A({isTransitioning:!0,flushSync:!1,currentLocation:at.currentLocation,nextLocation:at.nextLocation}),tt(void 0))},[T.isTransitioning,at]);let Rt=B.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:R=>i.navigate(R),push:(R,C,O)=>i.navigate(R,{state:C,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(R,C,O)=>i.navigate(R,{replace:!0,state:C,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[i]),St=i.basename||"/",S=B.useMemo(()=>({router:i,navigator:Rt,static:!1,basename:St,onError:r}),[i,Rt,St,r]);return B.createElement(B.Fragment,null,B.createElement(ds.Provider,{value:S},B.createElement(nu.Provider,{value:m},B.createElement(Q0.Provider,{value:lt.current},B.createElement(Sm.Provider,{value:T},B.createElement(xA,{basename:St,location:m.location,navigationType:m.historyAction,navigator:Rt,unstable_useTransitions:s},B.createElement(wA,{routes:i.routes,future:i.future,state:m,onError:r})))))),null)}function m_(i,t){return{...i,navigation:t.navigation.state!=="idle"?t.navigation:i.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:i.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:i.actionData,fetchers:t.fetchers}}var wA=B.memo(RA);function RA({routes:i,future:t,state:r,onError:s}){return sA(i,void 0,r,s,t)}function CA({to:i,replace:t,state:r,relative:s}){Kt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(sr);He(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Ar),{pathname:h}=Na(),m=ru(),p=df(i,hf(u),h,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:t,state:r,relative:s})},[m,g,s,t,r]),null}function DA(i){return aA(i.context)}function xA({basename:i="/",children:t=null,location:r,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){Kt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof r=="string"&&(r=xa(r));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:D="default"}=r,k=B.useMemo(()=>{let Z=Sr(g,m);return Z==null?null:{location:{pathname:Z,search:E,hash:T,state:A,key:D},navigationType:s}},[m,g,E,T,A,D,s]);return He(k!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(sr.Provider,{value:p},B.createElement(mf.Provider,{children:t,value:k}))}var Pc="get",Bc="application/x-www-form-urlencoded";function gf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function NA(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function IA(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function VA(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function MA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function OA(i,t){return i.button===0&&(!t||t==="_self")&&!MA(i)}var Vc=null;function LA(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var zA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(i){return i!=null&&!zA.has(i)?(He(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):i}function UA(i,t){let r,s,o,u,h;if(IA(i)){let m=i.getAttribute("action");s=m?Sr(m,t):null,r=i.getAttribute("method")||Pc,o=Ud(i.getAttribute("enctype"))||Bc,u=new FormData(i)}else if(NA(i)||VA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Sr(p,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||Pc,o=Ud(i.getAttribute("formenctype"))||Ud(m.getAttribute("enctype"))||Bc,u=new FormData(m,i),!LA()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pc,s=null,o=Bc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function jA(i,t,r){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Sr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function PA(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function kA(i,t,r){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await PA(u,r);return h.links?h.links():[]}return[]}));return GA(s.flat(1).filter(BA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g_(i,t,r,s,o,u){let h=(p,g)=>r[g]?p.route.id!==r[g].route.id:!0,m=(p,g)=>{var E;return r[g].pathname!==p.pathname||((E=r[g].route.path)==null?void 0:E.endsWith("*"))&&r[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=r[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qA(i,t,{includeHydrateFallback:r}={}){return HA(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HA(i){return[...new Set(i)]}function FA(i){let t={},r=Object.keys(i).sort();for(let s of r)t[s]=i[s];return t}function GA(i,t){let r=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(FA(o));return r.has(u)||(r.add(u),s.push({key:u,link:o})),s},[])}function J0(){let i=B.useContext(ds);return Dm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function QA(){let i=B.useContext(nu);return Dm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xm=B.createContext(void 0);xm.displayName="FrameworkContext";function W0(){let i=B.useContext(xm);return Dm(i,"You must render this element inside a <HydratedRouter> element"),i}function YA(i,t){let r=B.useContext(xm),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Z=at=>{at.forEach(tt=>{h(tt.isIntersecting)})},X=new IntersectionObserver(Z,{threshold:.5});return A.current&&X.observe(A.current),()=>{X.disconnect()}}},[i]),B.useEffect(()=>{if(s){let Z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let D=()=>{o(!0)},k=()=>{o(!1),h(!1)};return r?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Do(m,D),onBlur:Do(p,k),onMouseEnter:Do(g,D),onMouseLeave:Do(E,k),onTouchStart:Do(T,D)}]:[!1,A,{}]}function Do(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function KA({page:i,...t}){let{router:r}=J0(),s=B.useMemo(()=>ga(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?B.createElement($A,{page:i,matches:s,...t}):null}function XA(i){let{manifest:t,routeModules:r}=W0(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return kA(i,t,r).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,r]),s}function $A({page:i,matches:t,...r}){let s=Na(),{manifest:o,routeModules:u}=W0(),{basename:h}=J0(),{loaderData:m,matches:p}=QA(),g=B.useMemo(()=>g_(i,t,p,o,s,"data"),[i,t,p,o,s]),E=B.useMemo(()=>g_(i,t,p,o,s,"assets"),[i,t,p,o,s]),T=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,Z=!1;if(t.forEach(at=>{var lt;let tt=o.routes[at.route.id];!tt||!tt.hasLoader||(!g.some(xt=>xt.route.id===at.route.id)&&at.route.id in m&&((lt=u[at.route.id])!=null&&lt.shouldRevalidate)||tt.hasClientLoader?Z=!0:k.add(at.route.id))}),k.size===0)return[];let X=jA(i,h,"data");return Z&&k.size>0&&X.searchParams.set("_routes",t.filter(at=>k.has(at.route.id)).map(at=>at.route.id).join(",")),[X.pathname+X.search]},[h,m,s,o,g,t,i,u]),A=B.useMemo(()=>qA(E,o),[E,o]),D=XA(E);return B.createElement(B.Fragment,null,T.map(k=>B.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),A.map(k=>B.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),D.map(({key:k,link:Z})=>B.createElement("link",{key:k,nonce:r.nonce,...Z})))}function ZA(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JA&&(window.__reactRouterVersion="7.11.0")}catch{}function WA(i,t){return wS({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:kb({window:t==null?void 0:t.window}),hydrationData:tw(),routes:i,mapRouteProperties:TA,hydrationRouteProperties:bA,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function tw(){let i=window==null?void 0:window.__staticRouterHydrationData;return i&&i.errors&&(i={...i,errors:ew(i.errors)}),i}function ew(i){if(!i)return null;let t=Object.entries(i),r={};for(let[s,o]of t)if(o&&o.__type==="RouteErrorResponse")r[s]=new tu(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",r[s]=h}catch{}}if(r[s]==null){let u=new Error(o.message);u.stack="",r[s]=u}}else r[s]=o;return r}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Or=B.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},k){let{basename:Z,unstable_useTransitions:X}=B.useContext(sr),at=typeof g=="string"&&tE.test(g),tt=M0(g,Z);g=tt.to;let lt=nA(g,{relative:o}),[xt,Rt,St]=YA(s,D),S=iw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:X});function R(O){t&&t(O),O.defaultPrevented||S(O)}let C=B.createElement("a",{...D,...St,href:tt.absoluteURL||lt,onClick:tt.isExternal||u?t:R,ref:ZA(k,Rt),target:p,"data-discover":!at&&r==="render"?"true":void 0});return xt&&!at?B.createElement(B.Fragment,null,C,B.createElement(KA,{page:lt})):C});Or.displayName="Link";var kc=B.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=iu(h,{relative:g.relative}),A=Na(),D=B.useContext(nu),{navigator:k,basename:Z}=B.useContext(sr),X=D!=null&&uw(T)&&m===!0,at=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,tt=A.pathname,lt=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(tt=tt.toLowerCase(),lt=lt?lt.toLowerCase():null,at=at.toLowerCase()),lt&&Z&&(lt=Sr(lt,Z)||lt);const xt=at!=="/"&&at.endsWith("/")?at.length-1:at.length;let Rt=tt===at||!o&&tt.startsWith(at)&&tt.charAt(xt)==="/",St=lt!=null&&(lt===at||!o&&lt.startsWith(at)&&lt.charAt(at.length)==="/"),S={isActive:Rt,isPending:St,isTransitioning:X},R=Rt?t:void 0,C;typeof s=="function"?C=s(S):C=[s,Rt?"active":null,St?"pending":null,X?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(S):u;return B.createElement(Or,{...g,"aria-current":R,className:C,ref:E,style:O,to:h,viewTransition:m},typeof p=="function"?p(S):p)});kc.displayName="NavLink";var nw=B.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:o,state:u,method:h=Pc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},k)=>{let{unstable_useTransitions:Z}=B.useContext(sr),X=lw(),at=ow(m,{relative:g}),tt=h.toLowerCase()==="get"?"get":"post",lt=typeof m=="string"&&tE.test(m),xt=Rt=>{if(p&&p(Rt),Rt.defaultPrevented)return;Rt.preventDefault();let St=Rt.nativeEvent.submitter,S=(St==null?void 0:St.getAttribute("formmethod"))||h,R=()=>X(St||Rt.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});Z&&r!==!1?B.startTransition(()=>R()):R()};return B.createElement("form",{ref:k,method:tt,action:at,onSubmit:s?p:xt,...D,"data-discover":!lt&&i==="render"?"true":void 0})});nw.displayName="Form";function rw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(i){let t=B.useContext(ds);return Kt(t,rw(i)),t}function iw(i,{target:t,replace:r,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=ru(),E=Na(),T=iu(i,{relative:u});return B.useCallback(A=>{if(OA(A,t)){A.preventDefault();let D=r!==void 0?r:ii(E)===ii(T),k=()=>g(i,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?B.startTransition(()=>k()):k()}},[E,g,T,r,s,t,i,o,u,h,m,p])}var aw=0,sw=()=>`__${String(++aw)}__`;function lw(){let{router:i}=eE("useSubmit"),{basename:t}=B.useContext(sr),r=gA(),s=i.fetch,o=i.navigate;return B.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=UA(u,t);if(h.navigate===!1){let A=h.fetcherKey||sw();await s(A,r,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:r,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,r])}function ow(i,{relative:t}={}){let{basename:r}=B.useContext(sr),s=B.useContext(Ar);Kt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(i||".",{relative:t})},h=Na();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:ti([r,u.pathname])),ii(u)}function uw(i,{relative:t}={}){let r=B.useContext(Sm);Kt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eE("useViewTransitionState"),o=iu(i,{relative:t});if(!r.isTransitioning)return!1;let u=Sr(r.currentLocation.pathname,s)||r.currentLocation.pathname,h=Sr(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Kc(o.pathname,h)!=null||Kc(o.pathname,u)!=null}const Vn=({title:i,subtitle:t})=>L.jsxs(L.Fragment,{children:[L.jsx("h1",{className:"text-2xl sm:text-3xl text-center font font-semibold mb-5",children:i}),t&&L.jsx("p",{className:"opacity-70 text-center mb-5",children:t})]}),cw=({product:i,showCategory:t=!1})=>L.jsxs("article",{className:"rounded-xl overflow-hidden border border-white/10 bg-white/5 backdrop-blur hover:bg-white/10 transition",children:[L.jsx(Or,{to:`/productos/${i.id}`,children:L.jsx("img",{src:`${i.img}`,alt:`${i.title}`,className:"w-full h-40 object-cover rounded-xl hover:scale-105 transition-transform",loading:"lazy"})}),L.jsxs("div",{className:"p-3",children:[L.jsx("h3",{className:"font-medium leading-tight",children:i.title}),t&&L.jsx("p",{className:"text-sm capitalize opacity-70 mt-1",children:i.category}),L.jsxs("div",{className:"flex items-center mt-2 justify-between",children:[L.jsxs("span",{className:"font-semibold",children:["$",i.price]}),L.jsxs("span",{className:"text-sm opacity-70",children:["Stock: ",i.stock]})]}),L.jsx(Or,{to:`/productos/${i.id}`,className:"inline-block mt-3 text-sm p-2 rounded-md opacity-90 hover:underline hover:rounded-md hover:opacity-100 border-white/10 bg-white/5 backdrop-blur hover:bg-white/10 transition  ",children:"Ver detalle"})]})]}),nE=({products:i,showCategory:t})=>L.jsx("section",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(r=>L.jsx(cw,{product:r,showCategory:t},r.id))}),fw=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=function(i){const t=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=o&63|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=o&63|128)}return t},hw=function(i){const t=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[r++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[r++],h=i[r++],m=i[r++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],h=i[r++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(A=64)),s.push(r[E],r[T],r[A],r[D])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(rE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):hw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=r[i.charAt(o++)],m=o<i.length?r[i.charAt(o)]:0;++o;const g=o<i.length?r[i.charAt(o)]:64;++o;const T=o<i.length?r[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new dw;const A=u<<2|m>>4;if(s.push(A),g!==64){const D=m<<4&240|g>>2;if(s.push(D),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class dw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mw=function(i){const t=rE(i);return iE.encodeByteArray(t,!0)},Xc=function(i){return mw(i).replace(/\./g,"")},gw=function(i){try{return iE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=()=>pw().__FIREBASE_DEFAULTS__,vw=()=>{if(typeof process>"u"||typeof p_>"u")return;const i=p_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_w=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&gw(i[1]);return t&&JSON.parse(t)},Nm=()=>{try{return fw()||yw()||vw()||_w()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ew=i=>{var t,r;return(r=(t=Nm())==null?void 0:t.emulatorHosts)==null?void 0:r[i]},Tw=i=>{const t=Ew(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},aE=()=>{var i;return(i=Nm())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Xc(JSON.stringify(r)),Xc(JSON.stringify(h)),""].join(".")}const Uo={};function ww(){const i={prod:[],emulator:[]};for(const t of Object.keys(Uo))Uo[t]?i.emulator.push(t):i.prod.push(t);return i}function Rw(i){let t=document.getElementById(i),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),r=!0),{created:r,element:t}}let y_=!1;function Cw(i,t){if(typeof window>"u"||typeof document>"u"||!Im(window.location.host)||Uo[i]===t||Uo[i]||y_)return;Uo[i]=t;function r(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=ww().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{y_=!0,h()},A}function E(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=Rw(s),D=r("text"),k=document.getElementById(D)||document.createElement("span"),Z=r("learnmore"),X=document.getElementById(Z)||document.createElement("a"),at=r("preprendIcon"),tt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const lt=A.element;m(lt),E(X,Z);const xt=g();p(tt,at),lt.append(tt,k,X,xt),document.body.appendChild(lt)}u?(k.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xw(){var t;const i=(t=Nm())==null?void 0:t.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nw(){return!xw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iw(){try{return typeof indexedDB=="object"}catch{return!1}}function Vw(){return new Promise((i,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="FirebaseError";class Al extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=Mw,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sE.prototype.create)}}class sE{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?Ow(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Al(o,m,s)}}function Ow(i,t){return i.replace(Lw,(r,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Lw=/\{\$([^}]+)}/g;function $c(i,t){if(i===t)return!0;const r=Object.keys(i),s=Object.keys(t);for(const o of r){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(v_(u)&&v_(h)){if(!$c(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function v_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(i){return i&&i._delegate?i._delegate:i}class Go{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new bw;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ls){return this.instances.has(t)}getOptions(t=ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Uw(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ls){return this.component?this.component.multipleInstances?t:ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Uw(i){return i===ls?void 0:i}function jw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new zw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ie||(ie={}));const Bw={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},kw=ie.INFO,qw={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Hw=(i,t,...r)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=qw[t];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lE{constructor(t){this.name=t,this._logLevel=kw,this._logHandler=Hw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const Fw=(i,t)=>t.some(r=>i instanceof r);let __,E_;function Gw(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qw(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,Zd=new WeakMap,uE=new WeakMap,jd=new WeakMap,Vm=new WeakMap;function Yw(i){const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{r(_a(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(r=>{r instanceof IDBCursor&&oE.set(r,i)}).catch(()=>{}),Vm.set(t,i),t}function Kw(i){if(Zd.has(i))return;const t=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{r(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Zd.set(i,t)}let Jd={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Zd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||uE.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _a(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Xw(i){Jd=i(Jd)}function $w(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=i.call(Pd(this),t,...r);return uE.set(s,t.sort?t.sort():[t]),_a(s)}:Qw().includes(i)?function(...t){return i.apply(Pd(this),t),_a(oE.get(this))}:function(...t){return _a(i.apply(Pd(this),t))}}function Zw(i){return typeof i=="function"?$w(i):(i instanceof IDBTransaction&&Kw(i),Fw(i,Gw())?new Proxy(i,Jd):i)}function _a(i){if(i instanceof IDBRequest)return Yw(i);if(jd.has(i))return jd.get(i);const t=Zw(i);return t!==i&&(jd.set(i,t),Vm.set(t,i)),t}const Pd=i=>Vm.get(i);function Jw(i,t,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=_a(h);return s&&h.addEventListener("upgradeneeded",p=>{s(_a(h.result),p.oldVersion,p.newVersion,_a(h.transaction),p)}),r&&h.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Ww=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Bd=new Map;function T_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,o=tR.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ww.includes(r)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[r](...m),o&&p.done]))[0]};return Bd.set(t,u),u}Xw(i=>({...i,get:(t,r,s)=>T_(t,r)||i.get(t,r,s),has:(t,r)=>!!T_(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(nR(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function nR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wd="@firebase/app",b_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new lE("@firebase/app"),rR="@firebase/app-compat",iR="@firebase/analytics-compat",aR="@firebase/analytics",sR="@firebase/app-check-compat",lR="@firebase/app-check",oR="@firebase/auth",uR="@firebase/auth-compat",cR="@firebase/database",fR="@firebase/data-connect",hR="@firebase/database-compat",dR="@firebase/functions",mR="@firebase/functions-compat",gR="@firebase/installations",pR="@firebase/installations-compat",yR="@firebase/messaging",vR="@firebase/messaging-compat",_R="@firebase/performance",ER="@firebase/performance-compat",TR="@firebase/remote-config",bR="@firebase/remote-config-compat",SR="@firebase/storage",AR="@firebase/storage-compat",wR="@firebase/firestore",RR="@firebase/ai",CR="@firebase/firestore-compat",DR="firebase",xR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",NR={[Wd]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[iR]:"fire-analytics-compat",[lR]:"fire-app-check",[sR]:"fire-app-check-compat",[oR]:"fire-auth",[uR]:"fire-auth-compat",[cR]:"fire-rtdb",[fR]:"fire-data-connect",[hR]:"fire-rtdb-compat",[dR]:"fire-fn",[mR]:"fire-fn-compat",[gR]:"fire-iid",[pR]:"fire-iid-compat",[yR]:"fire-fcm",[vR]:"fire-fcm-compat",[_R]:"fire-perf",[ER]:"fire-perf-compat",[TR]:"fire-rc",[bR]:"fire-rc-compat",[SR]:"fire-gcs",[AR]:"fire-gcs-compat",[wR]:"fire-fst",[CR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,IR=new Map,em=new Map;function S_(i,t){try{i.container.addComponent(t)}catch(r){Ii.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Jc(i){const t=i.name;if(em.has(t))return Ii.debug(`There were multiple attempts to register component ${t}.`),!1;em.set(t,i);for(const r of Zc.values())S_(r,i);for(const r of IR.values())S_(r,i);return!0}function VR(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function MR(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ea=new sE("app","Firebase",OR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,r,s){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ea.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=xR;function cE(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const s={name:tm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Ea.create("bad-app-name",{appName:String(o)});if(r||(r=aE()),!r)throw Ea.create("no-options");const u=Zc.get(o);if(u){if($c(r,u.options)&&$c(s,u.config))return u;throw Ea.create("duplicate-app",{appName:o})}const h=new Pw(o);for(const p of em.values())h.addComponent(p);const m=new LR(r,s,h);return Zc.set(o,m),m}function UR(i=tm){const t=Zc.get(i);if(!t&&i===tm&&aE())return cE();if(!t)throw Ea.create("no-app",{appName:i});return t}function fl(i,t,r){let s=NR[i]??i;r&&(s+=`-${r}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ii.warn(h.join(" "));return}Jc(new Go(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebase-heartbeat-database",PR=1,Qo="firebase-heartbeat-store";let kd=null;function fE(){return kd||(kd=Jw(jR,PR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Qo)}catch(r){console.warn(r)}}}}).catch(i=>{throw Ea.create("idb-open",{originalErrorMessage:i.message})})),kd}async function BR(i){try{const r=(await fE()).transaction(Qo),s=await r.objectStore(Qo).get(hE(i));return await r.done,s}catch(t){if(t instanceof Al)Ii.warn(t.message);else{const r=Ea.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(r.message)}}}async function A_(i,t){try{const s=(await fE()).transaction(Qo,"readwrite");await s.objectStore(Qo).put(t,hE(i)),await s.done}catch(r){if(r instanceof Al)Ii.warn(r.message);else{const s=Ea.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ii.warn(s.message)}}}function hE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1024,qR=30;class HR{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new GR(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qR){const h=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=w_(),{heartbeatsToSend:s,unsentEntries:o}=FR(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Ii.warn(r),""}}}function w_(){return new Date().toISOString().substring(0,10)}function FR(i,t=kR){const r=[];let s=i.slice();for(const o of i){const u=r.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),R_(r)>t){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),R_(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class GR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iw()?Vw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await BR(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return A_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function R_(i){return Xc(JSON.stringify({version:2,heartbeats:i})).length}function QR(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(i){Jc(new Go("platform-logger",t=>new eR(t),"PRIVATE")),Jc(new Go("heartbeat",t=>new HR(t),"PRIVATE")),fl(Wd,b_,i),fl(Wd,b_,"esm2020"),fl("fire-js","")}YR("");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ta,dE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,R){function C(){}C.prototype=R.prototype,S.F=R.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(O,V,U){for(var x=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)x[jt-2]=arguments[jt];return R.prototype[V].apply(O,x)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,R,C){C||(C=0);const O=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)O[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=S.g[0],C=S.g[1],V=S.g[2];let U=S.g[3],x;x=R+(U^C&(V^U))+O[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(V^R&(C^V))+O[1]+3905402710&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(C^U&(R^C))+O[2]+606105819&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(R^V&(U^R))+O[3]+3250441966&4294967295,C=V+(x<<22&4294967295|x>>>10),x=R+(U^C&(V^U))+O[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(V^R&(C^V))+O[5]+1200080426&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(C^U&(R^C))+O[6]+2821735955&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(R^V&(U^R))+O[7]+4249261313&4294967295,C=V+(x<<22&4294967295|x>>>10),x=R+(U^C&(V^U))+O[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(V^R&(C^V))+O[9]+2336552879&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(C^U&(R^C))+O[10]+4294925233&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(R^V&(U^R))+O[11]+2304563134&4294967295,C=V+(x<<22&4294967295|x>>>10),x=R+(U^C&(V^U))+O[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=U+(V^R&(C^V))+O[13]+4254626195&4294967295,U=R+(x<<12&4294967295|x>>>20),x=V+(C^U&(R^C))+O[14]+2792965006&4294967295,V=U+(x<<17&4294967295|x>>>15),x=C+(R^V&(U^R))+O[15]+1236535329&4294967295,C=V+(x<<22&4294967295|x>>>10),x=R+(V^U&(C^V))+O[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(R^C))+O[6]+3225465664&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^C&(U^R))+O[11]+643717713&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(V^U))+O[0]+3921069994&4294967295,C=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(C^V))+O[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(R^C))+O[10]+38016083&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^C&(U^R))+O[15]+3634488961&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(V^U))+O[4]+3889429448&4294967295,C=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(C^V))+O[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(R^C))+O[14]+3275163606&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^C&(U^R))+O[3]+4107603335&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(V^U))+O[8]+1163531501&4294967295,C=V+(x<<20&4294967295|x>>>12),x=R+(V^U&(C^V))+O[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=U+(C^V&(R^C))+O[2]+4243563512&4294967295,U=R+(x<<9&4294967295|x>>>23),x=V+(R^C&(U^R))+O[7]+1735328473&4294967295,V=U+(x<<14&4294967295|x>>>18),x=C+(U^R&(V^U))+O[12]+2368359562&4294967295,C=V+(x<<20&4294967295|x>>>12),x=R+(C^V^U)+O[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^V)+O[8]+2272392833&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^C)+O[11]+1839030562&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^R)+O[14]+4259657740&4294967295,C=V+(x<<23&4294967295|x>>>9),x=R+(C^V^U)+O[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^V)+O[4]+1272893353&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^C)+O[7]+4139469664&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^R)+O[10]+3200236656&4294967295,C=V+(x<<23&4294967295|x>>>9),x=R+(C^V^U)+O[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^V)+O[0]+3936430074&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^C)+O[3]+3572445317&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^R)+O[6]+76029189&4294967295,C=V+(x<<23&4294967295|x>>>9),x=R+(C^V^U)+O[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=U+(R^C^V)+O[12]+3873151461&4294967295,U=R+(x<<11&4294967295|x>>>21),x=V+(U^R^C)+O[15]+530742520&4294967295,V=U+(x<<16&4294967295|x>>>16),x=C+(V^U^R)+O[2]+3299628645&4294967295,C=V+(x<<23&4294967295|x>>>9),x=R+(V^(C|~U))+O[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~V))+O[7]+1126891415&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~C))+O[14]+2878612391&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~R))+O[5]+4237533241&4294967295,C=V+(x<<21&4294967295|x>>>11),x=R+(V^(C|~U))+O[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~V))+O[3]+2399980690&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~C))+O[10]+4293915773&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~R))+O[1]+2240044497&4294967295,C=V+(x<<21&4294967295|x>>>11),x=R+(V^(C|~U))+O[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~V))+O[15]+4264355552&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~C))+O[6]+2734768916&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~R))+O[13]+1309151649&4294967295,C=V+(x<<21&4294967295|x>>>11),x=R+(V^(C|~U))+O[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=U+(C^(R|~V))+O[11]+3174756917&4294967295,U=R+(x<<10&4294967295|x>>>22),x=V+(R^(U|~C))+O[2]+718787259&4294967295,V=U+(x<<15&4294967295|x>>>17),x=C+(U^(V|~R))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+U&4294967295}s.prototype.v=function(S,R){R===void 0&&(R=S.length);const C=R-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<R;){if(V==0)for(;U<=C;)o(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<R;)if(O[V++]=S.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<R;)if(O[V++]=S[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)S[R++]=this.g[C]>>>O&255;return S};function u(S,R){var C=m;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=R(S)}function h(S,R){this.h=R;const C=[];let O=!0;for(let V=S.length-1;V>=0;V--){const U=S[V]|0;O&&U==R||(C[V]=U,O=!1)}this.g=C}var m={};function p(S){return-128<=S&&S<128?u(S,function(R){return new h([R|0],R<0?-1:0)}):new h([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return T;if(S<0)return X(g(-S));const R=[];let C=1;for(let O=0;S>=C;O++)R[O]=S/C|0,C*=4294967296;return new h(R,0)}function E(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return X(E(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let O=T;for(let U=0;U<S.length;U+=8){var V=Math.min(8,S.length-U);const x=parseInt(S.substring(U,U+V),R);V<8?(V=g(Math.pow(R,V)),O=O.j(V).add(g(x))):(O=O.j(C),O=O.add(g(x)))}return O}var T=p(0),A=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(Z(this))return-X(this).m();let S=0,R=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);S+=(O>=0?O:4294967296+O)*R,R*=4294967296}return S},i.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(Z(this))return"-"+X(this).toString(S);const R=g(Math.pow(S,6));var C=this;let O="";for(;;){const V=xt(C,R).g;C=at(C,V.j(R));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=V,k(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},i.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function Z(S){return S.h==-1}i.l=function(S){return S=at(this,S),Z(S)?-1:k(S)?0:1};function X(S){const R=S.g.length,C=[];for(let O=0;O<R;O++)C[O]=~S.g[O];return new h(C,~S.h).add(A)}i.abs=function(){return Z(this)?X(this):this},i.add=function(S){const R=Math.max(this.g.length,S.g.length),C=[];let O=0;for(let V=0;V<=R;V++){let U=O+(this.i(V)&65535)+(S.i(V)&65535),x=(U>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);O=x>>>16,U&=65535,x&=65535,C[V]=x<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function at(S,R){return S.add(X(R))}i.j=function(S){if(k(this)||k(S))return T;if(Z(this))return Z(S)?X(this).j(X(S)):X(X(this).j(S));if(Z(S))return X(this.j(X(S)));if(this.l(D)<0&&S.l(D)<0)return g(this.m()*S.m());const R=this.g.length+S.g.length,C=[];for(var O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<S.g.length;V++){const U=this.i(O)>>>16,x=this.i(O)&65535,jt=S.i(V)>>>16,ae=S.i(V)&65535;C[2*O+2*V]+=x*ae,tt(C,2*O+2*V),C[2*O+2*V+1]+=U*ae,tt(C,2*O+2*V+1),C[2*O+2*V+1]+=x*jt,tt(C,2*O+2*V+1),C[2*O+2*V+2]+=U*jt,tt(C,2*O+2*V+2)}for(S=0;S<R;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=R;S<2*R;S++)C[S]=0;return new h(C,0)};function tt(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function lt(S,R){this.g=S,this.h=R}function xt(S,R){if(k(R))throw Error("division by zero");if(k(S))return new lt(T,T);if(Z(S))return R=xt(X(S),R),new lt(X(R.g),X(R.h));if(Z(R))return R=xt(S,X(R)),new lt(X(R.g),R.h);if(S.g.length>30){if(Z(S)||Z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,O=R;O.l(S)<=0;)C=Rt(C),O=Rt(O);var V=St(C,1),U=St(O,1);for(O=St(O,2),C=St(C,2);!k(O);){var x=U.add(O);x.l(S)<=0&&(V=V.add(C),U=x),O=St(O,1),C=St(C,1)}return R=at(S,V.j(R)),new lt(V,R)}for(V=T;S.l(R)>=0;){for(C=Math.max(1,Math.floor(S.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=g(C),x=U.j(R);Z(x)||x.l(S)>0;)C-=O,U=g(C),x=U.j(R);k(U)&&(U=A),V=V.add(U),S=at(S,x)}return new lt(V,S)}i.B=function(S){return xt(this,S).h},i.and=function(S){const R=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)&S.i(O);return new h(C,this.h&S.h)},i.or=function(S){const R=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)|S.i(O);return new h(C,this.h|S.h)},i.xor=function(S){const R=Math.max(this.g.length,S.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)^S.i(O);return new h(C,this.h^S.h)};function Rt(S){const R=S.g.length+1,C=[];for(let O=0;O<R;O++)C[O]=S.i(O)<<1|S.i(O-1)>>>31;return new h(C,S.h)}function St(S,R){const C=R>>5;R%=32;const O=S.g.length-C,V=[];for(let U=0;U<O;U++)V[U]=R>0?S.i(U+C)>>>R|S.i(U+C+1)<<32-R:S.i(U+C);return new h(V,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Ta=h}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mE,Vo,gE,qc,nm,pE,yE,vE;(function(){var i,t=Object.defineProperty;function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=r(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in _))break t;_=_[q]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&_.push([w,y[w]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(w,q,K){for(var ht=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ht[kt-2]=arguments[kt];return y.prototype[q].apply(w,ht)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function k(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=c.length||0;const K=q.length||0;c.length=_+K;for(let ht=0;ht<K;ht++)c[_+ht]=q[ht]}else c.push(q)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){h.setTimeout(()=>{throw c},0)}function at(){var c=S;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class tt{constructor(){this.h=this.g=null}add(y,_){const w=lt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var lt=new Z(()=>new xt,c=>c.reset());class xt{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,St=!1,S=new tt,R=()=>{const c=Promise.resolve(void 0);Rt=()=>{c.then(C)}};function C(){for(var c;c=at();){try{c.h.call(c.g)}catch(_){X(_)}var y=lt;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}St=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function jt(c,y){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(jt,V),jt.prototype.init=function(c,y){const _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ot(c,y,_,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=q,this.key=++Q,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function Mt(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function M(c){const y={};for(const _ in c)y[_]=c[_];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(c,y){let _,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(_ in w)c[_]=w[_];for(let K=0;K<J.length;K++)_=J[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function gt(c){this.src=c,this.g={},this.h=0}gt.prototype.add=function(c,y,_,w,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ht=Nt(c,y,w,q);return ht>-1?(y=c[ht],_||(y.fa=!1)):(y=new ot(y,this.src,K,!!w,q),y.fa=_,c.push(y)),y};function bt(c,y){const _=y.type;if(_ in c.g){var w=c.g[_],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(mt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Nt(c,y,_,w){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return q}return-1}var Qt="closure_lm_"+(Math.random()*1e6|0),Ee={};function Se(c,y,_,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Se(c,y[K],_,w,q);return null}return _=Ma(_),c&&c[ae]?c.J(y,_,m(w)?!!w.capture:!1,q):si(c,y,_,!1,w,q)}function si(c,y,_,w,q,K){if(!y)throw Error("Invalid event type");const ht=m(q)?!!q.capture:!!q;let kt=Rn(c);if(kt||(c[Qt]=kt=new gt(c)),_=kt.add(y,_,w,ht,K),_.proxy)return _;if(w=Oi(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)U||(q=ht),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(Fn(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oi(){function c(_){return y.call(c.src,c.listener,_)}const y=Ia;return c}function ze(c,y,_,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)ze(c,y[K],_,w,q);else w=m(w)?!!w.capture:!!w,_=Ma(_),c&&c[ae]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],_=Nt(y,_,w,q),_>-1&&(mt(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Rn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Nt(y,_,w,q)),(_=c>-1?y[c]:null)&&Hn(_))}function Hn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ae])bt(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Fn(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Rn(y))?(bt(_,c),_.h==0&&(_.src=null,y[Qt]=null)):mt(c)}}}function Fn(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function Ia(c,y){if(c.da)c=!0;else{y=new jt(y,this);const _=c.listener,w=c.ha||c.src;c.fa&&Hn(c),c=_.call(w,y)}return c}function Rn(c){return c=c[Qt],c instanceof gt?c:null}var Va="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ma(c){return typeof c=="function"?c:(c[Va]||(c[Va]=function(y){return c.handleEvent(y)}),c[Va])}function Ue(){O.call(this),this.i=new gt(this),this.M=this,this.G=null}T(Ue,O),Ue.prototype[ae]=!0,Ue.prototype.removeEventListener=function(c,y,_,w){ze(this,c,y,_,w)};function Fe(c,y){var _,w=c.G;if(w)for(_=[];w;w=w.G)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new V(y,c);else if(y instanceof V)y.target=y.target||c;else{var q=y;y=new V(w,c),ut(y,q)}q=!0;let K,ht;if(_)for(ht=_.length-1;ht>=0;ht--)K=y.g=_[ht],q=Ur(K,w,!0,y)&&q;if(K=y.g=c,q=Ur(K,w,!0,y)&&q,q=Ur(K,w,!1,y)&&q,_)for(ht=0;ht<_.length;ht++)K=y.g=_[ht],q=Ur(K,w,!1,y)&&q}Ue.prototype.N=function(){if(Ue.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let w=0;w<_.length;w++)mt(_[w]);delete c.g[y],c.h--}}this.G=null},Ue.prototype.J=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},Ue.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Ur(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const ht=y[K];if(ht&&!ht.da&&ht.capture==_){const kt=ht.listener,Ge=ht.ha||ht.src;ht.fa&&bt(c.i,ht),q=kt.call(Ge,w)!==!1&&q}}return q&&!w.defaultPrevented}function Nl(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function vs(c){c.g=Nl(()=>{c.g=null,c.i&&(c.i=!1,vs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class je extends O{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(c){O.call(this),this.h=c,this.g={}}T(Gn,O);var Li=[];function li(c){Vt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hn(y)},c),c.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),li(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=h.JSON.stringify,Qn=h.JSON.parse,Oa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function _s(){}function zi(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){V.call(this,"d")}T(Te,V);function Cn(){V.call(this,"c")}T(Cn,V);var Ve={},La=null;function Ui(){return La=La||new Ue}Ve.Ia="serverreachability";function za(c){V.call(this,Ve.Ia,c)}T(za,V);function Dn(c){const y=Ui();Fe(y,new za(y))}Ve.STAT_EVENT="statevent";function jr(c,y){V.call(this,Ve.STAT_EVENT,c),this.stat=y}T(jr,V);function Me(c){const y=Ui();Fe(y,new jr(y,c))}Ve.Ja="timingevent";function lr(c,y){V.call(this,Ve.Ja,c),this.size=y}T(lr,V);function Kn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Es(c,y,_,w,q,K){c.info(function(){if(c.g)if(K){var ht="",kt=K.split("&");for(let ue=0;ue<kt.length;ue++){var Ge=kt[ue].split("=");if(Ge.length>1){const Oe=Ge[0];Ge=Ge[1];const cr=Oe.split("_");ht=cr.length>=2&&cr[1]=="type"?ht+(Oe+"="+Ge+"&"):ht+(Oe+"=redacted&")}}}else ht=null;else ht=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+_+`
`+ht})}function oi(c,y,_,w,q,K,ht){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+_+`
`+K+" "+ht})}function xn(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Il(c,_)+(w?" "+w:"")})}function Pr(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function Il(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ht=1;ht<w.length;ht++)w[ht]=""}}}}return ln(K)}catch{return y}}var ui={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},N={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},j;function G(){}T(G,_s),G.prototype.g=function(){return new XMLHttpRequest},j=new G;function st(c){return encodeURIComponent(String(c))}function ct(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function yt(c,y,_,w){this.j=c,this.i=y,this.l=_,this.S=w||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var ft={},dt={};function _t(c,y,_){c.M=1,c.A=Ua(ge(y)),c.u=_,c.R=!0,Ot(c,null)}function Ot(c,y){c.F=Date.now(),me(c),c.B=ge(c.A);var _=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),bs(_.i,"t",w),c.C=0,_=c.j.L,c.h=new Et,c.g=Su(c.j,_?y:null,!c.u),c.P>0&&(c.O=new je(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Li[0]=q.toString()),q=Li);for(let K=0;K<q.length;K++){const ht=Se(_,q[K],w||y.handleEvent,!1,y.h||y);if(!ht)break;y.g[ht.key]=ht}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Dn(),Es(c.i,c.v,c.B,c.l,c.S,c.u)}yt.prototype.ba=function(c){c=c.target;const y=this.O;y&&Cr(c)==3?y.j():this.Y(c)},yt.prototype.Y=function(c){try{if(c==this.g)t:{const kt=Cr(this.g),Ge=this.g.ya(),ue=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||kt!=4||Ge==7||(Ge==8||ue<=0?Dn(3):Dn(2)),Ae(this);var y=this.g.ca();this.X=y;var _=wt(this);if(this.o=y==200,oi(this.i,this.v,this.B,this.l,this.S,kt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var K=w;break e}}K=null}if(c=K)xn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,on(this,c);else{this.o=!1,this.m=3,Me(12),we(this),Ht(this);break t}}if(this.R){c=!0;let Oe;for(;!this.K&&this.C<_.length;)if(Oe=Yt(this,_),Oe==dt){kt==4&&(this.m=4,Me(14),c=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Oe==ft){this.m=4,Me(15),xn(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else xn(this.i,this.l,Oe,null),on(this,Oe);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||_.length!=0||this.h.h||(this.m=1,Me(16),c=!1),this.o=this.o&&c,!c)xn(this.i,this.l,_,"[Invalid Chunked Response]"),we(this),Ht(this);else if(_.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Bl(ht),ht.P=!0,Me(11))}}else xn(this.i,this.l,_,null),on(this,_);kt==4&&we(this),this.o&&!this.K&&(kt==4?_u(this.j,this):(this.o=!1,me(this)))}else fi(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),we(this),Ht(this)}}}catch{}finally{}};function wt(c){if(!zt(c))return c.g.la();const y=fn(c.g);if(y==="")return"";let _="";const w=y.length,q=Cr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return we(c),Ht(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,_+=c.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function zt(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Yt(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?dt:(_=Number(y.substring(_,w)),isNaN(_)?ft:(w+=1,w+_>y.length?dt:(y=y.slice(w,w+_),c.C=w+_,y)))}yt.prototype.cancel=function(){this.K=!0,we(this)};function me(c){c.T=Date.now()+c.H,De(c,c.H)}function De(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Kn(g(c.aa,c),y)}function Ae(c){c.D&&(h.clearTimeout(c.D),c.D=null)}yt.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(Dn(),Me(17)),we(this),this.m=2,Ht(this)):De(this,this.T-c)};function Ht(c){c.j.I==0||c.K||_u(c.j,c)}function we(c){Ae(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,li(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function on(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||En(_.h,c))){if(!c.L&&En(_.h,c)&&_.I==3){try{var w=_.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)Cs(_),Gi(_);else break t;Fa(_),Me(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Kn(g(_.Va,_),6e3));On(_.h)<=1&&_.ta&&(_.ta=void 0)}else Yr(_,11)}else if((c.L||_.g==c)&&Cs(_),!x(y))for(q=_.Ba.g.parse(y),y=0;y<q.length;y++){let ue=q[y];const Oe=ue[0];if(!(Oe<=_.K))if(_.K=Oe,ue=ue[1],_.I==2)if(ue[0]=="c"){_.M=ue[1],_.ba=ue[2];const cr=ue[3];cr!=null&&(_.ka=cr,_.j.info("VER="+_.ka));const Kr=ue[4];Kr!=null&&(_.za=Kr,_.j.info("SVER="+_.za));const Dr=ue[5];Dr!=null&&typeof Dr=="number"&&Dr>0&&(w=1.5*Dr,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const xr=c.g;if(xr){const Ga=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var K=w.h;K.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&($n(K,K.h),K.h=null))}if(w.G){const Ds=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(w.wa=Ds,oe(w.J,w.G,Ds))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var ht=c;if(w.na=bu(w,w.L?w.ba:null,w.W),ht.L){Br(w.h,ht);var kt=ht,Ge=w.O;Ge&&(kt.H=Ge),kt.D&&(Ae(kt),me(kt)),w.g=ht}else yu(w);_.i.length>0&&Qr(_)}else ue[0]!="stop"&&ue[0]!="close"||Yr(_,7);else _.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Yr(_,7):jl(_):ue[0]!="noop"&&_.l&&_.l.qa(ue),_.A=0)}}Dn(4)}catch{}}var Re=class{constructor(c,y){this.g=c,this.map=y}};function Mn(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _n(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function On(c){return c.h?1:c.g?c.g.size:0}function En(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $n(c,y){c.g?c.g.add(y):c.h=y}function Br(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mn.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kr(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return D(c.i)}var Xt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pe(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const w=c[_].indexOf("=");let q,K=null;w>=0?(q=c[_].substring(0,w),K=c[_].substring(w+1)):q=c[_],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Xe(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Xe?(this.l=c.l,Ft(this,c.j),this.o=c.o,this.g=c.g,Zn(this,c.u),this.h=c.h,ji(this,gu(c.i)),this.m=c.m):c&&(y=String(c).match(Xt))?(this.l=!1,Ft(this,y[1]||"",!0),this.o=qr(y[2]||""),this.g=qr(y[3]||"",!0),Zn(this,y[4]),this.h=qr(y[5]||"",!0),ji(this,y[6]||"",!0),this.m=qr(y[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Xe.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ja(y,Ts,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ja(y,Ts,!0),"@"),c.push(st(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ja(_,_.charAt(0)=="/"?Vl:hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ja(_,du)),c.join("")},Xe.prototype.resolve=function(c){const y=ge(this);let _=!!c.j;_?Ft(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var w=c.h;if(_)Zn(y,c.u);else if(_=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ht=0;ht<q.length;){const kt=q[ht++];kt=="."?w&&ht==q.length&&K.push(""):kt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ht==q.length&&K.push("")):(K.push(kt),w=!0)}w=K.join("/")}else w=q}return _?y.h=w:_=c.i.toString()!=="",_?ji(y,gu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function ge(c){return new Xe(c)}function Ft(c,y,_){c.j=_?qr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Zn(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ji(c,y,_){y instanceof Bi?(c.i=y,Ss(c.i,c.l)):(_||(y=ja(y,Pi)),c.i=new Bi(y,c.l))}function oe(c,y,_){c.i.set(y,_)}function Ua(c){return oe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function qr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ja(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ln),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ts=/[#\/\?@]/g,hu=/[#\?:]/g,Vl=/[#\?]/g,Pi=/[#\?@]/g,du=/#/g;function Bi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pe(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Bi.prototype,i.add=function(c,y){zn(this),this.i=null,c=ki(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function mu(c,y){zn(c),y=ki(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ml(c,y){return zn(c),y=ki(c,y),c.g.has(y)}i.forEach=function(c,y){zn(this),this.g.forEach(function(_,w){_.forEach(function(q){c.call(y,q,w,this)},this)},this)};function Ol(c,y){zn(c);let _=[];if(typeof y=="string")Ml(c,y)&&(_=_.concat(c.g.get(ki(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return zn(this),this.i=null,c=ki(this,c),Ml(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ol(this,c),c.length>0?String(c[0]):y):y};function bs(c,y,_){mu(c,y),_.length>0&&(c.i=null,c.g.set(ki(c,y),D(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var _=y[w];const q=st(_);_=Ol(this,_);for(let K=0;K<_.length;K++){let ht=q;_[K]!==""&&(ht+="="+st(_[K])),c.push(ht)}}return this.i=c.join("&")};function gu(c){const y=new Bi;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ki(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ss(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(_,w){const q=w.toLowerCase();w!=q&&(mu(this,w),bs(this,q,_))},c)),c.j=y}function wr(c,y){const _=new Xn;if(h.Image){const w=new Image;w.onload=E(or,_,"TestLoadImage: loaded",!0,y,w),w.onerror=E(or,_,"TestLoadImage: error",!1,y,w),w.onabort=E(or,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(or,_,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ll(c,y){const _=new Xn,w=new AbortController,q=setTimeout(()=>{w.abort(),or(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?or(_,"TestPingServer: ok",!0,y):or(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),or(_,"TestPingServer: error",!1,y)})}function or(c,y,_,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(_)}catch{}}function qi(){this.g=new Oa}function Hr(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Hr,_s),Hr.prototype.g=function(){return new Pa(this.i,this.h)};function Pa(c,y){Ue.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Pa,Ue),i=Pa.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Rr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;As(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function As(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Hi(this):Rr(this),this.readyState==3&&As(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Hi(this))},i.Na=function(c){this.g&&(this.response=c,Hi(this))},i.ga=function(){this.g&&Hi(this)};function Hi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Rr(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ur(c){let y="";return Vt(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Ba(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=ur(_),typeof c=="string"?_!=null&&st(_):oe(c,y,_))}function pe(c){Ue.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(pe,Ue);var Fr=/^https?$/i,zl=["POST","PUT"];i=pe.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():j.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ka(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)_.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(zl,y,void 0)>=0)||w||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ht]of _)this.g.setRequestHeader(K,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){ka(this,K)}};function ka(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ul(c),ci(c)}function Ul(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Fe(this,"complete"),Fe(this,"abort"),ci(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),pe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?qa(this):this.Xa())},i.Xa=function(){qa(this)};function qa(c){if(c.h&&typeof u<"u"){if(c.v&&Cr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Fe(c,"readystatechange"),Cr(c)==4){c.h=!1;try{const K=c.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=K===0){let ht=String(c.D).match(Xt)[1]||null;!ht&&h.self&&h.self.location&&(ht=h.self.location.protocol.slice(0,-1)),w=!Fr.test(ht?ht.toLowerCase():"")}_=w}if(_)Fe(c,"complete"),Fe(c,"success");else{c.o=6;try{var q=Cr(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Ul(c)}}finally{ci(c)}}}}function ci(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||Fe(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Cr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qn(y)}};function fn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(c){const y={};c=(c.g&&Cr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(x(c[w]))continue;var _=ct(c[w]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[q]||[];y[q]=K,K.push(_)}Mt(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Fi(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,c),this.Za=Gr("retryDelaySeedMs",1e4,c),this.Ta=Gr("forwardChannelMaxRetries",2,c),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mn(c&&c.concurrentRequestLimit),this.Ba=new qi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Fi.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,w){Me(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=bu(this,null,this.W),Qr(this)};function jl(c){if(ws(c),c.I==3){var y=c.V++,_=ge(c.J);if(oe(_,"SID",c.M),oe(_,"RID",y),oe(_,"TYPE","terminate"),Ha(c,_),y=new yt(c,c.j,y),y.M=2,y.A=Ua(ge(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=Su(y.j,null),y.g.ea(y.A)),y.F=Date.now(),me(y)}Tu(c)}function Gi(c){c.g&&(Bl(c),c.g.cancel(),c.g=null)}function ws(c){Gi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Cs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Qr(c){if(!_n(c.h)&&!c.m){c.m=!0;var y=c.Ea;Rt||R(),St||(Rt(),St=!0),S.add(y,c),c.D=0}}function Rs(c,y){return On(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Kn(g(c.Ea,c,y),Eu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new yt(this,this.j,c);let K=this.o;if(this.U&&(K?(K=M(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=pu(this,q,y),_=ge(this.J),oe(_,"RID",c),oe(_,"CVER",22),this.G&&oe(_,"X-HTTP-Session-Id",this.G),Ha(this,_),K&&(this.R?y="headers="+st(ur(K))+"&"+y:this.u&&Ba(_,this.u,K)),$n(this.h,q),this.Ra&&oe(_,"TYPE","init"),this.S?(oe(_,"$req",y),oe(_,"SID","null"),q.U=!0,_t(q,_,null)):_t(q,_,y),this.I=2}}else this.I==3&&(c?Pl(this,c):this.i.length==0||_n(this.h)||Pl(this))};function Pl(c,y){var _;y?_=y.l:_=c.V++;const w=ge(c.J);oe(w,"SID",c.M),oe(w,"RID",_),oe(w,"AID",c.K),Ha(c,w),c.u&&c.o&&Ba(w,c.u,c.o),_=new yt(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=pu(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$n(c.h,_),_t(_,w,y)}function Ha(c,y){c.H&&Vt(c.H,function(_,w){oe(y,w,_)}),c.l&&Vt({},function(_,w){oe(y,w,_)})}function pu(c,y,_){_=Math.min(c.i.length,_);const w=c.l?g(c.l.Ka,c.l,c):null;t:{var q=c.i;let kt=-1;for(;;){const Ge=["count="+_];kt==-1?_>0?(kt=q[0].g,Ge.push("ofs="+kt)):kt=0:Ge.push("ofs="+kt);let ue=!0;for(let Oe=0;Oe<_;Oe++){var K=q[Oe].g;const cr=q[Oe].map;if(K-=kt,K<0)kt=Math.max(0,q[Oe].g-100),ue=!1;else try{K="req"+K+"_"||"";try{var ht=cr instanceof Map?cr:Object.entries(cr);for(const[Kr,Dr]of ht){let xr=Dr;m(Dr)&&(xr=ln(Dr)),Ge.push(K+Kr+"="+encodeURIComponent(xr))}}catch(Kr){throw Ge.push(K+"type="+encodeURIComponent("_badmap")),Kr}}catch{w&&w(cr)}}if(ue){ht=Ge.join("&");break t}}ht=void 0}return c=c.i.splice(0,_),y.G=c,ht}function yu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Rt||R(),St||(Rt(),St=!0),S.add(y,c),c.A=0}}function Fa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Kn(g(c.Da,c),Eu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Kn(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),Gi(this),vu(this))};function Bl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new yt(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=ge(c.na);oe(y,"RID","rpc"),oe(y,"SID",c.M),oe(y,"AID",c.K),oe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&oe(y,"TO",c.ia),oe(y,"TYPE","xmlhttp"),Ha(c,y),c.u&&c.o&&Ba(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Ua(ge(y)),_.u=null,_.R=!0,Ot(_,c)}i.Va=function(){this.C!=null&&(this.C=null,Gi(this),Fa(this),Me(19))};function Cs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function _u(c,y){var _=null;if(c.g==y){Cs(c),Bl(c),c.g=null;var w=2}else if(En(c.h,y))_=y.G,Br(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=Ui(),Fe(w,new lr(w,_)),Qr(c)}else yu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Rs(c,y)||w==2&&Fa(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),q){case 1:Yr(c,5);break;case 4:Yr(c,10);break;case 3:Yr(c,6);break;default:Yr(c,2)}}}function Eu(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Yr(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),w=c.Ua;const q=!w;w=new Xe(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ft(w,"https"),Ua(w),q?wr(w.toString(),_):Ll(w.toString(),_)}else Me(2);c.I=0,c.l&&c.l.pa(y),Tu(c),ws(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Tu(c){if(c.I=0,c.ja=[],c.l){const y=kr(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ja,y),k(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function bu(c,y,_){var w=_ instanceof Xe?ge(_):new Xe(_);if(w.g!="")y&&(w.g=y+"."+w.g),Zn(w,w.u);else{var q=h.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new Xe(null);w&&Ft(K,w),y&&(K.g=y),q&&Zn(K,q),_&&(K.h=_),w=K}return _=c.G,y=c.wa,_&&y&&oe(w,_,y),oe(w,"VER",c.ka),Ha(c,w),w}function Su(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new pe(new Hr({ab:_})):new pe(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}i=Au.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Qi(){}Qi.prototype.g=function(c,y){return new Nn(c,y)};function Nn(c,y){Ue.call(this),this.g=new Fi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new hi(this)}T(Nn,Ue),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){jl(this.g)},Nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=ln(c),c=_);y.i.push(new Re(y.Ya++,c)),y.I==3&&Qr(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Nn.Z.N.call(this)};function wu(c){Te.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(wu,Te);function Ru(){Cn.call(this),this.status=1}T(Ru,Cn);function hi(c){this.g=c}T(hi,Au),hi.prototype.ra=function(){Fe(this.g,"a")},hi.prototype.qa=function(c){Fe(this.g,new wu(c))},hi.prototype.pa=function(c){Fe(this.g,new Ru)},hi.prototype.oa=function(){Fe(this.g,"b")},Qi.prototype.createWebChannel=Qi.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,vE=function(){return new Qi},yE=function(){return Ui()},pE=Ve,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,qc=ui,N.COMPLETE="complete",gE=N,zi.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.J,Vo=zi,pe.prototype.listenOnce=pe.prototype.K,pe.prototype.getLastError=pe.prototype.Ha,pe.prototype.getLastErrorCode=pe.prototype.ya,pe.prototype.getStatus=pe.prototype.ca,pe.prototype.getResponseJson=pe.prototype.La,pe.prototype.getResponseText=pe.prototype.la,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Fa,mE=pe}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.8.0";function KR(i){wl=i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new lE("@firebase/firestore");function al(){return fs.logLevel}function vt(i,...t){if(fs.logLevel<=ie.DEBUG){const r=t.map(Mm);fs.debug(`Firestore (${wl}): ${i}`,...r)}}function Vi(i,...t){if(fs.logLevel<=ie.ERROR){const r=t.map(Mm);fs.error(`Firestore (${wl}): ${i}`,...r)}}function pl(i,...t){if(fs.logLevel<=ie.WARN){const r=t.map(Mm);fs.warn(`Firestore (${wl}): ${i}`,...r)}}function Mm(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(i,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,_E(i,s,r)}function _E(i,t,r){let s=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Vi(s),new Error(s)}function fe(i,t,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||_E(t,o,s)}function Bt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Al{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(An.UNAUTHENTICATED)))}shutdown(){}}class $R{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(t){this.t=t,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}}),0),h()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==t?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(fe(typeof s.accessToken=="string",31837,{l:s}),new EE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return fe(t===null||typeof t=="string",2055,{h:t}),new An(t)}}class JR{constructor(t,r,s){this.P=t,this.T=r,this.I=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class WR{constructor(t,r,s){this.P=t,this.T=r,this.I=s}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){fe(this.o===void 0,3512);const s=u=>{u.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,vt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(fe(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new D_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=e2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=t.charAt(o[u]%62))}return s}}function te(i,t){return i<t?-1:i>t?1:0}function rm(i,t){const r=Math.min(i.length,t.length);for(let s=0;s<r;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return qd(o)===qd(u)?te(o,u):qd(o)?1:-1}return te(i.length,t.length)}const n2=55296,r2=57343;function qd(i){const t=i.charCodeAt(0);return t>=n2&&t<=r2}function yl(i,t,r){return i.length===t.length&&i.every(((s,o)=>r(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Wr{constructor(t,r,s){r===void 0?r=0:r>t.length&&Lt(637,{offset:r,range:t.length}),s===void 0?s=t.length-r:s>t.length-r&&Lt(1746,{length:s,range:t.length-r}),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return Wr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Wr?t.forEach((s=>{r.push(s)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let o=0;o<s;o++){const u=Wr.compareSegments(t.get(o),r.get(o));if(u!==0)return u}return te(t.length,r.length)}static compareSegments(t,r){const s=Wr.isNumericId(t),o=Wr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Wr.extractNumericId(t).compare(Wr.extractNumericId(r)):rm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ta.fromString(t.substring(4,t.length-2))}}class Ce extends Wr{construct(t,r,s){return new Ce(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new Ce(r)}static emptyPath(){return new Ce([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Wr{construct(t,r,s){return new yn(t,r,s)}static isValidIdentifier(t){return i2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new yn([x_])}static fromServerFormat(t){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new yn(r)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(Ce.fromString(t))}static fromName(t){return new Dt(Ce.fromString(t).popFirst(5))}static empty(){return new Dt(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ce.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new Ce(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(i,t,r){if(!r)throw new pt(rt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function a2(i,t,r,s){if(t===!0&&s===!0)throw new pt(rt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function N_(i){if(!Dt.isDocumentKey(i))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function I_(i){if(Dt.isDocumentKey(i))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Lt(12329,{type:typeof i})}function vl(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=pf(i);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(i,t){const r={typeString:i};return t&&(r.value=t),r}function au(i,t){if(!bE(i))throw new pt(rt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){r=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new pt(rt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=-62135596800,M_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor((t-1e3*r)*M_);return new Ie(r,s)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<V_)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(t){return this.seconds===t.seconds?te(this.nanoseconds,t.nanoseconds):te(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(au(t,Ie._jsonSchema))return new Ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-V_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:nn("string",Ie._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new Ie(0,0))}static max(){return new Ut(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=-1;function s2(i,t){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ut.fromTimestamp(s===1e9?new Ie(r+1,0):new Ie(r,s));return new Sa(o,Dt.empty(),t)}function l2(i){return new Sa(i.readTime,i.key,Yo)}class Sa{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Sa(Ut.min(),Dt.empty(),Yo)}static max(){return new Sa(Ut.max(),Dt.empty(),Yo)}}function o2(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=Dt.comparator(i.documentKey,t.documentKey),r!==0?r:te(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(i){if(i.code!==rt.FAILED_PRECONDITION||i.message!==u2)throw i;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new it(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof it?r:it.resolve(r)}catch(r){return it.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):it.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):it.reject(r)}static resolve(t){return new it(((r,s)=>{r(t)}))}static reject(t){return new it(((r,s)=>{s(t)}))}static waitFor(t){return new it(((r,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&r()}),(p=>s(p)))})),h=!0,u===o&&r()}))}static or(t){let r=it.resolve(!1);for(const s of t)r=r.next((o=>o?it.resolve(o):s()));return r}static forEach(t,r){const s=[];return t.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(t,r){return new it(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;r(t[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(t,r){return new it(((s,o)=>{const u=()=>{t()===!0?r().next((()=>{u()}),o):s()};u()}))}}function f2(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Cl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function vf(i){return i==null}function Wc(i){return i===0&&1/i==-1/0}function h2(i){return typeof i=="number"&&Number.isInteger(i)&&!Wc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function d2(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=O_(t)),t=m2(i.get(r),t);return O_(t)}function m2(i,t){let r=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="";break;case SE:r+="";break;default:r+=u}}return r}function O_(i){return i+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function ms(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function AE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,r){this.comparator=t,this.root=r||pn.EMPTY}insert(t,r){return new Be(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Be(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,s)=>(t(r,s),!1)))}toString(){const t=[];return this.inorderTraversal(((r,s)=>(t.push(`${r}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?s(t.key,r):1,r&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,r,s,o,u){this.key=t,this.value=r,this.color=s??pn.RED,this.left=o??pn.EMPTY,this.right=u??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,o,u){return new pn(t??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,o=this;if(r(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(t,o.key)===0){if(o.right.isEmpty())return pn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Lt(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(t,r,s,o,u){return this}insert(t,r,s){return new pn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.comparator=t,this.data=new Be(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,s)=>(t(r),!1)))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;r(o.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(t){return new z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((s=>{r=r.add(s)})),r}isEqual(t){if(!(t instanceof sn)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new sn(this.comparator);return r.data=t,r}}class z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.fields=t,t.sort(yn.comparator)}static empty(){return new Mr([])}unionWith(t){let r=new sn(yn.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Mr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return yl(this.fields,t.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wE("Invalid base64 string: "+u):u}})(t);return new vn(r)}static fromUint8Array(t){const r=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new vn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return te(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(i){if(fe(!!i,39018),typeof i=="string"){let t=0;const r=g2.exec(i);if(fe(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ke(i.seconds),nanos:Ke(i.nanos)}}function Ke(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wa(i){return typeof i=="string"?vn.fromBase64String(i):vn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="server_timestamp",CE="__type__",DE="__previous_value__",xE="__local_write_time__";function zm(i){var r,s;return((s=(((r=i==null?void 0:i.mapValue)==null?void 0:r.fields)||{})[CE])==null?void 0:s.stringValue)===RE}function _f(i){const t=i.mapValue.fields[DE];return zm(t)?_f(t):t}function Ko(i){const t=Aa(i.mapValue.fields[xE].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,r,s,o,u,h,m,p,g,E,T){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const tf="(default)";class Xo{constructor(t,r){this.projectId=t,this.database=r||tf}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===tf}isEqual(t){return t instanceof Xo&&t.projectId===this.projectId&&t.database===this.database}}function y2(i,t){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(i.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__type__",v2="__max__",Lc={mapValue:{}},IE="__vector__",ef="value";function Ra(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?zm(i)?4:E2(i)?9007199254740991:_2(i)?10:11:Lt(28295,{value:i})}function ai(i,t){if(i===t)return!0;const r=Ra(i);if(r!==Ra(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ko(i).isEqual(Ko(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Aa(o.timestampValue),m=Aa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return wa(o.bytesValue).isEqual(wa(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ke(o.geoPointValue.latitude)===Ke(u.geoPointValue.latitude)&&Ke(o.geoPointValue.longitude)===Ke(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ke(o.integerValue)===Ke(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ke(o.doubleValue),m=Ke(u.doubleValue);return h===m?Wc(h)===Wc(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return yl(i.arrayValue.values||[],t.arrayValue.values||[],ai);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L_(h)!==L_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ai(h[p],m[p])))return!1;return!0})(i,t);default:return Lt(52216,{left:i})}}function $o(i,t){return(i.values||[]).find((r=>ai(r,t)))!==void 0}function _l(i,t){if(i===t)return 0;const r=Ra(i),s=Ra(t);if(r!==s)return te(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return te(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ke(u.integerValue||u.doubleValue),p=Ke(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return U_(i.timestampValue,t.timestampValue);case 4:return U_(Ko(i),Ko(t));case 5:return rm(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=wa(u),p=wa(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=te(m[g],p[g]);if(E!==0)return E}return te(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=te(Ke(u.latitude),Ke(h.latitude));return m!==0?m:te(Ke(u.longitude),Ke(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return j_(i.arrayValue,t.arrayValue);case 10:return(function(u,h){var A,D,k,Z;const m=u.fields||{},p=h.fields||{},g=(A=m[ef])==null?void 0:A.arrayValue,E=(D=p[ef])==null?void 0:D.arrayValue,T=te(((k=g==null?void 0:g.values)==null?void 0:k.length)||0,((Z=E==null?void 0:E.values)==null?void 0:Z.length)||0);return T!==0?T:j_(g,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Lc.mapValue&&h===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(h===Lc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=rm(p[T],E[T]);if(A!==0)return A;const D=_l(m[p[T]],g[E[T]]);if(D!==0)return D}return te(p.length,E.length)})(i.mapValue,t.mapValue);default:throw Lt(23264,{he:r})}}function U_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return te(i,t);const r=Aa(i),s=Aa(t),o=te(r.seconds,s.seconds);return o!==0?o:te(r.nanos,s.nanos)}function j_(i,t){const r=i.values||[],s=t.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=_l(r[o],s[o]);if(u)return u}return te(r.length,s.length)}function El(i){return im(i)}function im(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(r){const s=Aa(r);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(r){return wa(r).toBase64()})(i.bytesValue):"referenceValue"in i?(function(r){return Dt.fromName(r).toString()})(i.referenceValue):"geoPointValue"in i?(function(r){return`geo(${r.latitude},${r.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=im(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${im(r.fields[h])}`;return o+"}"})(i.mapValue):Lt(61005,{value:i})}function Hc(i){switch(Ra(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_f(i);return t?16+Hc(t):16;case 5:return 2*i.stringValue.length;case 6:return wa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Hc(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ms(s.fields,((u,h)=>{o+=u.length+Hc(h)})),o})(i.mapValue);default:throw Lt(13486,{value:i})}}function P_(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function am(i){return!!i&&"integerValue"in i}function Um(i){return!!i&&"arrayValue"in i}function B_(i){return!!i&&"nullValue"in i}function k_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fc(i){return!!i&&"mapValue"in i}function _2(i){var r,s;return((s=(((r=i==null?void 0:i.mapValue)==null?void 0:r.fields)||{})[NE])==null?void 0:s.stringValue)===IE}function jo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return ms(i.mapValue.fields,((r,s)=>t.mapValue.fields[r]=jo(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=jo(i.arrayValue.values[r]);return t}return{...i}}function E2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.value=t}static empty(){return new Er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!Fc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=jo(r)}setAll(t){let r=yn.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=m.popLast()}h?s[m.lastSegment()]=jo(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(t){const r=this.field(t.popLast());Fc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ai(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=r.mapValue.fields[t.get(s)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(t,r,s){ms(r,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new Er(jo(this.value))}}function VE(i){const t=[];return ms(i.fields,((r,s)=>{const o=new yn([r]);if(Fc(s)){const u=VE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Mr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t,r,s,o,u,h,m){this.key=t,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new wn(t,0,Ut.min(),Ut.min(),Ut.min(),Er.empty(),0)}static newFoundDocument(t,r,s,o){return new wn(t,1,r,Ut.min(),s,o,0)}static newNoDocument(t,r){return new wn(t,2,r,Ut.min(),Ut.min(),Er.empty(),0)}static newUnknownDocument(t,r){return new wn(t,3,r,Ut.min(),Ut.min(),Er.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,r){this.position=t,this.inclusive=r}}function q_(i,t,r){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=Dt.comparator(Dt.fromName(h.referenceValue),r.key):s=_l(h,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!ai(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,r="asc"){this.field=t,this.dir=r}}function T2(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class en extends ME{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new S2(t,r,s):r==="array-contains"?new R2(t,s):r==="in"?new C2(t,s):r==="not-in"?new D2(t,s):r==="array-contains-any"?new x2(t,s):new en(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new A2(t,s):new w2(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(_l(r,this.value)):r!==null&&Ra(this.value)===Ra(r)&&this.matchesComparison(_l(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends ME{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new zr(t,r)}matches(t){return OE(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(i){return i.op==="and"}function LE(i){return b2(i)&&OE(i)}function b2(i){for(const t of i.filters)if(t instanceof zr)return!1;return!0}function sm(i){if(i instanceof en)return i.field.canonicalString()+i.op.toString()+El(i.value);if(LE(i))return i.filters.map((t=>sm(t))).join(",");{const t=i.filters.map((r=>sm(r))).join(",");return`${i.op}(${t})`}}function zE(i,t){return i instanceof en?(function(s,o){return o instanceof en&&s.op===o.op&&s.field.isEqual(o.field)&&ai(s.value,o.value)})(i,t):i instanceof zr?(function(s,o){return o instanceof zr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&zE(h,o.filters[m])),!0):!1})(i,t):void Lt(19439)}function UE(i){return i instanceof en?(function(r){return`${r.field.canonicalString()} ${r.op} ${El(r.value)}`})(i):i instanceof zr?(function(r){return r.op.toString()+" {"+r.getFilters().map(UE).join(" ,")+"}"})(i):"Filter"}class S2 extends en{constructor(t,r,s){super(t,r,s),this.key=Dt.fromName(s.referenceValue)}matches(t){const r=Dt.comparator(t.key,this.key);return this.matchesComparison(r)}}class A2 extends en{constructor(t,r){super(t,"in",r),this.keys=jE("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class w2 extends en{constructor(t,r){super(t,"not-in",r),this.keys=jE("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function jE(i,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map((s=>Dt.fromName(s.referenceValue)))}class R2 extends en{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Um(r)&&$o(r.arrayValue,this.value)}}class C2 extends en{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&$o(this.value.arrayValue,r)}}class D2 extends en{constructor(t,r){super(t,"not-in",r)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!$o(this.value.arrayValue,r)}}class x2 extends en{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Um(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>$o(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t,r=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function F_(i,t=null,r=[],s=[],o=null,u=null,h=null){return new N2(i,t,r,s,o,u,h)}function jm(i){const t=Bt(i);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((s=>sm(s))).join(","),r+="|ob:",r+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>El(s))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>El(s))).join(",")),t.Te=r}return t.Te}function Pm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!T2(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!zE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!H_(i.startAt,t.startAt)&&H_(i.endAt,t.endAt)}function lm(i){return Dt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I2(i,t,r,s,o,u,h,m){return new su(i,t,r,s,o,u,h,m)}function Bm(i){return new su(i)}function G_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function V2(i){return Dt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function PE(i){return i.collectionGroup!==null}function Po(i){const t=Bt(i);if(t.Ie===null){t.Ie=[];const r=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),r.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new sn(yn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new rf(u,s))})),r.has(yn.keyField().canonicalString())||t.Ie.push(new rf(yn.keyField(),s))}return t.Ie}function ei(i){const t=Bt(i);return t.Ee||(t.Ee=M2(t,Po(i))),t.Ee}function M2(i,t){if(i.limitType==="F")return F_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rf(o.field,u)}));const r=i.endAt?new nf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nf(i.startAt.position,i.startAt.inclusive):null;return F_(i.path,i.collectionGroup,t,i.filters,i.limit,r,s)}}function om(i,t){const r=i.filters.concat([t]);return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function um(i,t,r){return new su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function Ef(i,t){return Pm(ei(i),ei(t))&&i.limitType===t.limitType}function BE(i){return`${jm(ei(i))}|lt:${i.limitType}`}function sl(i){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>UE(o))).join(", ")}]`),vf(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>El(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>El(o))).join(",")),`Target(${s})`})(ei(i))}; limitType=${i.limitType})`}function Tf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Po(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=q_(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Po(s),o)||s.endAt&&!(function(h,m,p){const g=q_(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Po(s),o))})(i,t)}function O2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kE(i){return(t,r)=>{let s=!1;for(const o of Po(i)){const u=L2(o,t,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function L2(i,t,r){const s=i.field.isKeyField()?Dt.comparator(t.key,r.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_l(p,g):Lt(42886)})(i.field,t,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Lt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,r]);o.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ms(this.inner,((r,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Be(Dt.comparator);function Mi(){return z2}const qE=new Be(Dt.comparator);function Mo(...i){let t=qE;for(const r of i)t=t.insert(r.key,r);return t}function HE(i){let t=qE;return i.forEach(((r,s)=>t=t.insert(r,s.overlayedDocument))),t}function us(){return Bo()}function FE(){return Bo()}function Bo(){return new gs((i=>i.toString()),((i,t)=>i.isEqual(t)))}const U2=new Be(Dt.comparator),j2=new sn(Dt.comparator);function ee(...i){let t=j2;for(const r of i)t=t.add(r);return t}const P2=new sn(te);function B2(){return P2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function GE(i){return{integerValue:""+i}}function k2(i,t){return h2(t)?GE(t):km(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this._=void 0}}function q2(i,t,r){return i instanceof Zo?(function(o,u){const h={fields:{[CE]:{stringValue:RE},[xE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zm(u)&&(u=_f(u)),u&&(h.fields[DE]=u),{mapValue:h}})(r,t):i instanceof Jo?YE(i,t):i instanceof Wo?KE(i,t):(function(o,u){const h=QE(o,u),m=Q_(h)+Q_(o.Ae);return am(h)&&am(o.Ae)?GE(m):km(o.serializer,m)})(i,t)}function H2(i,t,r){return i instanceof Jo?YE(i,t):i instanceof Wo?KE(i,t):r}function QE(i,t){return i instanceof af?(function(s){return am(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Zo extends bf{}class Jo extends bf{constructor(t){super(),this.elements=t}}function YE(i,t){const r=XE(t);for(const s of i.elements)r.some((o=>ai(o,s)))||r.push(s);return{arrayValue:{values:r}}}class Wo extends bf{constructor(t){super(),this.elements=t}}function KE(i,t){let r=XE(t);for(const s of i.elements)r=r.filter((o=>!ai(o,s)));return{arrayValue:{values:r}}}class af extends bf{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function Q_(i){return Ke(i.integerValue||i.doubleValue)}function XE(i){return Um(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,r){this.field=t,this.transform=r}}function G2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof Jo&&o instanceof Jo||s instanceof Wo&&o instanceof Wo?yl(s.elements,o.elements,ai):s instanceof af&&o instanceof af?ai(s.Ae,o.Ae):s instanceof Zo&&o instanceof Zo})(i.transform,t.transform)}class Q2{constructor(t,r){this.version=t,this.transformResults=r}}class Ni{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Sf{}function $E(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new JE(i.key,Ni.none()):new lu(i.key,i.data,Ni.none());{const r=i.data,s=Er.empty();let o=new sn(yn.comparator);for(let u of t.fields)if(!o.has(u)){let h=r.field(u);h===null&&u.length>1&&(u=u.popLast(),h=r.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ps(i.key,s,new Mr(o.toArray()),Ni.none())}}function Y2(i,t,r){i instanceof lu?(function(o,u,h){const m=o.value.clone(),p=K_(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,r):i instanceof ps?(function(o,u,h){if(!Gc(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=K_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(ZE(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,r):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,r)}function ko(i,t,r,s){return i instanceof lu?(function(u,h,m,p){if(!Gc(u.precondition,h))return m;const g=u.value.clone(),E=X_(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,t,r,s):i instanceof ps?(function(u,h,m,p){if(!Gc(u.precondition,h))return m;const g=X_(u.fieldTransforms,p,h),E=h.data;return E.setAll(ZE(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,r,s):(function(u,h,m){return Gc(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,r)}function K2(i,t){let r=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=QE(s.transform,o||null);u!=null&&(r===null&&(r=Er.empty()),r.set(s.field,u))}return r||null}function Y_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yl(s,o,((u,h)=>G2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class lu extends Sf{constructor(t,r,s,o=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Sf{constructor(t,r,s,o,u=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(i){const t=new Map;return i.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=i.data.field(r);t.set(r,s)}})),t}function K_(i,t,r){const s=new Map;fe(i.length===r.length,32656,{Ve:r.length,de:i.length});for(let o=0;o<r.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,H2(h,m,r[o]))}return s}function X_(i,t,r){const s=new Map;for(const o of i){const u=o.transform,h=r.data.field(o.field);s.set(o.field,q2(u,h,t))}return s}class JE extends Sf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X2 extends Sf{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,r,s,o){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Y2(u,t,s[o])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=ko(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=ko(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=FE();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=r.has(o.key)?null:m;const p=$E(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ut.min())})),s}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),ee())}isEqual(t){return this.batchId===t.batchId&&yl(this.mutations,t.mutations,((r,s)=>Y_(r,s)))&&yl(this.baseMutations,t.baseMutations,((r,s)=>Y_(r,s)))}}class qm{constructor(t,r,s,o){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(t,r,s){fe(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return U2})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new qm(t,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,re;function W2(i){switch(i){case rt.OK:return Lt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Lt(15467,{code:i})}}function WE(i){if(i===void 0)return Vi("GRPC error has no .code"),rt.UNKNOWN;switch(i){case tn.OK:return rt.OK;case tn.CANCELLED:return rt.CANCELLED;case tn.UNKNOWN:return rt.UNKNOWN;case tn.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case tn.INTERNAL:return rt.INTERNAL;case tn.UNAVAILABLE:return rt.UNAVAILABLE;case tn.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case tn.NOT_FOUND:return rt.NOT_FOUND;case tn.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case tn.ABORTED:return rt.ABORTED;case tn.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case tn.DATA_LOSS:return rt.DATA_LOSS;default:return Lt(39323,{code:i})}}(re=tn||(tn={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Ta([4294967295,4294967295],0);function $_(i){const t=tC().encode(i),r=new dE;return r.update(t),new Uint8Array(r.digest())}function Z_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ta([r,s],0),new Ta([o,u],0)]}class Hm{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Oo(`Invalid padding: ${r}`);if(s<0)throw new Oo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Ta.fromNumber(this.ge)}ye(t,r,s){let o=t.add(r.multiply(Ta.fromNumber(s)));return o.compare(eC)===1&&(o=new Ta([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=$_(t),[s,o]=Z_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(t,r,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Hm(u,o,r);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const r=$_(t),[s,o]=Z_(r);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,r,s,o,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const o=new Map;return o.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new Af(Ut.min(),o,new Be(te),Mi(),ee())}}class ou{constructor(t,r,s,o,u){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new ou(s,r,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,r,s,o){this.Se=t,this.removedTargetIds=r,this.key=s,this.De=o}}class tT{constructor(t,r){this.targetId=t,this.Ce=r}}class eT{constructor(t,r,s=vn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=o}}class J_{constructor(){this.ve=0,this.Fe=W_(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ee(),r=ee(),s=ee();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Lt(38017,{changeType:u})}})),new ou(this.Me,this.xe,t,r,s)}Ke(){this.Oe=!1,this.Fe=W_()}qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class nC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Mi(),this.He=zc(),this.Je=zc(),this.Ze=new Be(te)}Xe(t){for(const r of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const s=this.nt(r);switch(t.state){case 0:this.rt(r)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(t.resumeToken));break;default:Lt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(t){const r=t.targetId,s=t.Ce.count,o=this.ot(r);if(o){const u=o.target;if(lm(u))if(s===0){const h=new Dt(u.path);this.et(r,h,wn.newNoDocument(h,Ut.min()))}else fe(s===1,20013,{expectedCount:s});else{const h=this._t(r);if(h!==s){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(r);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,g)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let h,m;try{h=wa(s).toUint8Array()}catch(p){if(p instanceof wE)return pl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hm(h,o,u)}catch(p){return pl(p instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,r,s){return r.Ce.count===s-this.Pt(t,r.targetId)?0:2}Pt(t,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(r,u,null),o++)})),o}Tt(t){const r=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&lm(m.target)){const p=new Dt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,wn.newNoDocument(p,t))}u.Be&&(r.set(h,u.ke()),u.Ke())}}));let s=ee();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new Af(t,r,this.Ze,this.je,s);return this.je=Mi(),this.He=zc(),this.Je=zc(),this.Ze=new Be(te),o}Ye(t,r){if(!this.rt(t))return;const s=this.Et(t,r.key)?2:0;this.nt(t).qe(r.key,s),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(t)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(t))}et(t,r,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,r)?o.qe(r,1):o.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(t)),this.Je=this.Je.insert(r,this.Rt(r).add(t)),s&&(this.je=this.je.insert(r,s))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let r=this.ze.get(t);return r||(r=new J_,this.ze.set(t,r)),r}Rt(t){let r=this.Je.get(t);return r||(r=new sn(te),this.Je=this.Je.insert(t,r)),r}It(t){let r=this.He.get(t);return r||(r=new sn(te),this.He=this.He.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||vt("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J_),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function zc(){return new Be(Dt.comparator)}function W_(){return new Be(Dt.comparator)}const rC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aC={and:"AND",or:"OR"};class sC{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function cm(i,t){return i.useProto3Json||vf(t)?t:{value:t}}function sf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function lC(i,t){return sf(i,t.toTimestamp())}function ni(i){return fe(!!i,49232),Ut.fromTimestamp((function(r){const s=Aa(r);return new Ie(s.seconds,s.nanos)})(i))}function Fm(i,t){return fm(i,t).canonicalString()}function fm(i,t){const r=(function(o){return new Ce(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?r:r.child(t)}function rT(i){const t=Ce.fromString(i);return fe(oT(t),10190,{key:t.toString()}),t}function hm(i,t){return Fm(i.databaseId,t.path)}function Hd(i,t){const r=rT(t);if(r.get(1)!==i.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Dt(aT(r))}function iT(i,t){return Fm(i.databaseId,t)}function oC(i){const t=rT(i);return t.length===4?Ce.emptyPath():aT(t)}function dm(i){return new Ce(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aT(i){return fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function t0(i,t,r){return{name:hm(i,t),fields:r.value.mapValue.fields}}function uC(i,t){let r;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Lt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(fe(E===void 0||typeof E=="string",58123),vn.fromBase64String(E||"")):(fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),vn.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?rt.UNKNOWN:WE(g.code);return new pt(E,g.message||"")})(h);r=new eT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hd(i,s.document.name),u=ni(s.document.updateTime),h=s.document.createTime?ni(s.document.createTime):Ut.min(),m=new Er({mapValue:{fields:s.document.fields}}),p=wn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];r=new Qc(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Hd(i,s.document),u=s.readTime?ni(s.readTime):Ut.min(),h=wn.newNoDocument(o,u),m=s.removedTargetIds||[];r=new Qc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Hd(i,s.document),u=s.removedTargetIds||[];r=new Qc([],u,o,null)}else{if(!("filter"in t))return Lt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new J2(o,u),m=s.targetId;r=new tT(m,h)}}return r}function cC(i,t){let r;if(t instanceof lu)r={update:t0(i,t.key,t.value)};else if(t instanceof JE)r={delete:hm(i,t.key)};else if(t instanceof ps)r={update:t0(i,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof X2))return Lt(16599,{dt:t.type});r={verify:hm(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Zo)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof af)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Lt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:lC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Lt(27497)})(i,t.precondition)),r}function fC(i,t){return i&&i.length>0?(fe(t!==void 0,14353),i.map((r=>(function(o,u){let h=o.updateTime?ni(o.updateTime):ni(u);return h.isEqual(Ut.min())&&(h=ni(u)),new Q2(h,o.transformResults||[])})(r,t)))):[]}function hC(i,t){return{documents:[iT(i,t.path)]}}function dC(i,t){const r={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=iT(i,o);const u=(function(g){if(g.length!==0)return lT(zr.create(g,"and"))})(t.filters);u&&(r.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:ll(A.field),direction:pC(A.dir)}})(E)))})(t.orderBy);h&&(r.structuredQuery.orderBy=h);const m=cm(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:r,parent:o}}function mC(i){let t=oC(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){fe(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=(function(T){const A=sT(T);return A instanceof zr&&LE(A)?A.getFilters():[A]})(r.where));let h=[];r.orderBy&&(h=(function(T){return T.map((A=>(function(k){return new rf(ol(k.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(r.orderBy));let m=null;r.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,vf(A)?null:A})(r.limit));let p=null;r.startAt&&(p=(function(T){const A=!!T.before,D=T.values||[];return new nf(D,A)})(r.startAt));let g=null;return r.endAt&&(g=(function(T){const A=!T.before,D=T.values||[];return new nf(D,A)})(r.endAt)),I2(t,o,h,u,m,"F",p,g)}function gC(i,t){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:o})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function sT(i){return i.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ol(r.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(r.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ol(r.unaryFilter.field);return en.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ol(r.unaryFilter.field);return en.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}})(i):i.fieldFilter!==void 0?(function(r){return en.create(ol(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(r){return zr.create(r.compositeFilter.filters.map((s=>sT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}})(r.compositeFilter.op))})(i):Lt(30097,{filter:i})}function pC(i){return rC[i]}function yC(i){return iC[i]}function vC(i){return aC[i]}function ll(i){return{fieldPath:i.canonicalString()}}function ol(i){return yn.fromServerFormat(i.fieldPath)}function lT(i){return i instanceof en?(function(r){if(r.op==="=="){if(k_(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NAN"}};if(B_(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(k_(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NAN"}};if(B_(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(r.field),op:yC(r.op),value:r.value}}})(i):i instanceof zr?(function(r){const s=r.getFilters().map((o=>lT(o)));return s.length===1?s[0]:{compositeFilter:{op:vC(r.op),filters:s}}})(i):Lt(54877,{filter:i})}function _C(i){const t=[];return i.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function oT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function uT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,r,s,o,u=Ut.min(),h=Ut.min(),m=vn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.yt=t}}function TC(i){const t=mC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Sn=new SC}addToCollectionParentIndex(t,r){return this.Sn.add(r),it.resolve()}getCollectionParents(t,r){return it.resolve(this.Sn.getEntries(r))}addFieldIndex(t,r){return it.resolve()}deleteFieldIndex(t,r){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,r){return it.resolve()}getDocumentsMatchingTarget(t,r){return it.resolve(null)}getIndexType(t,r){return it.resolve(0)}getFieldIndexes(t,r){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,r){return it.resolve(Sa.min())}getMinOffsetFromCollectionGroup(t,r){return it.resolve(Sa.min())}updateCollectionGroup(t,r,s){return it.resolve()}updateIndexEntries(t,r){return it.resolve()}}class SC{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r]||new sn(Ce.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(t){const r=t.lastSegment(),s=t.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(t){return(this.index[t]||new sn(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class qn{static withCacheSize(t){return new qn(t,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(cT,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",AC=1048576;function r0([i,t],[r,s]){const o=te(i,r);return o===0?te(t,s):o}class wC{constructor(t){this.Pr=t,this.buffer=new sn(r0),this.Tr=0}Ir(){return++this.Tr}Er(t){const r=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();r0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class RC{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){vt(n0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Cl(r)?vt(n0,"Ignoring IndexedDB error during garbage collection: ",r):await Rl(r)}await this.Ar(3e5)}))}}class CC{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.dr(t).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(t,r){if(r===0)return it.resolve(yf.ce);const s=new wC(r);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,r,s){return this.Vr.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(e0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.gr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,r){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,r)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),al()<=ie.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function DC(i,t){return new CC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.changes=new gs((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,wn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?it.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,r,s,o){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,r)))).next((o=>(s!==null&&ko(s.mutation,o,Mr.empty(),Ie.now()),o)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.getLocalViewOfDocuments(t,s,ee()).next((()=>s))))}getLocalViewOfDocuments(t,r,s=ee()){const o=us();return this.populateOverlays(t,o,r).next((()=>this.computeViews(t,r,o,s).next((u=>{let h=Mo();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,r){const s=us();return this.populateOverlays(t,s,r).next((()=>this.computeViews(t,r,s,ee())))}populateOverlays(t,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{r.set(h,m)}))}))}computeViews(t,r,s,o){let u=Mi();const h=Bo(),m=(function(){return Bo()})();return r.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ps)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ko(E.mutation,g,E.mutation.getFieldMask(),Ie.now())):h.set(g.key,Mr.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),r.forEach(((g,E)=>m.set(g,new NC(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,r){const s=Bo();let o=new Be(((h,m)=>h-m)),u=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=r.get(p);if(g===null)return;let E=s.get(p)||Mr.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||ee()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=FE();E.forEach((A=>{if(!u.has(A)){const D=$E(r.get(A),s.get(A));D!==null&&T.set(A,D),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return it.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,r,s,o){return V2(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):PE(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,o):this.getDocumentsMatchingCollectionQuery(t,r,s,o)}getNextDocuments(t,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,o-u.size):it.resolve(us());let m=Yo,p=u;return h.next((g=>it.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,ee()))).next((E=>({batchId:m,changes:HE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Dt(r)).next((s=>{let o=Mo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,r,s,o){const u=r.collectionGroup;let h=Mo();return this.indexManager.getCollectionParents(t,u).next((m=>it.forEach(m,(p=>{const g=(function(T,A){return new su(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,wn.newInvalidDocument(E)))}));let m=Mo();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ko(E.mutation,g,Mr.empty(),Ie.now()),Tf(r,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,r){return it.resolve(this.Nr.get(r))}saveBundleMetadata(t,r){return this.Nr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(r)),it.resolve()}getNamedQuery(t,r){return it.resolve(this.Br.get(r))}saveNamedQuery(t,r){return this.Br.set(r.name,(function(o){return{name:o.name,query:TC(o.bundledQuery),readTime:ni(o.readTime)}})(r)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.overlays=new Be(Dt.comparator),this.Lr=new Map}getOverlay(t,r){return it.resolve(this.overlays.get(r))}getOverlays(t,r){const s=us();return it.forEach(r,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,r,s){return s.forEach(((o,u)=>{this.bt(t,r,u)})),it.resolve()}removeOverlaysForBatchId(t,r,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),it.resolve()}getOverlaysForCollection(t,r,s){const o=us(),u=r.length+1,h=new Dt(r.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,r,s,o){let u=new Be(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=us(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=us(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return it.resolve(m)}bt(t,r,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Z2(r,s));let u=this.Lr.get(r);u===void 0&&(u=ee(),this.Lr.set(r,u)),this.Lr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.kr=new sn(cn.Kr),this.qr=new sn(cn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,r){const s=new cn(t,r);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,r){t.forEach((s=>this.addReference(s,r)))}removeReference(t,r){this.Wr(new cn(t,r))}Qr(t,r){t.forEach((s=>this.removeReference(s,r)))}Gr(t){const r=new Dt(new Ce([])),s=new cn(r,t),o=new cn(r,t+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const r=new Dt(new Ce([])),s=new cn(r,t),o=new cn(r,t+1);let u=ee();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const r=new cn(t,0),s=this.kr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class cn{constructor(t,r){this.key=t,this.Hr=r}static Kr(t,r){return Dt.comparator(t.key,r.key)||te(t.Hr,r.Hr)}static Ur(t,r){return te(t.Hr,r.Hr)||Dt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new sn(cn.Kr)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $2(u,r,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new cn(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,r){return it.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,o=this.Xr(s),u=o<0?0:o;return it.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new cn(r,0),o=new cn(r,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),it.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new sn(te);return r.forEach((o=>{const u=new cn(o,0),h=new cn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),it.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,o=s.length+1;let u=s;Dt.isDocumentKey(u)||(u=u.child(""));const h=new cn(new Dt(u),0);let m=new sn(te);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),it.resolve(this.Yr(m))}Yr(t){const r=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&r.push(o)})),r}removeMutationBatch(t,r){fe(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return it.forEach(r.mutations,(o=>{const u=new cn(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,r){const s=new cn(r,0),o=this.Jr.firstAfterOrEqual(s);return it.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ei(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.ti=t,this.docs=(function(){return new Be(Dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return it.resolve(s?s.document.mutableCopy():wn.newInvalidDocument(r))}getEntries(t,r){let s=Mi();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))})),it.resolve(s)}getDocumentsMatchingQuery(t,r,s,o){let u=Mi();const h=r.path,m=new Dt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||o2(l2(E),s)<=0||(o.has(E.key)||Tf(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return it.resolve(u)}getAllFromCollectionGroup(t,r,s,o){Lt(9500)}ni(t,r){return it.forEach(this.docs,(s=>r(s)))}newChangeBuffer(t){return new UC(this)}getSize(t){return it.resolve(this.size)}}class UC extends xC{constructor(t){super(),this.Mr=t}applyChanges(t){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),it.waitFor(r)}getFromCache(t,r){return this.Mr.getEntry(t,r)}getAllFromCache(t,r){return this.Mr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.persistence=t,this.ri=new gs((r=>jm(r)),Pm),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=Tl._r()}forEachTarget(t,r){return this.ri.forEach(((s,o)=>r(o))),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.ii&&(this.ii=r),it.resolve()}lr(t){this.ri.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.oi=new Tl(r),this.highestTargetId=r),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,r){return this.lr(r),this.targetCount+=1,it.resolve()}updateTargetData(t,r){return this.lr(r),it.resolve()}removeTargetData(t,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,r,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=r&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),it.waitFor(u).next((()=>o))}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,r){const s=this.ri.get(r)||null;return it.resolve(s)}addMatchingKeys(t,r,s){return this.si.$r(r,s),it.resolve()}removeMatchingKeys(t,r,s){this.si.Qr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),it.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.si.Gr(r),it.resolve()}getMatchingKeysForTargetId(t,r){const s=this.si.jr(r);return it.resolve(s)}containsKey(t,r){return it.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(t,r){this._i={},this.overlays={},this.ai=new yf(0),this.ui=!1,this.ui=!0,this.ci=new OC,this.referenceDelegate=t(this),this.li=new jC(this),this.indexManager=new bC,this.remoteDocumentCache=(function(o){return new zC(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new EC(r),this.Pi=new VC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new MC,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this._i[t.toKey()];return s||(s=new LC(r,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,r,s){vt("MemoryPersistence","Starting transaction:",t);const o=new PC(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,r){return it.or(Object.values(this._i).map((s=>()=>s.containsKey(t,r))))}}class PC extends c2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Ai=null}static Vi(t){return new Qm(t)}get di(){if(this.Ai)return this.Ai;throw Lt(60996)}addReference(t,r,s){return this.Ri.addReference(s,r),this.di.delete(s.toString()),it.resolve()}removeReference(t,r,s){return this.Ri.removeReference(s,r),this.di.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),it.resolve()}removeTarget(t,r){this.Ri.Gr(r.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,r)))}Ti(){this.Ai=new Set}Ii(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.di,(s=>{const o=Dt.fromPath(s);return this.mi(t,o).next((u=>{u||r.removeEntry(o,Ut.min())}))})).next((()=>(this.Ai=null,r.apply(t))))}updateLimboDocument(t,r){return this.mi(t,r).next((s=>{s?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(t){return 0}mi(t,r){return it.or([()=>it.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class lf{constructor(t,r){this.persistence=t,this.fi=new gs((s=>d2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DC(this,r)}static Vi(t,r){return new lf(t,r)}Ti(){}Ii(t){return it.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>r.next((o=>s+o))))}pr(t){let r=0;return this.mr(t,(s=>{r++})).next((()=>r))}mr(t,r){return it.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?it.resolve():r(o)))))}removeTargets(t,r,s){return this.persistence.getTargetCache().removeTargets(t,r,s)}removeOrphanedDocuments(t,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(h=>this.wr(t,h,r).next((m=>{m||(s++,u.removeEntry(h,Ut.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,r){return this.fi.set(r,t.currentSequenceNumber),it.resolve()}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,r,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,r,s){return this.fi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,r){return this.fi.set(r,t.currentSequenceNumber),it.resolve()}hi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Hc(t.data.value)),r}wr(t,r,s){return it.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const o=this.fi.get(r);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,r,s,o){this.targetId=t,this.fromCache=r,this.Ts=s,this.Is=o}static Es(t,r){let s=ee(),o=ee();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ym(t,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Nw()?8:f2(Dw())>0?6:4})()}initialize(t,r){this.fs=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,s,o){const u={result:null};return this.gs(t,r).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(t,r,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new BC;return this.ys(t,r,h).next((m=>{if(u.result=m,this.As)return this.ws(t,r,h,m.size)}))})).next((()=>u.result))}ws(t,r,s,o){return s.documentReadCount<this.Vs?(al()<=ie.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",sl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(al()<=ie.DEBUG&&vt("QueryEngine","Query:",sl(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(al()<=ie.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",sl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ei(r))):it.resolve())}gs(t,r){if(G_(r))return it.resolve(null);let s=ei(r);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=um(r,null,"F"),s=ei(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=ee(...u);return this.fs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.bs(r,m);return this.Ss(r,g,h,p.readTime)?this.gs(t,um(r,null,"F")):this.Ds(t,g,r,p)}))))})))))}ps(t,r,s,o){return G_(r)||o.isEqual(Ut.min())?it.resolve(null):this.fs.getDocuments(t,s).next((u=>{const h=this.bs(r,u);return this.Ss(r,h,s,o)?it.resolve(null):(al()<=ie.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sl(r)),this.Ds(t,h,r,s2(o,Yo)).next((m=>m)))}))}bs(t,r){let s=new sn(kE(t));return r.forEach(((o,u)=>{Tf(t,u)&&(s=s.add(u))})),s}Ss(t,r,s,o){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,r,s){return al()<=ie.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",sl(r)),this.fs.getDocumentsMatchingQuery(t,r,Sa.min(),s)}Ds(t,r,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(r.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",qC=3e8;class HC{constructor(t,r,s,o){this.persistence=t,this.Cs=r,this.serializer=o,this.vs=new Be(te),this.Fs=new gs((u=>jm(u)),Pm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.vs)))}}function FC(i,t,r,s){return new HC(i,t,r,s)}async function hT(i,t){const r=Bt(i);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Os(t),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=ee();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function GC(i,t){const r=Bt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=r.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let D=it.resolve();return A.forEach((k=>{D=D.next((()=>E.getEntry(p,k))).next((Z=>{const X=g.docVersions.get(k);fe(X!==null,48541),Z.version.compareTo(X)<0&&(T.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(r,s,t,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ee();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function dT(i){const t=Bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.li.getLastRemoteSnapshotVersion(r)))}function QC(i,t){const r=Bt(i),s=t.snapshotVersion;let o=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=r.xs.newChangeBuffer({trackRemovals:!0});o=r.vs;const m=[];t.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(r.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>r.li.addMatchingKeys(u,E.addedDocuments,T))));let D=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(T,D),(function(Z,X,at){return Z.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qC?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(A,D,E)&&m.push(r.li.updateTargetData(u,D))}));let p=Mi(),g=ee();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(YC(u,h,t.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Ut.min())){const E=r.li.getLastRemoteSnapshotVersion(u).next((T=>r.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return it.waitFor(m).next((()=>h.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(r.vs=o,u)))}function YC(i,t,r){let s=ee(),o=ee();return r.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=Mi();return r.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ut.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):vt(Km,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function KC(i,t){const r=Bt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Lm),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function XC(i,t){const r=Bt(i);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.li.getTargetData(s,t).next((u=>u?(o=u,it.resolve(o)):r.li.allocateTargetId(s).next((h=>(o=new va(t,h,"TargetPurposeListen",s.currentSequenceNumber),r.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.vs=r.vs.insert(s.targetId,s),r.Fs.set(t,s.targetId)),s}))}async function mm(i,t,r){const s=Bt(i),o=s.vs.get(t),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Cl(h))throw h;vt(Km,`Failed to update sequence numbers for target ${t}: ${h}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function i0(i,t,r){const s=Bt(i);let o=Ut.min(),u=ee();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Bt(p),A=T.Fs.get(E);return A!==void 0?it.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,h,ei(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,r?o:Ut.min(),r?u:ee()))).next((m=>($C(s,O2(t),m),{documents:m,ks:u})))))}function $C(i,t,r){let s=i.Ms.get(t)||Ut.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(t,s)}class a0{constructor(){this.activeTargetIds=B2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZC{constructor(){this.vo=new a0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,r,s){this.Fo[t]=r}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new a0,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="ConnectivityMonitor";class l0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){vt(s0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){vt(s0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function gm(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",WC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class tD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,r,s,o,u){const h=gm(),m=this.Qo(t,r.toUriEncodedString());vt(Fd,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Im(g);return this.zo(t,m,p,s,E).then((T=>(vt(Fd,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw pl(Fd,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(t,r,s,o,u,h){return this.Wo(t,r,s,o,u)}Go(t,r,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,r){const s=WC[t];let o=`${this.qo}/v1/${r}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection",xo=(i,t,r)=>{i.listen(t,(s=>{try{r(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class hl extends tD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!hl.c_){const t=yE();xo(t,pE.STAT_EVENT,(r=>{r.stat===nm.PROXY?vt(bn,"STAT_EVENT: detected buffering proxy"):r.stat===nm.NOPROXY&&vt(bn,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(t,r,s,o,u){const h=gm();return new Promise(((m,p)=>{const g=new mE;g.setWithCredentials(!0),g.listenOnce(gE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case qc.NO_ERROR:const T=g.getResponseJson();vt(bn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case qc.TIMEOUT:vt(bn,`RPC '${t}' ${h} timed out`),p(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const A=g.getStatus();if(vt(bn,`RPC '${t}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const Z=(function(at){const tt=at.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(tt)>=0?tt:rt.UNKNOWN})(k.status);p(new pt(Z,k.message))}else p(new pt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{vt(bn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);vt(bn,`RPC '${t}' ${h} sending request:`,o),g.send(r,"POST",E,s,15)}))}T_(t,r,s){const o=gm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,r,s),m.encodeInitMessageHeaders=!0;const g=u.join("");vt(bn,`Creating RPC '${t}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const D=new eD({Ho:k=>{A?vt(bn,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(T||(vt(bn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),T=!0),vt(bn,`RPC '${t}' stream ${o} sending:`,k),E.send(k))},Jo:()=>E.close()});return xo(E,Vo.EventType.OPEN,(()=>{A||(vt(bn,`RPC '${t}' stream ${o} transport opened.`),D.i_())})),xo(E,Vo.EventType.CLOSE,(()=>{A||(A=!0,vt(bn,`RPC '${t}' stream ${o} transport closed`),D.o_(),this.E_(E))})),xo(E,Vo.EventType.ERROR,(k=>{A||(A=!0,pl(bn,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),D.o_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))})),xo(E,Vo.EventType.MESSAGE,(k=>{var Z;if(!A){const X=k.data[0];fe(!!X,16349);const at=X,tt=(at==null?void 0:at.error)||((Z=at[0])==null?void 0:Z.error);if(tt){vt(bn,`RPC '${t}' stream ${o} received error:`,tt);const lt=tt.status;let xt=(function(S){const R=tn[S];if(R!==void 0)return WE(R)})(lt),Rt=tt.message;xt===void 0&&(xt=rt.INTERNAL,Rt="Unknown error status: "+lt+" with message "+tt.message),A=!0,D.o_(new pt(xt,Rt)),E.close()}else vt(bn,`RPC '${t}' stream ${o} received:`,X),D.__(X)}})),hl.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((r=>r===t))}Go(t,r,s){super.Go(t,r,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(i){return new hl(i)}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(i){return new sC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hl.c_=!1;class mT{constructor(t,r,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=r,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&vt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class gT{constructor(t,r,s,o,u,h,m,p){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Vi(r.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(r)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{t((()=>{const o=new pt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,r){const s=this.Q_(this.D_);this.stream=this.j_(t,r),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return vt(o0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return r=>{this.Ci.enqueueAndForget((()=>this.D_===t?r():(vt(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rD extends gT{constructor(t,r,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}j_(t,r){return this.connection.T_("Listen",t,r)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=uC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Ut.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ut.min():h.readTime?ni(h.readTime):Ut.min()})(t);return this.listener.J_(r,s)}Z_(t){const r={};r.database=dm(this.serializer),r.addTarget=(function(u,h){let m;const p=h.target;if(m=lm(p)?{documents:hC(u,p)}:{query:dC(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=nT(u,h.resumeToken);const g=cm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ut.min())>0){m.readTime=sf(u,h.snapshotVersion.toTimestamp());const g=cm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=gC(this.serializer,t);s&&(r.labels=s),this.K_(r)}X_(t){const r={};r.database=dm(this.serializer),r.removeTarget=t,this.K_(r)}}class iD extends gT{constructor(t,r,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}H_(t){return fe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,fe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){fe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=fC(t.writeResults,t.commitTime),s=ni(t.commitTime);return this.listener.na(s,r)}ra(){const t={};t.database=dm(this.serializer),this.K_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((s=>cC(this.serializer,s)))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{}class sD extends aD{constructor(t,r,s,o){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,fm(r,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pt(rt.UNKNOWN,u.toString())}))}jo(t,r,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(t,fm(r,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pt(rt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function lD(i,t,r,s){return new sD(i,t,r,s)}class oD{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(r),this.aa=!1):vt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class uD{constructor(t,r,s,o,u){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ys(this)&&(vt(hs,"Restarting streams for network reachability change."),await(async function(p){const g=Bt(p);g.Ea.add(4),await uu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Rf(g)})(this))}))})),this.Va=new oD(s,o)}}async function Rf(i){if(ys(i))for(const t of i.Ra)await t(!0)}async function uu(i){for(const t of i.Ra)await t(!1)}function pT(i,t){const r=Bt(i);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),Jm(r)?Zm(r):Dl(r).O_()&&$m(r,t))}function Xm(i,t){const r=Bt(i),s=Dl(r);r.Ia.delete(t),s.O_()&&yT(r,t),r.Ia.size===0&&(s.O_()?s.L_():ys(r)&&r.Va.set("Unknown"))}function $m(i,t){if(i.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Dl(i).Z_(t)}function yT(i,t){i.da.$e(t),Dl(i).X_(t)}function Zm(i){i.da=new nC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),Dl(i).start(),i.Va.ua()}function Jm(i){return ys(i)&&!Dl(i).x_()&&i.Ia.size>0}function ys(i){return Bt(i).Ea.size===0}function vT(i){i.da=void 0}async function cD(i){i.Va.set("Online")}async function fD(i){i.Ia.forEach(((t,r)=>{$m(i,t)}))}async function hD(i,t){vT(i),Jm(i)?(i.Va.ha(t),Zm(i)):i.Va.set("Unknown")}async function dD(i,t,r){if(i.Va.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,t)}catch(s){vt(hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await of(i,s)}else if(t instanceof Qc?i.da.Xe(t):t instanceof tT?i.da.st(t):i.da.tt(t),!r.isEqual(Ut.min()))try{const s=await dT(i.localStore);r.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(vn.EMPTY_BYTE_STRING,E.snapshotVersion)),yT(u,p);const T=new va(E.target,p,g,E.sequenceNumber);$m(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,r)}catch(s){vt(hs,"Failed to raise snapshot:",s),await of(i,s)}}async function of(i,t,r){if(!Cl(t))throw t;i.Ea.add(1),await uu(i),i.Va.set("Offline"),r||(r=()=>dT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{vt(hs,"Retrying IndexedDB access"),await r(),i.Ea.delete(1),await Rf(i)}))}function _T(i,t){return t().catch((r=>of(i,r,t)))}async function Cf(i){const t=Bt(i),r=Ca(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;mD(t);)try{const o=await KC(t.localStore,s);if(o===null){t.Ta.length===0&&r.L_();break}s=o.batchId,gD(t,o)}catch(o){await of(t,o)}ET(t)&&TT(t)}function mD(i){return ys(i)&&i.Ta.length<10}function gD(i,t){i.Ta.push(t);const r=Ca(i);r.O_()&&r.Y_&&r.ea(t.mutations)}function ET(i){return ys(i)&&!Ca(i).x_()&&i.Ta.length>0}function TT(i){Ca(i).start()}async function pD(i){Ca(i).ra()}async function yD(i){const t=Ca(i);for(const r of i.Ta)t.ea(r.mutations)}async function vD(i,t,r){const s=i.Ta.shift(),o=qm.from(s,t,r);await _T(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Cf(i)}async function _D(i,t){t&&Ca(i).Y_&&await(async function(s,o){if((function(h){return W2(h)&&h!==rt.ABORTED})(o.code)){const u=s.Ta.shift();Ca(s).B_(),await _T(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cf(s)}})(i,t),ET(i)&&TT(i)}async function u0(i,t){const r=Bt(i);r.asyncQueue.verifyOperationInProgress(),vt(hs,"RemoteStore received new credentials");const s=ys(r);r.Ea.add(3),await uu(r),s&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Rf(r)}async function ED(i,t){const r=Bt(i);t?(r.Ea.delete(2),await Rf(r)):t||(r.Ea.add(2),await uu(r),r.Va.set("Unknown"))}function Dl(i){return i.ma||(i.ma=(function(r,s,o){const u=Bt(r);return u.sa(),new rD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:cD.bind(null,i),Yo:fD.bind(null,i),t_:hD.bind(null,i),J_:dD.bind(null,i)}),i.Ra.push((async t=>{t?(i.ma.B_(),Jm(i)?Zm(i):i.Va.set("Unknown")):(await i.ma.stop(),vT(i))}))),i.ma}function Ca(i){return i.fa||(i.fa=(function(r,s,o){const u=Bt(r);return u.sa(),new iD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:pD.bind(null,i),t_:_D.bind(null,i),ta:yD.bind(null,i),na:vD.bind(null,i)}),i.Ra.push((async t=>{t?(i.fa.B_(),await Cf(i)):(await i.fa.stop(),i.Ta.length>0&&(vt(hs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,r,s,o,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,o,u){const h=Date.now()+s,m=new Wm(t,r,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(i,t){if(Vi("AsyncQueue",`${t}: ${i}`),Cl(i))return new pt(rt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(t){return new dl(t.comparator)}constructor(t){this.comparator=t?(r,s)=>t(r,s)||Dt.comparator(r.key,s.key):(r,s)=>Dt.comparator(r.key,s.key),this.keyedMap=Mo(),this.sortedSet=new Be(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,s)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof dl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new dl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.ga=new Be(Dt.comparator)}track(t){const r=t.doc.key,s=this.ga.get(r);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(r,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(r):t.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Lt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,s)=>{t.push(s)})),t}}class bl{constructor(t,r,s,o,u,h,m,p,g){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,r,s,o,u){const h=[];return r.forEach((m=>{h.push({type:0,doc:m})})),new bl(t,r,dl.emptySet(r),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class bD{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=Bt(r),u=o.queries;o.queries=f0(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function f0(){return new gs((i=>BE(i)),Ef)}async function bT(i,t){const r=Bt(i);let s=3;const o=t.query;let u=r.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new TD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(h){const m=tg(h,`Initialization of query '${sl(t.query)}' failed`);return void t.onError(m)}r.queries.set(o,u),u.ba.push(t),t.va(r.onlineState),u.wa&&t.Fa(u.wa)&&eg(r)}async function ST(i,t){const r=Bt(i),s=t.query;let o=3;const u=r.queries.get(s);if(u){const h=u.ba.indexOf(t);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function SD(i,t){const r=Bt(i);let s=!1;for(const o of t){const u=o.query,h=r.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&eg(r)}function AD(i,t,r){const s=Bt(i),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(r);s.queries.delete(t)}function eg(i){i.Ca.forEach((t=>{t.next()}))}var pm,h0;(h0=pm||(pm={})).Ma="default",h0.Cache="cache";class AT{constructor(t,r,s){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new bl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=bl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.key=t}}class RT{constructor(t){this.key=t}}class wD{constructor(t,r){this.query=t,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ee(),this.mutatedKeys=ee(),this.eu=kE(t),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(t,r){const s=r?r.iu:new c0,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const A=o.get(E),D=Tf(this.query,T)?T:null,k=!!A&&this.mutatedKeys.has(A.key),Z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let X=!1;A&&D?A.data.isEqual(D.data)?k!==Z&&(s.track({type:3,doc:D}),X=!0):this.su(A,D)||(s.track({type:2,doc:D}),X=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!A&&D?(s.track({type:0,doc:D}),X=!0):A&&!D&&(s.track({type:1,doc:A}),X=!0,(p||g)&&(m=!0)),X&&(D?(h=h.add(D),u=Z?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(D,k){const Z=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Vt:X})}};return Z(D)-Z(k)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=r&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new bl(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=ee(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const r=[];return t.forEach((s=>{this.Ya.has(s)||r.push(new RT(s))})),this.Ya.forEach((s=>{t.has(s)||r.push(new wT(s))})),r}cu(t){this.Za=t.ks,this.Ya=ee();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class RD{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class CD{constructor(t){this.key=t,this.hu=!1}}class DD{constructor(t,r,s,o,u,h){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new gs((m=>BE(m)),Ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new Be(Dt.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xD(i,t,r=!0){const s=VT(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CT(s,t,r,!0),o}async function ND(i,t){const r=VT(i);await CT(r,t,!0,!1)}async function CT(i,t,r,s){const o=await XC(i.localStore,ei(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,r);let m;return s&&(m=await ID(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&r&&pT(i.remoteStore,o),m}async function ID(i,t,r,s,o){i.pu=(T,A,D)=>(async function(Z,X,at,tt){let lt=X.view.ru(at);lt.Ss&&(lt=await i0(Z.localStore,X.query,!1).then((({documents:S})=>X.view.ru(S,lt))));const xt=tt&&tt.targetChanges.get(X.targetId),Rt=tt&&tt.targetMismatches.get(X.targetId)!=null,St=X.view.applyChanges(lt,Z.isPrimaryClient,xt,Rt);return m0(Z,X.targetId,St.au),St.snapshot})(i,T,A,D);const u=await i0(i.localStore,t,!0),h=new wD(t,u.ks),m=h.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);m0(i,r,g.au);const E=new RD(t,r,h);return i.Tu.set(t,E),i.Iu.has(r)?i.Iu.get(r).push(t):i.Iu.set(r,[t]),g.snapshot}async function VD(i,t,r){const s=Bt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Ef(h,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&Xm(s.remoteStore,o.targetId),ym(s,o.targetId)})).catch(Rl)):(ym(s,o.targetId),await mm(s.localStore,o.targetId,!0))}async function MD(i,t){const r=Bt(i),s=r.Tu.get(t),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Xm(r.remoteStore,s.targetId))}async function OD(i,t,r){const s=kD(i);try{const o=await(function(h,m){const p=Bt(h),g=Ie.now(),E=m.reduce(((D,k)=>D.add(k.key)),ee());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let k=Mi(),Z=ee();return p.xs.getEntries(D,E).next((X=>{k=X,k.forEach(((at,tt)=>{tt.isValidDocument()||(Z=Z.add(at))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,k))).next((X=>{T=X;const at=[];for(const tt of m){const lt=K2(tt,T.get(tt.key).overlayedDocument);lt!=null&&at.push(new ps(tt.key,lt,VE(lt.value.mapValue),Ni.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,at,m)})).next((X=>{A=X;const at=X.applyToLocalDocumentSet(T,Z);return p.documentOverlayCache.saveOverlays(D,X.batchId,at)}))})).then((()=>({batchId:A.batchId,changes:HE(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new Be(te)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,r),await cu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=tg(o,"Failed to persist write");r.reject(u)}}async function DT(i,t){const r=Bt(i);try{const s=await QC(r.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=r.Au.get(u);h&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?fe(h.hu,14607):o.removedDocuments.size>0&&(fe(h.hu,42227),h.hu=!1))})),await cu(r,s,t)}catch(s){await Rl(s)}}function d0(i,t,r){const s=Bt(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Bt(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&eg(p)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function LD(i,t,r){const s=Bt(i);s.sharedClientState.updateQueryState(t,"rejected",r);const o=s.Au.get(t),u=o&&o.key;if(u){let h=new Be(Dt.comparator);h=h.insert(u,wn.newNoDocument(u,Ut.min()));const m=ee().add(u),p=new Af(Ut.min(),new Map,new Be(te),h,m);await DT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),rg(s)}else await mm(s.localStore,t,!1).then((()=>ym(s,t,r))).catch(Rl)}async function zD(i,t){const r=Bt(i),s=t.batch.batchId;try{const o=await GC(r.localStore,t);NT(r,s,null),xT(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await cu(r,o)}catch(o){await Rl(o)}}async function UD(i,t,r){const s=Bt(i);try{const o=await(function(h,m){const p=Bt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);NT(s,t,r),xT(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await cu(s,o)}catch(o){await Rl(o)}}function xT(i,t){(i.mu.get(t)||[]).forEach((r=>{r.resolve()})),i.mu.delete(t)}function NT(i,t,r){const s=Bt(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(r?u.reject(r):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function ym(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),r&&i.Pu.yu(s,r);i.Iu.delete(t),i.isPrimaryClient&&i.Vu.Gr(t).forEach((s=>{i.Vu.containsKey(s)||IT(i,s)}))}function IT(i,t){i.Eu.delete(t.path.canonicalString());const r=i.Ru.get(t);r!==null&&(Xm(i.remoteStore,r),i.Ru=i.Ru.remove(t),i.Au.delete(r),rg(i))}function m0(i,t,r){for(const s of r)s instanceof wT?(i.Vu.addReference(s.key,t),jD(i,s)):s instanceof RT?(vt(ng,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,t),i.Vu.containsKey(s.key)||IT(i,s.key)):Lt(19791,{wu:s})}function jD(i,t){const r=t.key,s=r.path.canonicalString();i.Ru.get(r)||i.Eu.has(s)||(vt(ng,"New document in limbo: "+r),i.Eu.add(s),rg(i))}function rg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const r=new Dt(Ce.fromString(t)),s=i.fu.next();i.Au.set(s,new CD(r)),i.Ru=i.Ru.insert(r,s),pT(i.remoteStore,new va(ei(Bm(r.path)),s,"TargetPurposeLimboResolution",yf.ce))}}async function cu(i,t,r){const s=Bt(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,t,r).then((g=>{var E;if((g||r)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ym.Es(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>it.forEach(g,(A=>it.forEach(A.Ts,(D=>E.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>it.forEach(A.Is,(D=>E.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!Cl(T))throw T;vt(Km,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const D=E.vs.get(A),k=D.snapshotVersion,Z=D.withLastLimboFreeSnapshotVersion(k);E.vs=E.vs.insert(A,Z)}}})(s.localStore,u))}async function PD(i,t){const r=Bt(i);if(!r.currentUser.isEqual(t)){vt(ng,"User change. New user:",t.toKey());const s=await hT(r.localStore,t);r.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new pt(rt.CANCELLED,h))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await cu(r,s.Ns)}}function BD(i,t){const r=Bt(i),s=r.Au.get(t);if(s&&s.hu)return ee().add(s.key);{let o=ee();const u=r.Iu.get(t);if(!u)return o;for(const h of u){const m=r.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function VT(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LD.bind(null,t),t.Pu.J_=SD.bind(null,t.eventManager),t.Pu.yu=AD.bind(null,t.eventManager),t}function kD(i){const t=Bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UD.bind(null,t),t}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return FC(this.persistence,new kC,t.initialUser,this.serializer)}Cu(t){return new fT(Qm.Vi,this.serializer)}Du(t){return new ZC}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class qD extends uf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){fe(this.persistence.referenceDelegate instanceof lf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RC(s,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new fT((s=>lf.Vi(s,r)),this.serializer)}}class vm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await ED(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bD})()}createDatastore(t){const r=wf(t.databaseInfo.databaseId),s=nD(t.databaseInfo);return lD(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return(function(s,o,u,h,m){return new uD(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(r=>d0(this.syncEngine,r,0)),(function(){return l0.v()?new l0:new JC})())}createSyncEngine(t,r){return(function(o,u,h,m,p,g,E){const T=new DD(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){const u=Bt(o);vt(hs,"RemoteStore shutting down."),u.Ea.add(5),await uu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Vi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="FirestoreClient";class HD{constructor(t,r,s,o,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this._databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{vt(Da,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(vt(Da,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=tg(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qd(i,t){i.asyncQueue.verifyOperationInProgress(),vt(Da,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let s=r.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await hT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function g0(i,t){i.asyncQueue.verifyOperationInProgress();const r=await FD(i);vt(Da,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener((s=>u0(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>u0(t.remoteStore,o))),i._onlineComponents=t}async function FD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){vt(Da,"Using user provided OfflineComponentProvider");try{await Qd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;pl("Error using user provided cache. Falling back to memory cache: "+r),await Qd(i,new uf)}}else vt(Da,"Using default OfflineComponentProvider"),await Qd(i,new qD(void 0));return i._offlineComponents}async function OT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(vt(Da,"Using user provided OnlineComponentProvider"),await g0(i,i._uninitializedComponentsProvider._online)):(vt(Da,"Using default OnlineComponentProvider"),await g0(i,new vm))),i._onlineComponents}function GD(i){return OT(i).then((t=>t.syncEngine))}async function LT(i){const t=await OT(i),r=t.eventManager;return r.onListen=xD.bind(null,t.syncEngine),r.onUnlisten=VD.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ND.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=MD.bind(null,t.syncEngine),r}function QD(i,t,r={}){const s=new xi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new MT({next:A=>{E.Nu(),h.enqueueAndForget((()=>ST(u,T)));const D=A.docs.has(m);!D&&A.fromCache?g.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?g.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new AT(Bm(m.path),E,{includeMetadataChanges:!0,Ka:!0});return bT(u,T)})(await LT(i),i.asyncQueue,t,r,s))),s.promise}function YD(i,t,r={}){const s=new xi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new MT({next:A=>{E.Nu(),h.enqueueAndForget((()=>ST(u,T))),A.fromCache&&p.source==="server"?g.reject(new pt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new AT(m,E,{includeMetadataChanges:!0,Ka:!0});return bT(u,T)})(await LT(i),i.asyncQueue,t,r,s))),s.promise}function KD(i,t){const r=new xi;return i.asyncQueue.enqueueAndForget((async()=>OD(await GD(i),t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="ComponentProvider",p0=new Map;function $D(i,t,r,s,o){return new p2(i,t,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,zT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firestore.googleapis.com",y0=!0;class v0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=y0}else this.host=t.host,this.ssl=t.ssl??y0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AC)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}a2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Df{constructor(t,r,s,o){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XR;switch(s.type){case"firstParty":return new WR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=p0.get(r);s&&(vt(XD,"Removing Datastore"),p0.delete(r),s.terminate())})(this),Promise.resolve()}}function ZD(i,t,r,s={}){var g;i=vl(i,Df);const o=Im(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${r}`;o&&(Sw(`https://${m}`),Cw("Firestore",!0)),u.host!==UT&&u.host!==m&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!$c(p,h)&&(i._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=An.MOCK_USER;else{E=Aw(s.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new An(A)}i._authCredentials=new $R(new EE(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xl(this.firestore,t,this._query)}}class an{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,s){if(au(r,an._jsonSchema))return new an(t,s||null,new Dt(Ce.fromString(r.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:nn("string",an._jsonSchemaVersion),referencePath:nn("string")};class ba extends xl{constructor(t,r,s){super(t,r,Bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new Dt(t))}withConverter(t){return new ba(this.firestore,t,this._path)}}function ig(i,t,...r){if(i=gl(i),TE("collection","path",t),i instanceof Df){const s=Ce.fromString(t,...r);return I_(s),new ba(i,null,s)}{if(!(i instanceof an||i instanceof ba))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ce.fromString(t,...r));return I_(s),new ba(i.firestore,null,s)}}function jT(i,t,...r){if(i=gl(i),arguments.length===1&&(t=Om.newId()),TE("doc","path",t),i instanceof Df){const s=Ce.fromString(t,...r);return N_(s),new an(i,null,new Dt(s))}{if(!(i instanceof an||i instanceof ba))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ce.fromString(t,...r));return N_(s),new an(i.firestore,i instanceof ba?i.converter:null,new Dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class E0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&vt(_0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const r=Gd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=Gd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Cl(t))throw t;vt(_0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",T0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(t,r,s){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const o=Wm.createAndSchedule(this,t,r,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Lt(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function T0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class xf extends Df{constructor(t,r,s,o){super(t,r,s,o),this.type="firestore",this._queue=new E0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E0(t),this._firestoreClient=void 0,await t}}}function JD(i,t){const r=typeof i=="object"?i:UR(),s=typeof i=="string"?i:tf,o=VR(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tw("firestore");u&&ZD(o,...u)}return o}function ag(i){if(i._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WD(i),i._firestoreClient}function WD(i){var s,o,u,h;const t=i._freezeSettings(),r=$D(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,t);i._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((h=t.localCache)!=null&&h._onlineComponentProvider)&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new HD(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tr(vn.fromBase64String(t))}catch(r){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Tr(vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Tr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(au(t,Tr._jsonSchema))return Tr.fromBase64String(t.bytes)}}Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:nn("string",Tr._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return te(this._lat,t._lat)||te(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(t){if(au(t,ri._jsonSchema))return new ri(t.latitude,t.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:nn("string",ri._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(au(t,Lr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new Lr(t.vectorValues);throw new pt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Lr._jsonSchemaVersion="firestore/vectorValue/1.0",Lr._jsonSchema={type:nn("string",Lr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=/^__.*__$/;class ex{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new ps(t,this.data,this.fieldMask,r,this.fieldTransforms):new lu(t,this.data,r,this.fieldTransforms)}}function BT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{dataSource:i})}}class lg{constructor(t,r,s,o,u,h){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new lg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var o;const r=(o=this.path)==null?void 0:o.child(t),s=this.contextWith({path:r,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){var o;const r=(o=this.path)==null?void 0:o.child(t),s=this.contextWith({path:r,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return cf(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(BT(this.dataSource)&&tx.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class nx{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||wf(t)}createContext(t,r,s,o=!1){return new lg({dataSource:t,methodName:r,targetDoc:s,path:yn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(i){const t=i._freezeSettings(),r=wf(i._databaseId);return new nx(i._databaseId,!!t.ignoreUndefinedProperties,r)}function rx(i,t,r,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,t,r,o);FT("Data must be an object, but it was:",h,s);const m=qT(s,h);let p,g;if(u.merge)p=new Mr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=Nf(t,T,r);if(!h.contains(A))throw new pt(rt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);lx(E,A)||E.push(A)}p=new Mr(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new ex(new Er(m),p,g)}class og extends sg{_toFieldTransform(t){return new F2(t.path,new Zo)}isEqual(t){return t instanceof og}}function ix(i,t,r,s=!1){return ug(r,i.createContext(s?4:3,t))}function ug(i,t){if(HT(i=gl(i)))return FT("Unsupported field value:",t,i),qT(i,t);if(i instanceof sg)return(function(s,o){if(!BT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ug(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=gl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return k2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ie.fromDate(s);return{timestampValue:sf(o.serializer,u)}}if(s instanceof Ie){const u=new Ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sf(o.serializer,u)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Tr)return{bytesValue:nT(o.serializer,s._byteString)};if(s instanceof an){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Lr)return(function(h,m){const p=h instanceof Lr?h.toArray():h;return{mapValue:{fields:{[NE]:{stringValue:IE},[ef]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return km(m.serializer,E)}))}}}}}})(s,o);if(uT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${pf(s)}`)})(i,t)}function qT(i,t){const r={};return AE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ms(i,((s,o)=>{const u=ug(o,t.childContextForField(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function HT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ie||i instanceof ri||i instanceof Tr||i instanceof an||i instanceof sg||i instanceof Lr||uT(i))}function FT(i,t,r){if(!HT(r)||!bE(r)){const s=pf(r);throw s==="an object"?t.createError(i+" a custom object"):t.createError(i+" "+s)}}function Nf(i,t,r){if((t=gl(t))instanceof PT)return t._internalPath;if(typeof t=="string")return sx(i,t);throw cf("Field path arguments must be of type string or ",i,!1,void 0,r)}const ax=new RegExp("[~\\*/\\[\\]]");function sx(i,t,r){if(t.search(ax)>=0)throw cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new PT(...t.split("."))._internalPath}catch{throw cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function cf(i,t,r,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new pt(rt.INVALID_ARGUMENT,m+i+p)}function lx(i,t){return i.some((r=>r.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{convertValue(t,r="none"){switch(Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Lt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return ms(t,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(t){var s,o,u;const r=(u=(o=(s=t.fields)==null?void 0:s[ef].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>Ke(h.doubleValue)));return new Lr(r)}convertGeoPoint(t){return new ri(Ke(t.latitude),Ke(t.longitude))}convertArray(t,r){return(t.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const s=_f(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ko(t));default:return null}}convertTimestamp(t){const r=Aa(t);return new Ie(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=Ce.fromString(t);fe(oT(s),9688,{name:t});const o=new Xo(s.get(1),s.get(3)),u=new Dt(s.popFirst(5));return o.isEqual(r)||Vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT extends ox{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tr(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,r)}}function ux(){return new og("serverTimestamp")}const b0="@firebase/firestore",S0="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,r,s,o,u){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const r=this._document.data.field(Nf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class cx extends QT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class hx extends cg{}function dx(i,t,...r){let s=[];t instanceof cg&&s.push(t),s=s.concat(r),(function(u){const h=u.filter((p=>p instanceof fg)).length,m=u.filter((p=>p instanceof If)).length;if(h>1||h>0&&m>0)throw new pt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class If extends hx{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new If(t,r,s)}_apply(t){const r=this._parse(t);return YT(t._query,r),new xl(t.firestore,t.converter,om(t._query,r))}_parse(t){const r=kT(t.firestore);return(function(u,h,m,p,g,E,T){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){w0(T,E);const k=[];for(const Z of T)k.push(A0(p,u,Z));A={arrayValue:{values:k}}}else A=A0(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||w0(T,E),A=ix(m,h,T,E==="in"||E==="not-in");return en.create(g,E,A)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function mx(i,t,r){const s=t,o=Nf("where",i);return If._create(o,s,r)}class fg extends cg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new fg(t,r)}_parse(t){const r=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:zr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)YT(h,p),h=om(h,p)})(t._query,r),new xl(t.firestore,t.converter,om(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(i,t,r){if(typeof(r=gl(r))=="string"){if(r==="")throw new pt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PE(t)&&r.indexOf("/")!==-1)throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(Ce.fromString(r));if(!Dt.isDocumentKey(s))throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return P_(i,new Dt(s))}if(r instanceof an)return P_(i,r._key);throw new pt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(r)}.`)}function w0(i,t){if(!Array.isArray(i)||i.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YT(i,t){const r=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new pt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function gx(i,t,r){let s;return s=i?i.toFirestore(t):t,s}class Lo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cs extends QT{constructor(t,r,s,o,u,h){super(t,r,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(Nf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=cs._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:nn("string",cs._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Yc extends cs{data(t={}){return super.data(t)}}class ml{constructor(t,r,s,o){this._firestore=t,this._userDataWriter=r,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((s=>{t.call(r,new Yc(this._firestore,this._userDataWriter,s.key,s,new Lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Lo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:px(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ml._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function px(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:i})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ml._jsonSchemaVersion="firestore/querySnapshot/1.0",ml._jsonSchema={type:nn("string",ml._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(i){i=vl(i,an);const t=vl(i.firestore,xf),r=ag(t);return QD(r,i._key).then((s=>Ex(t,i,s)))}function KT(i){i=vl(i,xl);const t=vl(i.firestore,xf),r=ag(t),s=new GT(t);return fx(i._query),YD(r,i._query).then((o=>new ml(t,s,i,o)))}function vx(i,t){const r=vl(i.firestore,xf),s=jT(i),o=gx(i.converter,t),u=kT(i.firestore);return _x(r,[rx(u,"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then((()=>s))}function _x(i,t){const r=ag(i);return KD(r,t)}function Ex(i,t,r){const s=r.docs.get(t._key),o=new GT(i);return new cs(i,o,t._key,s,new Lo(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){KR(zR),Jc(new Go("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new xf(new ZR(s.getProvider("auth-internal")),new t2(h,s.getProvider("app-check-internal")),y2(h,o),h);return u={useFetchStreams:r,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),fl(b0,S0,t),fl(b0,S0,"esm2020")})();var Tx="firebase",bx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fl(Tx,bx,"app");const Sx={apiKey:"AIzaSyBN3pZNnFjMkI3lnWI6wweUsWQeoKtjCuQ",authDomain:"coder-react-7c096.firebaseapp.com",projectId:"coder-react-7c096",storageBucket:"coder-react-7c096.firebasestorage.app",messagingSenderId:"1094863087411",appId:"1:1094863087411:web:da640aae9b2264d0460046"},Ax=cE(Sx),Vf=JD(Ax),wx=async()=>{const i=ig(Vf,"products");return(await KT(i)).docs.map(o=>({...o.data(),id:o.id}))},Rx=async i=>{const t=jT(Vf,"products",i),r=await yx(t);return{...r.data(),id:r.id}},Cx=async i=>{const t=ig(Vf,"products"),r=dx(t,mx("category","==",i));return(await KT(r)).docs.map(h=>({...h.data(),id:h.id}))},Dx=async i=>{const t=ig(Vf,"orders");return(await vx(t,{...i,createAt:ux()})).id},xx=()=>{const[i,t]=B.useState([]),[r,s]=B.useState(!0),[o,u]=B.useState(null),h=async()=>{try{s(!0);const m=await wx();t(m)}catch(m){u(String(m))}finally{s(!1)}};return B.useEffect(()=>{h()},[]),r?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Hola bienvenidos a Feed Good Food"}),L.jsx("p",{className:"opacity-70 text-center",children:"Cargando productos..."})]}):o?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Hola bienvenidos a Feed Good Food"}),L.jsxs("p",{className:"text-red-600",children:["Error: ",o]})]}):L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Hola bienvenidos a Feed Good Food",subtitle:"Elige favorito"}),L.jsx(nE,{products:i,showCategory:!0})]})},br=({onClick:i,children:t,variant:r="primary",disabled:s=!1,className:o="",type:u="button"})=>{const h="inline-flex items-center cursor-pointer border border-white/10 justify-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition focus:outline-none focus:ring-2 focus:ring-white/20",m={primary:"bg-blue-600 hover:bg-blue-500 text-white",secondary:"bg-white/10 hover:bg-white/15 text-white",ghost:"bg-transparent hover:bg-white/10 text-white",danger:"bg-red-600 hover:bg-red-500 text-white"};return L.jsx("button",{type:u,disabled:s,className:`${h}  ${m[r]} ${s?"opacity-50 pointer-events-none":""} ${o} `,onClick:i,children:t})},Nx=({stock:i,onAddToCart:t})=>{const[r,s]=B.useState(0);B.useEffect(()=>{s(i>0?1:0)},[i]);const o=r>1,u=r<i,h=i>0&&r>0,m=()=>{o&&s(E=>E-1)},p=()=>{u&&s(E=>E+1)},g=()=>{h&&t(r)};return L.jsxs("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/5 p-3",children:[L.jsx("p",{className:"opacity-70 text-sm mb-2",children:"Cantidad"}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(br,{variant:"ghost",onClick:m,disabled:!o,children:"-"}),L.jsx("span",{className:"min-w-10 text-center text-lg font-semibold",children:r}),L.jsx(br,{variant:"ghost",onClick:p,disabled:!u,children:"+"}),L.jsx(br,{variant:"primary",onClick:g,disabled:!h,children:"Agregar"})]})]})},fu=B.createContext({}),Ix=()=>{const i=localStorage.getItem("Cart-Product");return i?JSON.parse(i):[]},Vx=({children:i})=>{const[t,r]=B.useState(Ix()),s=B.useMemo(()=>{let g=0;return t.forEach(E=>g+=E.quantity),g},[t]),o=(g,E)=>{r(T=>{const A=T.findIndex(D=>D.product.id===g.id);if(A>=0){const D=[...T];return D[A]={...D[A],quantity:D[A].quantity+E},D}return[...T,{product:g,quantity:E}]})},u=g=>{r(E=>E.filter(T=>T.product.id!==g))},h=()=>{r([])},m=g=>{r(E=>E.map(T=>{if(T.product.id!==g)return T;const A=Math.min(T.product.stock,T.quantity+1);return{...T,quantity:A}}))},p=g=>{r(E=>E.map(T=>{if(T.product.id!==g)return T;const A=Math.max(0,T.quantity-1);return{...T,quantity:A}}).filter(T=>T.quantity>0))};return B.useEffect(()=>{localStorage.setItem("Cart-Product",JSON.stringify(t))},[t]),L.jsx(fu.Provider,{value:{carts:t,totalItems:s,addItem:o,removeItem:u,clearCart:h,increaseItem:m,decreaseItem:p},children:i})},Mx=({product:i})=>{const{addItem:t}=B.use(fu),r=s=>{t(i,s)};return L.jsxs("article",{className:"w-full flex flex-col items-center justify-center gap-5 mt-6 lg:flex-row",children:[L.jsx("div",{className:"rounded-xl overflow-hidden border border-white/10 bg-white/5",children:L.jsx("img",{src:i.img,alt:i.title,className:"  w-full h-80 object-cover"})}),L.jsxs("div",{className:"rounded-xl lg:h-80  border sm:w-120 border-white/10 bg-white/5 p-4",children:[L.jsx("p",{className:"opacity-70 mb-1 capitalize",children:i.category}),L.jsx("h2",{className:"text-2xl font-semibold",children:i.title}),L.jsxs("p",{className:"my-4 opacity-90 ",children:[L.jsx("span",{className:"opacity-70",children:"Descripcin:"})," ",i.description]}),L.jsxs("div",{className:"mt-4 flex flex-wrap gap-6",children:[L.jsxs("span",{className:"text-xl font-semibold",children:["USD: ",i.price," "]}),L.jsxs("span",{className:"text-xl opacity-70",children:[" Stock: ",i.stock," "]})]}),L.jsx(Nx,{stock:i.stock,onAddToCart:r})]})]})},Ox=()=>{const{idProduct:i}=wm(),t=ru(),[r,s]=B.useState(null),[o,u]=B.useState(!0),[h,m]=B.useState(null),p=async()=>{try{if(m(null),u(!0),!i){m("No se encontro el producto"),s(null);return}const g=await Rx(i);s(g)}catch(g){m(String(g)),s(null)}finally{u(!1)}};return B.useEffect(()=>{p()},[i]),o?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Cargando..."}),L.jsx("p",{className:"text-center opacity-70",children:"Cargando detalle del producto"})]}):h?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Detalle del producto"}),L.jsxs("p",{className:"text-center text-red-400",children:["Error: ",h]}),L.jsx("div",{className:"flex justify-center mt-4",children:L.jsx(br,{variant:"ghost",onClick:()=>t("/"),children:"volver"})})]}):L.jsx(L.Fragment,{children:r?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Comida y Bebidas para sentirse bien"}),L.jsx(Mx,{product:r})]}):L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Detalle del producto"}),L.jsx("p",{className:"text-center opacity-70",children:"No se encontr el producto."}),L.jsx("div",{className:"flex justify-center mt-4",children:L.jsx(br,{variant:"ghost",onClick:()=>t("/"),children:"volver"})})]})})};function Lx({count:i=0}){return L.jsxs("div",{className:"relative flex items-center cursor-pointer select-none",children:[L.jsx("span",{className:"text-2xl",children:""}),i>0&&L.jsx("span",{className:"absolute -top-2 -right-2 min-w-4.5 h-4.5 px-1 rounded-full text-[11px] flex items-center justify-center bg-red-600 text-white border border-white/10",children:i})]})}const zx=()=>{const{totalItems:i}=B.use(fu),t=({isActive:r})=>r?"font-semibold underline":"opacity-80 hover:opacity-100";return L.jsx("header",{className:"w-full border-b flex",children:L.jsxs("nav",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between w-full p-4",children:[L.jsx(Or,{to:"/",className:"text-2xl font-thin",children:"Feed Good Food"}),L.jsxs("ul",{className:"flex flex-wrap items-center gap-4 sm:flex-nowrap sm:gap-6",children:[L.jsx("li",{children:L.jsx(kc,{to:"/categoria/comidas",className:t,children:"Comidas"})}),L.jsx("li",{children:L.jsx(kc,{to:"/categoria/bebidas",className:t,children:"Bebidas"})}),L.jsx("li",{children:L.jsx(kc,{to:"/categoria/postres",className:t,children:"Postres"})}),L.jsx("li",{children:L.jsx(Or,{to:"/carrito",className:"opacity-90 hover:opacity-100",children:L.jsx(Lx,{count:i})})})]})]})})},Ux=()=>L.jsxs(L.Fragment,{children:[L.jsx(zx,{}),L.jsx("main",{className:"p-4 ",children:L.jsx(DA,{})})]}),jx=["bebidas","comidas","postres"],Px=()=>{const[i,t]=B.useState([]),[r,s]=B.useState(!0),[o,u]=B.useState(""),{slug:h}=wm(),m=ru(),p=async()=>{try{if(s(!0),u(null),!h||!jx.includes(h)){u("Categoria no valida"),t([]);return}const g=await Cx(h);t(g)}catch(g){u(String(g))}finally{s(!1)}};return B.useEffect(()=>{p()},[h]),r?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:`${h}`}),L.jsx("p",{className:"text-center opacity-70",children:"Cargando Productos..."})]}):o?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Hola bienvenidos a Feed Good Food"}),L.jsxs("p",{className:"text-red-600 text-center",children:["Error: ",o]}),L.jsx("div",{className:"flex justify-center mt-4",children:L.jsx(br,{variant:"ghost",onClick:()=>m("/"),children:"volver"})})]}):L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:` ${h}`,subtitle:"Elige tu favorito"}),L.jsx(nE,{products:i})]})},Bx=()=>{const{carts:i,totalItems:t,removeItem:r,clearCart:s,decreaseItem:o,increaseItem:u}=B.use(fu),h=B.useMemo(()=>i.reduce((m,p)=>m+p.product.price*p.quantity,0),[i]);return i.length===0?L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Carrito de Compras",subtitle:"Todavia no agregaste Productos"}),L.jsxs("div",{className:"mt-6 rounded-xl border border-white/10 bg-white/5 p-4 text-center",children:[L.jsx("p",{className:"opacity-80",children:"Tu carrito Esta vacio."}),L.jsx("p",{className:"opacity-60 mt-1",children:"Explora nuestros productos y agrega favoritos."}),L.jsx("div",{className:"mt-4 flex justify-center",children:L.jsx(Or,{to:"/",className:"underline opacity-90 hover:opacity-100",children:"Volver al inicio"})})]})]}):L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Carrito de Compras",subtitle:`Tienes ${t} ${t===1?"producto":"productos"} en el carrito`}),L.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-[1fr_360px]",children:[L.jsx("section",{className:"space-y-4",children:i.map(({product:m,quantity:p})=>{const g=m.price*p;return L.jsxs("article",{className:"rounded-xl border border-white/10 bg-white/5 p-4 flex flex-col sm:flex-row sm:items-center gap-4",children:[L.jsx("img",{src:m.img,alt:m.title,className:"w-full sm:w-20 h-44 sm:h-20 object-cover rounded-lg border border-white/10"}),L.jsxs("div",{className:"flex-1 min-w-0",children:[L.jsx("p",{className:"font-semibold truncate",children:m.title}),L.jsx("p",{className:"text-sm opacity-80 capitalize ",children:m.category}),L.jsxs("div",{className:"mt-3 grid gap-2 text-sm sm:grid-cols-2 sm:items-center",children:[L.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 opacity-90",children:[L.jsxs("span",{children:["Precio: USD ",m.price.toFixed(2)]}),L.jsxs("span",{className:"font-semibold",children:["Subtotal: USD ",g.toFixed(2)]})]}),L.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[L.jsx("span",{className:"opacity-80",children:"Cantidad:"}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(br,{variant:"ghost",onClick:()=>o(m.id),disabled:p<=1,children:"-"}),L.jsx("span",{className:"min-w-8 text-center font-semibold",children:p}),L.jsx(br,{variant:"ghost",onClick:()=>u(m.id),disabled:p>=m.stock,children:"+"})]})]})]})]}),L.jsxs("div",{className:"flex flex-col gap-3",children:[L.jsx(br,{onClick:()=>r(m.id),children:"Quitar"}),L.jsx(Or,{to:`/productos/${m.id}`,className:"text-xs underline opacity-80 hover:opacity-100 text-center",children:"Ver detalle"})]})]},m.id)})}),L.jsxs("aside",{className:"rounded-xl border mt-3 border-white/10 bg-white/5 p-4 h-fit",children:[L.jsx("h3",{className:"text-lg font-semibold",children:"Resumen"}),L.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[L.jsxs("div",{className:"flex justify-between opacity-80",children:[L.jsx("span",{children:"Totoal Productos"}),L.jsx("span",{children:t})]}),L.jsxs("div",{className:"flex justify-between opacity-80",children:[L.jsx("span",{children:"Total a pagar"}),L.jsxs("span",{className:"font-semibold",children:["USD ",h.toFixed(2)]})]}),L.jsx("div",{className:"pt-3 border-t border-white/10"})]}),L.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[L.jsx(Or,{className:"bg-blue-500 p-2 rounded-md text-center",to:"/checkout",children:"Finalizar compra"}),L.jsx(br,{variant:"secondary",onClick:s,children:"Vaciar carrito"})]}),L.jsx("p",{className:"mt-3 text-xs opacity-60",children:"* Checkout es solo visual por ahora."})]})]})]})},kx=()=>{const i=ru(),{carts:t,totalItems:r,clearCart:s}=B.useContext(fu),o=B.useMemo(()=>t.reduce((tt,lt)=>tt+lt.product.price*lt.quantity,0),[t]),[u,h]=B.useState(""),[m,p]=B.useState(""),[g,E]=B.useState(""),[T,A]=B.useState(""),[D,k]=B.useState(!1),[Z,X]=B.useState(null);if(t.length===0)return L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Checkout",subtitle:"Tu carrito est vaco"}),L.jsxs("div",{className:"mt-6 rounded-xl border border-white/10 bg-white/5 p-6 text-center",children:[L.jsx("p",{className:"opacity-80",children:"Agreg productos antes de finalizar."}),L.jsx("div",{className:"mt-4",children:L.jsx(Or,{to:"/",className:"underline opacity-90 hover:opacity-100",children:"Volver al inicio"})})]})]});const at=async tt=>{if(tt.preventDefault(),X(null),!u.trim()||!m.trim()){X("Nombre y email son obligatorios.");return}try{k(!0);const lt=t.map(St=>({productId:St.product.id,title:St.product.title,price:St.product.price,quantity:St.quantity})),xt={buyer:{name:u.trim(),email:m.trim(),phone:g.trim()||"",address:T.trim()||""},items:lt,totalItems:r,totalPrice:o},Rt=await Dx(xt);s(),i(`/checkout/success/${Rt}`)}catch(lt){X(String(lt))}finally{k(!1)}};return L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Checkout",subtitle:"Complet tus datos para finalizar"}),L.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-[1fr_360px]",children:[L.jsxs("form",{onSubmit:at,className:"rounded-xl border border-white/10 bg-white/5 p-4 space-y-3",children:[L.jsxs("div",{children:[L.jsx("label",{className:"text-sm opacity-80",children:"Nombre *"}),L.jsx("input",{className:"mt-1 w-full rounded-xl bg-black/20 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-white/20",value:u,onChange:tt=>h(tt.target.value),placeholder:"Tu nombre"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-sm opacity-80",children:"Email *"}),L.jsx("input",{type:"email",className:"mt-1 w-full rounded-xl bg-black/20 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-white/20",value:m,onChange:tt=>p(tt.target.value),placeholder:"tu@email.com"})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-sm opacity-80",children:"Telfono"}),L.jsx("input",{className:"mt-1 w-full rounded-xl bg-black/20 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-white/20",value:g,onChange:tt=>E(tt.target.value),placeholder:"+54 ..."})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-sm opacity-80",children:"Direccin"}),L.jsx("input",{className:"mt-1 w-full rounded-xl bg-black/20 border border-white/10 px-3 py-2 outline-none focus:ring-2 focus:ring-white/20",value:T,onChange:tt=>A(tt.target.value),placeholder:"Calle, nmero, ciudad"})]}),Z&&L.jsx("p",{className:"text-red-400 text-sm",children:Z}),L.jsxs("div",{className:"pt-2 flex gap-2",children:[L.jsx(br,{variant:"secondary",onClick:()=>i(-1),disabled:D,children:"Volver"}),L.jsx(br,{variant:"primary",type:"submit",disabled:D,children:D?"Procesando...":"Confirmar compra"})]})]}),L.jsxs("aside",{className:"rounded-xl border border-white/10 bg-white/5 p-4 h-fit lg:sticky lg:top-4",children:[L.jsx("h3",{className:"text-lg font-semibold",children:"Resumen"}),L.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[L.jsxs("div",{className:"flex justify-between opacity-80",children:[L.jsx("span",{children:"Items"}),L.jsx("span",{children:r})]}),L.jsxs("div",{className:"flex justify-between opacity-80",children:[L.jsx("span",{children:"Total"}),L.jsxs("span",{className:"font-semibold",children:["USD ",o.toFixed(2)]})]})]}),L.jsx("div",{className:"pt-3 mt-3 border-t border-white/10",children:L.jsx("p",{className:"text-xs opacity-60",children:"Se guardar tu compra en Firestore."})})]})]})]})},qx=()=>{const{orderId:i}=wm();return L.jsxs(L.Fragment,{children:[L.jsx(Vn,{title:"Compra confirmada ",subtitle:"Gracias por tu compra"}),L.jsxs("div",{className:"mt-6 rounded-xl border border-white/10 bg-white/5 p-6 text-center",children:[L.jsx("p",{className:"opacity-80",children:"Tu codigo de orden es:"}),L.jsx("p",{className:"mt-2 text-lg font-semibold",children:i}),L.jsx("div",{className:"mt-4",children:L.jsx(Or,{to:"/",className:"underline opacity-90 hover:opacity-100",children:"Volver al inicio"})})]})]})},Hx=WA([{path:"/",element:L.jsx(Ux,{}),children:[{index:!0,element:L.jsx(xx,{})},{path:"categoria/:slug",element:L.jsx(Px,{})},{path:"productos/:idProduct",element:L.jsx(Ox,{})},{path:"carrito",element:L.jsx(Bx,{})},{path:"checkout",element:L.jsx(kx,{})},{path:"checkout/success/:orderId",element:L.jsx(qx,{})},{path:"*",element:L.jsx(CA,{to:"/"})}]}]),Fx=()=>L.jsx(Vx,{children:L.jsx("div",{className:"bg-gradient ",children:L.jsx(AA,{router:Hx})})});jb.createRoot(document.getElementById("root")).render(L.jsx(B.StrictMode,{children:L.jsx(Fx,{})}));
